Index: frameworks/base/packages/SystemUI/assets/lscreen.version
===================================================================
--- frameworks/base/packages/SystemUI/assets/lscreen.version	(revision 0)
+++ frameworks/base/packages/SystemUI/assets/lscreen.version	(revision 1158)
@@ -0,0 +1 @@
+1035
\ No newline at end of file
Index: frameworks/base/packages/SystemUI/assets/app_info_db.db
===================================================================
Cannot display: file marked as a binary type.
svn:mime-type = application/octet-stream
Index: frameworks/base/packages/SystemUI/assets/app_info_db.db
===================================================================
--- frameworks/base/packages/SystemUI/assets/app_info_db.db	(revision 0)
+++ frameworks/base/packages/SystemUI/assets/app_info_db.db	(revision 1158)

Property changes on: frameworks/base/packages/SystemUI/assets/app_info_db.db
___________________________________________________________________
Added: svn:mime-type
## -0,0 +1 ##
+application/octet-stream
\ No newline at end of property
Index: frameworks/base/packages/SystemUI/assets/LScreen.apk
===================================================================
Cannot display: file marked as a binary type.
svn:mime-type = application/octet-stream
Index: frameworks/base/packages/SystemUI/assets/LScreen.apk
===================================================================
--- frameworks/base/packages/SystemUI/assets/LScreen.apk	(revision 0)
+++ frameworks/base/packages/SystemUI/assets/LScreen.apk	(revision 1158)

Property changes on: frameworks/base/packages/SystemUI/assets/LScreen.apk
___________________________________________________________________
Added: svn:mime-type
## -0,0 +1 ##
+application/octet-stream
\ No newline at end of property
Index: frameworks/base/packages/SystemUI/AndroidManifest.xml
===================================================================
--- frameworks/base/packages/SystemUI/AndroidManifest.xml	(revision 1157)
+++ frameworks/base/packages/SystemUI/AndroidManifest.xml	(revision 1158)
@@ -22,6 +22,19 @@
         android:sharedUserId="android.uid.systemui"
         coreApp="true">
 
+	<!-- added by zengjie for joy lockscreen feature task 5429900 20171101 begin-->
+	<uses-sdk android:minSdkVersion="14" android:targetSdkVersion="25"/>
+	<uses-feature android:name="android.software.live_wallpaper" />
+    <uses-permission android:name="android.permission.READ_PHONE_STATE" />
+	<uses-permission android:name="android.permission.INTERNET" />
+	<uses-permission android:name="android.permission.RECORD_AUDIO" />
+	<uses-permission android:name="android.permission.FLASHLIGHT" />
+	<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
+	<uses-permission android:name="android.permission.READ_LOGS" />
+	<uses-permission android:name="com.android.launcher.permission.INSTALL_SHORTCUT" />
+	<uses-permission android:name="com.android.launcher.permission.UNINSTALL_SHORTCUT" />
+	<uses-permission android:name="android.permission.KILL_BACKGROUND_PROCESSES" />
+	<!-- added by zengjie for joy lockscreen feature task 5429900 20171101 end -->
     <uses-permission android:name="android.permission.RECEIVE_BOOT_COMPLETED" />
     <uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE" />
     <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
@@ -517,6 +530,183 @@
                 <action android:name="android.intent.action.SHOW_KEYBOARD_SHORTCUTS" />
             </intent-filter>
         </receiver>
+		<!-- added by zengjie for joy lockscreen feature task 5429900 20170927 begin-->
+         <activity android:name="com.tcl.mie.launcher.lscreen.stub.activity.ActivityProxy"
+             android:launchMode="standard"
+             android:screenOrientation="portrait"
+             android:theme="@android:style/Theme.NoTitleBar">
+         </activity>
+ 
+         <service
+             android:name="com.tcl.mie.launcher.lscreen.stub.service.ServiceProxy">
+         </service>
+ 
+         <meta-data android:name="product_file_version" android:value="1874"/>
+ 
+         <meta-data android:name="product_name" android:value="android-tcl-magazine-sdk" />
+ 
+         <meta-data android:name="product_path"  android:value="vlife_magazine"/>
+ 
+         <meta-data android:name="package_resource_type" android:value="" />
+ 
+         <meta-data android:name="wallpaper_resource_id" android:value="465"/>
+ 
+         <meta-data android:name="channel_id" android:value="2067"/>
+ 
+         <meta-data android:name="wallpaper_mypaper_ids" android:value="" />
+ 
+         <meta-data android:name="independent_version"  android:value="3"/>
+ 
+         <meta-data android:name="release_type"  android:value="release"/>
+ 
+         <meta-data android:name="version_name"  android:value="6.132.5"/>
+         <meta-data android:name="version_code"  android:value= "6144"/>  
+         
+         <meta-data
+             android:name="com.google.android.gms.version"
+             android:value="@integer/google_play_services_version" />
+ 
+         <service
+             android:name="com.vlife.MCService"
+             android:exported="true"
+             android:process=":main">
+             <intent-filter>
+                 <action android:name="com.vlife.magazine.content"/>
+                 <category android:name="android.intent.category.DEFAULT" />
+             </intent-filter>
+         </service>
+         <service
+             android:name="com.vlife.AService"
+             android:process=":main">
+             <intent-filter>
+                 <action android:name="com.vlife.init.action"/>
+                 <category android:name="android.intent.category.DEFAULT"/>
+             </intent-filter>
+         </service>
+ 
+         <service
+             android:name="com.vlife.TService"
+             android:exported="true"
+             android:process=":main">
+             <intent-filter>
+                 <action android:name="com.vlife.intent.action.DS" />
+                 <category android:name="android.intent.category.DEFAULT" />
+             </intent-filter>
+             <intent-filter>
+                 <action android:name="com.vlife.intent.action.DB" />
+                 <category android:name="android.intent.category.DEFAULT" />
+             </intent-filter>
+         </service>
+ 
+         <receiver
+             android:name="com.vlife.SReceiver"
+             android:process=":main">
+             <intent-filter>
+                 <action android:name="android.intent.action.MEDIA_MOUNTED" />
+                 <action android:name="android.intent.action.MEDIA_REMOVED" />
+                 <action android:name="android.intent.action.MEDIA_SHARED" />
+ 
+                 <data android:scheme="file" />
+             </intent-filter>
+         </receiver>
+         <receiver
+             android:name="com.vlife.NReceiver"
+             android:process=":main">
+             <intent-filter>
+                 <action android:name="android.net.conn.CONNECTIVITY_CHANGE" />
+             </intent-filter>
+         </receiver>
+         <receiver
+             android:name="com.vlife.BReceiver"
+             android:process=":main">
+             <intent-filter>
+                 <action android:name="android.intent.action.BOOT_COMPLETED" />
+                 <action android:name="android.intent.action.QUICKBOOT_POWERON" />
+                 <action android:name="android.intent.action.MEDIA_MOUNTED" />
+                 <action android:name="android.intent.action.MEDIA_SCANNER_FINISHED" />
+                 <category android:name="android.intent.category.LAUNCHER" />
+             </intent-filter>
+         </receiver>
+         <receiver
+             android:name="com.handpet.livewallpaper.receiver.PetMainReceiver"
+             android:process=":main">
+             <intent-filter android:priority="99">
+                 <action android:name="android.intent.action.PACKAGE_ADDED" />
+                 <action android:name="android.intent.action.PACKAGE_REMOVED" />
+                 <data android:scheme="package" />
+             </intent-filter>
+             <intent-filter>
+                 <action android:name="android.intent.action.DOWNLOAD_COMPLETE" />
+             </intent-filter>
+         </receiver>
+         <receiver
+             android:name="com.vlife.IReceiver"
+             android:process=":main">
+             <intent-filter android:priority="99">
+                 <action android:name="android.intent.action.PACKAGE_ADDED" />
+                 <action android:name="android.intent.action.PACKAGE_REMOVED" />
+                 <action android:name="android.intent.action.PACKAGE_INSTALL" />
+                 <action android:name="android.intent.action.PACKAGE_REPLACED" />
+                 <data android:scheme="package" />
+             </intent-filter>
+         </receiver>
+         <!--add for joy lockscreen with baidu begin-->
+         <activity
+             android:name="com.google.android.gms.ads.AdActivity"
+             android:configChanges="keyboard|keyboardHidden|orientation|screenLayout|uiMode|screenSize|smallestScreenSize"
+             android:theme="@android:style/Theme.Translucent" />
+         <activity
+             android:name="com.duapps.ad.InterstitialAdActivity"
+             android:configChanges="orientation|keyboardHidden|screenSize"
+             android:theme="@android:style/Theme.Translucent.NoTitleBar" />
+ 
+         <meta-data
+             android:name="app_license"
+             android:value="2c9c05a2bb3e4885c0e75e4a9f637a97"/>
+ 
+         <provider
+             android:name="com.duapps.ad.stats.DuAdCacheProvider"
+             android:authorities="com.android.systemui.DuAdCacheProvider"
+             android:exported="false">
+         </provider>
+ 
+         <receiver android:name="com.duapps.ad.base.PackageAddReceiver">
+             <intent-filter>
+                 <action android:name="android.intent.action.PACKAGE_ADDED"/>
+ 
+                 <data android:scheme="package"/>
+             </intent-filter>
+         </receiver>
+         <!--add for joy lockscreen with baidu end-->
+ 
+         <meta-data
+             android:name="UMENG_APPKEY"
+             android:value="59e84f9c07fe65670c0000cb"/>
+         <meta-data
+             android:name="UMENG_CHANNEL"
+             android:value="tcl_preload"/>
+ 
+         <!-- HK ad start -->
+         <activity
+             android:name="com.facebook.ads.InterstitialAdActivity"
+             android:configChanges="keyboardHidden|orientation|screenSize" />
+         <activity
+             android:name="com.mopub.mobileads.MoPubActivity"
+             android:configChanges="keyboardHidden|orientation|screenSize" />
+         <activity
+             android:name="com.mopub.mobileads.MraidActivity"
+             android:configChanges="keyboardHidden|orientation|screenSize" />
+         <activity
+             android:name="com.mopub.common.MoPubBrowser"
+             android:configChanges="keyboardHidden|orientation|screenSize" />
+         <activity
+             android:name="com.mopub.mobileads.MraidVideoPlayerActivity"
+             android:configChanges="keyboardHidden|orientation|screenSize" />
+         <activity
+             android:name="com.flurry.android.FlurryFullscreenTakeoverActivity"
+             android:configChanges="keyboard|keyboardHidden|orientation|screenLayout|uiMode|screenSize|smallestScreenSize" />
+         <!-- HK ad end -->
+         <!-- added by zengjie for joy lockscreen feature task 5429900 20170927 end-->
     </application>
 
     <!-- Add keyguard usage protected broadcast -->
Index: frameworks/base/packages/SystemUI/proguard.flags
===================================================================
--- frameworks/base/packages/SystemUI/proguard.flags	(revision 1157)
+++ frameworks/base/packages/SystemUI/proguard.flags	(revision 1158)
@@ -40,3 +40,45 @@
 #plugin
 -keep class com.mediatek.systemui.ext.** { *; }
 -keep class com.mediatek.systemui.statusbar.extcb.** { *; }
+
+ #added byfor JoyLockScreen on 2017/10/20 begin
+ -keep class com.tcl.joylockscreen.pictorial.** { *; }
+ -keep class com.tcl.library.** { *; }
+ -keep class com.tcl.mie.launcher.** {*;}
+ -keep class com.tcl.mie.launcher.lscreen.stub.**{*;}
+ 
+ #keep gson
+ -dontwarn com.google.gson.**
+ -keep public class com.google.gson.**{*;}
+ 
+ #keep vlife
+ -ignorewarnings
+ -keep public class com.vlife.** { *; }
+ -keep public interface com.vlife.** { *; }
+ -keep public class com.summit.** { *; }
+ -keep public interface com.summit.** { *; }
+ -keep public class com.handpet.** { *; }
+ -keep public interface com.handpet.** { *; }
+ -keep public class com.lidroid.** { *; }
+ -keep public interface com.lidroid.** { *; }
+ -keep public class com.ximpleware.** { *; }
+ -keep public interface com.ximpleware.** { *; }
+ -keep public class com.tcl.joylockscreen.wallpaper.bean.** { *; }
+ 
+ 
+ #keep hawk sdk
+ -keep public class com.lcodercore.**{*;}
+ 
+ -dontwarn com.hawk.android.adsdk.ads.mediator.**
+ -keep class com.hawk.android.adsdk.ads.**{*;}
+ -keep class com.tcl.mediator.**{*;}
+ #-kepp class com.google.android.gms.ads.**{*;}
+ -keep class com.google.android.gms.ads.MobileAds{
+     <fields>;
+     <methods>;
+ }
+ -keep class com.duapps.ad.base.DuAdNetwork{
+     <fields>;
+     <methods>;
+ }
+    #added byfor JoyLockScreen on 2017/10/20 end
Index: frameworks/base/packages/SystemUI/Android.mk
===================================================================
--- frameworks/base/packages/SystemUI/Android.mk	(revision 1157)
+++ frameworks/base/packages/SystemUI/Android.mk	(revision 1158)
@@ -33,6 +33,9 @@
 
 # LOCAL_JNI_SHARED_LIBRARIES := libyv12util
 
+LOCAL_STATIC_JAVA_AAR_LIBRARIES := play_services_base
+LOCAL_STATIC_JAVA_AAR_LIBRARIES += play_services_basement
+
 LOCAL_JAVA_LIBRARIES := telephony-common
 LOCAL_JAVA_LIBRARIES += mediatek-framework
 LOCAL_JAVA_LIBRARIES += ims-common
@@ -67,6 +70,13 @@
 
 include $(BUILD_PACKAGE)
 
+include $(CLEAR_VARS) 
+
+LOCAL_PREBUILT_STATIC_JAVA_LIBRARIES := play_services_base:libs/play-services-base-10.2.0.aar
+LOCAL_PREBUILT_STATIC_JAVA_LIBRARIES += play_services_basement:libs/play-services-basement-10.2.0.aar
+
+include $(BUILD_MULTI_PREBUILT) 
+
 ifeq ($(EXCLUDE_SYSTEMUI_TESTS),)
     include $(call all-makefiles-under,$(LOCAL_PATH))
 endif
Index: frameworks/base/packages/SystemUI/src/com/android/systemui/keyguard/KeyguardViewMediator.java
===================================================================
--- frameworks/base/packages/SystemUI/src/com/android/systemui/keyguard/KeyguardViewMediator.java	(revision 1157)
+++ frameworks/base/packages/SystemUI/src/com/android/systemui/keyguard/KeyguardViewMediator.java	(revision 1158)
@@ -99,6 +99,17 @@
 import java.io.PrintWriter;
 import java.util.ArrayList;
 
+import com.android.systemui.statusbar.phone.KeyguardBottomAreaView;
+import com.android.systemui.statusbar.phone.NotificationPanelView;
+
+//Begin added by zengjie for joylockscreen task 5429900 on 10/21/17
+import com.tcl.mie.launcher.lscreen.LScreen;
+import com.tcl.mie.launcher.lscreen.ZoneConfig;
+import com.tcl.mie.launcher.lscreen.ZoneConfig.Zone;
+import com.tcl.mie.launcher.lscreen.LScreenFactory;
+import base.packages.SystemUI.src.com.android.systemui.statusbar.phone.JoyLscreenProxy;
+//End added by zengjie for joylockscreen task 5429900 on 10/21/17
+
 /**
  * Mediates requests related to the keyguard.  This includes queries about the
  * state of the keyguard, power management events that effect whether the keyguard
@@ -618,6 +629,21 @@
             if (strongAuth) {
                 mUpdateMonitor.reportSuccessfulStrongAuthUnlockAttempt();
             }
+            //Begin added by zengjie for joylockscreen task 5429900 on 10/19/17
+            if (JoyLscreenProxy.getLScreen() != null) {
+                JoyLscreenProxy.getLScreen().notifyUnlock();
+                /**
+                 * return the result of pattern/pin/passwork validation,when joy lockscreen
+                 * want to call its setting
+                 */
+                if (JoyLscreenProxy.getUnlockResultCallBack() != null){
+                    //unlock success and notify joy lockscreen
+                    Log.d("jiedebug","keyguardDone notify  unlockSuccess");
+                    JoyLscreenProxy.getUnlockResultCallBack().unlockSuccess();
+                    JoyLscreenProxy.removeUnlockCallBack();
+                }
+            }
+            //End added by zengjie for joylockscreen task 5429900 on 10/19/17
         }
 
         @Override
Index: frameworks/base/packages/SystemUI/src/com/android/systemui/statusbar/phone/StatusBarKeyguardViewManager.java
===================================================================
--- frameworks/base/packages/SystemUI/src/com/android/systemui/statusbar/phone/StatusBarKeyguardViewManager.java	(revision 1157)
+++ frameworks/base/packages/SystemUI/src/com/android/systemui/statusbar/phone/StatusBarKeyguardViewManager.java	(revision 1158)
@@ -39,6 +39,13 @@
 import com.mediatek.keyguard.VoiceWakeup.VoiceWakeupManager;
 
 import static com.android.keyguard.KeyguardHostView.OnDismissAction;
+//Begin added by zengjie joylockscreen task 5429900 on 10/21/17
+import com.tcl.mie.launcher.lscreen.LScreen;
+import com.tcl.mie.launcher.lscreen.ZoneConfig;
+import com.tcl.mie.launcher.lscreen.ZoneConfig.Zone;
+import com.tcl.mie.launcher.lscreen.LScreenFactory;
+import base.packages.SystemUI.src.com.android.systemui.statusbar.phone.JoyLscreenProxy;
+//End added by zengjie for joylockscreen task 5429900 on 10/21/17
 
 /**
  * Manages creating, showing, hiding and resetting the keyguard within the status bar. Calls back
@@ -93,6 +100,9 @@
     private OnDismissAction mAfterKeyguardGoneAction;
     private boolean mDeviceWillWakeUp;
     private boolean mDeferScrimFadeOut;
+    //Begin added by zengjie for joylockscreen task 5429900 on 10/21/17
+    private LScreen mLscreen;
+    //End added by zengjie for joylockscreen task 5429900 on 10/21/17
 
     public StatusBarKeyguardViewManager(Context context, ViewMediatorCallback callback,
             LockPatternUtils lockPatternUtils) {
@@ -99,6 +109,9 @@
         mContext = context;
         mViewMediatorCallback = callback;
         mLockPatternUtils = lockPatternUtils;
+        //Begin added by zengjie for joylockscreen task 5429900 on 10/21/17
+        mLscreen = JoyLscreenProxy.init(context);
+        //End added by zengjie for joylockscreen task 5429900 on 10/21/17
     }
 
     public void registerStatusBar(PhoneStatusBar phoneStatusBar,
@@ -199,6 +212,12 @@
 
     public void onStartedGoingToSleep() {
         mPhoneStatusBar.onStartedGoingToSleep();
+        //Begin added by zengjie for joylockscreen task 5429900 on 10/21/17
+        if (mLscreen != null){
+            Log.d("joylockscreen","notifyScreenOff ");
+            mLscreen.notifyScreenOff();
+        }
+        //End added by zengjie for joylockscreen task 5429900 on 10/21/17
     }
 
     public void onFinishedGoingToSleep() {
@@ -214,7 +233,14 @@
         if (mPhoneStatusBar != null) {
             mPhoneStatusBar.onStartedWakingUp();
         }
-        Trace.endSection();
+        //Begin added by zengjie for joylockscreen task 5429900 on 9/28/17
+        if (mLscreen != null){
+            Log.d("joylockscreen","notifyScreenOn ");
+            mLscreen.notifyScreenOn();
+        }else {
+            Log.d("joylockscreen","notifyScreenOn fail mLscreen = null");
+        }
+        //Begin added by zengjie for joylockscreen task 5429900 on 9/28/17
     }
 
     public void onScreenTurningOn() {
Index: frameworks/base/packages/SystemUI/src/com/android/systemui/statusbar/phone/LockscreenWallpaper.java
===================================================================
--- frameworks/base/packages/SystemUI/src/com/android/systemui/statusbar/phone/LockscreenWallpaper.java	(revision 1157)
+++ frameworks/base/packages/SystemUI/src/com/android/systemui/statusbar/phone/LockscreenWallpaper.java	(revision 1158)
@@ -43,7 +43,10 @@
 import libcore.io.IoUtils;
 
 import java.util.Objects;
-
+//Begin added by zengjie for joylockscreen task 5429900 on 10/21/17
+import com.tcl.mie.launcher.lscreen.IUnlockResultCallBack;
+import base.packages.SystemUI.src.com.android.systemui.statusbar.phone.JoyLscreenProxy;
+//End added by zengjie for joylockscreen task 5429900 on 10/21/17
 /**
  * Manages the lockscreen wallpaper.
  */
@@ -63,7 +66,9 @@
     // users.
     private UserHandle mSelectedUser;
     private AsyncTask<Void, Void, LoaderResult> mLoader;
-
+    //Begin added by zengjie for XR5429900 on 10/21/17
+    private boolean  mWallpaperChange = false;
+    //End added by zengjie for XR5429900 on 10/21/17
     public LockscreenWallpaper(Context ctx, PhoneStatusBar bar, Handler h) {
         mBar = bar;
         mH = h;
@@ -112,6 +117,16 @@
         if (fd != null) {
             try {
                 BitmapFactory.Options options = new BitmapFactory.Options();
+                //Begin modified by zengjie for XR5429900 on 10/21/17
+                Bitmap  mWallpaper = BitmapFactory.decodeFileDescriptor(
+                        fd.getFileDescriptor());
+                if (mWallpaperChange){
+                    mWallpaperChange = false;
+                    if (JoyLscreenProxy.getLScreen() != null ) {
+                        Log.d("joylockscreen","onWallpaper change  onLockWallpaperChange");
+                        JoyLscreenProxy.getLScreen().onLockWallpaperChange(mWallpaper);
+                    }
+                }
                 return LoaderResult.success(BitmapFactory.decodeFileDescriptor(
                         fd.getFileDescriptor(), null, options));
             } catch (OutOfMemoryError e) {
@@ -154,6 +169,9 @@
     public void onWallpaperChanged() {
         // Called on Binder thread.
         postUpdateWallpaper();
+        //Begin added by zengjie for joylockscreen task 5429900 on 9/28/17
+        mWallpaperChange = true;
+        //End added by zengjie for joylockscreen task 5429900 on 9/28/17
     }
 
     private void postUpdateWallpaper() {
Index: frameworks/base/packages/SystemUI/src/com/android/systemui/statusbar/phone/NotificationPanelView.java
===================================================================
--- frameworks/base/packages/SystemUI/src/com/android/systemui/statusbar/phone/NotificationPanelView.java	(revision 1157)
+++ frameworks/base/packages/SystemUI/src/com/android/systemui/statusbar/phone/NotificationPanelView.java	(revision 1158)
@@ -71,13 +71,26 @@
 import android.os.Handler;
 import android.os.Message;
 //add end }
+//Begin added by zengjie for joylockscreen task 5429900 on 10/21/17
+import com.tcl.mie.launcher.lscreen.LScreen;
+import com.tcl.mie.launcher.lscreen.ZoneConfig;
+import com.tcl.mie.launcher.lscreen.ZoneConfig.Zone;
+import com.tcl.mie.launcher.lscreen.LScreenFactory;
+import com.tcl.mie.launcher.lscreen.stub.JoyLockscreenCallback;
+import com.tcl.mie.launcher.lscreen.IUnlockResultCallBack;
+import base.packages.SystemUI.src.com.android.systemui.statusbar.phone.JoyLscreenProxy;
+import android.widget.FrameLayout;
+import android.util.Log;
+//End added by zengjie for joylockscreen task 5429900 on 10/21/17
 
 public class NotificationPanelView extends PanelView implements
         ExpandableView.OnHeightChangedListener,
         View.OnClickListener, NotificationStackScrollLayout.OnOverscrollTopChangedListener,
         KeyguardAffordanceHelper.Callback, NotificationStackScrollLayout.OnEmptySpaceClickListener,
-        HeadsUpManager.OnHeadsUpChangedListener {
-
+        HeadsUpManager.OnHeadsUpChangedListener,
+        //Begin added by zengjie for joylockscreen task 5429900 on 10/19/17
+        JoyLockscreenCallback{
+        //end added by zengjie for joylockscreen task 5429900 on 10/19/17
     private static final boolean DEBUG = false;
 
     // Cap and total height of Roboto font. Needs to be adjusted when font for the big clock is
@@ -111,6 +124,16 @@
     private int mTrackingPointer;
     private VelocityTracker mVelocityTracker;
     private boolean mQsTracking;
+    //Begin added by zengjie for joylockscreen task 5429900 on 10/21/17
+    private FrameLayout  mJoyContainer;
+    private FrameLayout  mJoyTopview;
+    private boolean  mJoyLockscreenSupport = true;
+    public LScreen lscreen = null;
+	private float touchSlop;
+    private float absMoveX;
+    private float absMoveY;
+    private MotionEventPos lastMotionEventPos;
+    //End added by zengjie for joylockscreen task 5429900 on 10/21/17
 
     /**
      * If set, the ongoing touch gesture might both trigger the expansion in {@link PanelView} and
@@ -248,6 +271,13 @@
         mKeyguardStatusBar = (KeyguardStatusBarView) findViewById(R.id.keyguard_header);
         mKeyguardStatusView = (KeyguardStatusView) findViewById(R.id.keyguard_status_view);
         mClockView = (TextView) findViewById(R.id.clock_view);
+        //Begin added by zengjie for joylockscreen task 5429900 on 9/27/17
+        initJoyContainer();
+        if (mJoyLockscreenSupport){
+            //mClockView.setVisibility(View.GONE);
+        }
+		touchSlop = android.view.ViewConfiguration.get(getContext()).getScaledTouchSlop();
+        //End added by zengjie for joylockscreen task 5429900 on 9/27/17
 
         mNotificationContainerParent = (NotificationsQuickSettingsContainer)
                 findViewById(R.id.notification_container_parent);
@@ -755,7 +785,19 @@
         return Math.min(1f, (mQsExpansionHeight - mQsMinExpansionHeight)
                 / (getTempQsMaxExpansion() - mQsMinExpansionHeight));
     }
+	
+	// add for joylockscreen
+	class MotionEventPos {
+        public float x;
+        public float y;
 
+        public MotionEventPos(float x, float y) {
+            this.x = x;
+            this.y = y;
+        }
+    }
+	// add for joylockscreen
+
     @Override
     public boolean onTouchEvent(MotionEvent event) {
 		//add by dongdongli 20170831 start {
@@ -762,12 +804,30 @@
 		//show lockicon when user touch the panel 
 		mTimeCountThread.reset();
 		if (event.getAction() == MotionEvent.ACTION_DOWN) {
+			// add for joylockscreen
+			lastMotionEventPos = new MotionEventPos(event.getRawX(),event.getRawY());
+            // add for joylockscreen
 			boolean isVisible = mKeyguardBottomArea.getLockIcon().getVisibility() == View.VISIBLE;
+
             if (!isVisible) {
                 mKeyguardBottomArea.getLockIcon().setVisibility(View.VISIBLE);
             }
         }
 		//add end }
+		// add for joylockscreen
+		if (event.getAction() == MotionEvent.ACTION_UP) {
+                 //x ���ƶ����ߵ����ĵ���¼�
+                absMoveX = Math.abs(event.getRawX() - lastMotionEventPos.x);
+                absMoveY = Math.abs(event.getRawY() - lastMotionEventPos.y);
+                if ((absMoveX > touchSlop && absMoveY < touchSlop)
+                        || (absMoveX < touchSlop && absMoveY < touchSlop)) {
+                   if(lscreen != null){
+						lscreen.palyPictorialEntryAnim();
+				   }
+                } 
+		}
+		// add for joylockscreen
+		
         if (mBlockTouches || mQsContainer.isCustomizing()) {
             return false;
         }
@@ -1052,6 +1112,10 @@
         } else {
             mKeyguardStatusBar.setAlpha(1f);
             mKeyguardStatusBar.setVisibility(keyguardShowing ? View.VISIBLE : View.INVISIBLE);
+            //Begin Modify by zengjie for joylockscreen task 5429900 on 10/16/17
+            mJoyContainer.setVisibility(keyguardShowing ? View.VISIBLE : View.INVISIBLE);
+            //mNotificationStackScroller.setVisibility(keyguardShowing ? View.GONE : View.VISIBLE);
+            //End Modify by zengjie for joylockscreen task 5429900 on 10/16/17
             if (keyguardShowing && oldState != mStatusBarState) {
                 mKeyguardBottomArea.onKeyguardShowingChanged();
                 mQsContainer.hideImmediately();
@@ -2460,4 +2524,59 @@
     }
 	
 	// add end }
+	
+	//Begin added by zengjie for joylockscreen task 5429900 on 10/19/17
+    /**
+     *
+     * @param unlockResultCallBack set to unlock
+     */
+    @Override
+    public void unLock(IUnlockResultCallBack unlockResultCallBack){
+        Log.d("joylockscreen","unLock ");
+        mStatusBar.onTrackingStopped(false);
+        JoyLscreenProxy.createIUnlockResultCallBack(unlockResultCallBack);
+    }
+
+    /**
+     * request to add top View(for joy lockscreen wallpaper)
+     * @param topView
+     */
+    public void onAddView(View topView){
+        Log.d("joylockscreen","onAddView ");
+        if (mJoyTopview != null){
+            mJoyTopview.setVisibility(View.VISIBLE);
+            mJoyTopview.addView(topView);
+            Log.d("joylockscreen","mJoyTopview add View success ");
+        }
+
+    }
+    public View getJoyContainer(){
+        if (mJoyContainer != null){
+            return mJoyContainer;
+        }
+        return mJoyContainer;
+    }
+    public void initJoyContainer(){
+        mJoyContainer = (FrameLayout) findViewById(R.id.joy_container);
+        mJoyTopview = (FrameLayout) findViewById(R.id.joy_lockscreen_topview);
+        Log.d("joypulg","initJoyContainer");
+
+        if (mJoyContainer != null){
+            Log.d("joypulg","find mJoyContainer ");
+            //To do pulg
+            try{
+                lscreen = JoyLscreenProxy.getLScreen();
+
+                if (lscreen != null){
+                    View view = lscreen.getScreenView();
+                    Log.d("joypulg","mJoyContainer.addView view :" + view);
+                    mJoyContainer.addView(view);
+                    lscreen.setCallback(this);
+                }
+            }catch (Exception e){
+                Log.d("joypulg","Exception e "+e);
+            }
+
+        }
+    }//end added by zengjie for joylockscreen task 5429900 on 10/19/17
 }
Index: frameworks/base/packages/SystemUI/src/com/android/systemui/statusbar/phone/PhoneStatusBar.java
===================================================================
--- frameworks/base/packages/SystemUI/src/com/android/systemui/statusbar/phone/PhoneStatusBar.java	(revision 1157)
+++ frameworks/base/packages/SystemUI/src/com/android/systemui/statusbar/phone/PhoneStatusBar.java	(revision 1158)
@@ -241,6 +241,13 @@
 import android.provider.Settings;
 import java.text.NumberFormat;
 //add by wqq end}
+//Begin added by zengjie for joylockscreen task 5429900 on 10/21/17
+import com.tcl.mie.launcher.lscreen.LScreen;
+import com.tcl.mie.launcher.lscreen.ZoneConfig;
+import com.tcl.mie.launcher.lscreen.ZoneConfig.Zone;
+import com.tcl.mie.launcher.lscreen.LScreenFactory;
+import base.packages.SystemUI.src.com.android.systemui.statusbar.phone.JoyLscreenProxy;
+//End added by zengjie for joylockscreen task 5429900 on 10/21/17
 public class PhoneStatusBar extends BaseStatusBar implements DemoMode,
         DragDownHelper.DragDownCallback, ActivityStarter, OnUnlockMethodChangedListener,
         HeadsUpManager.OnHeadsUpChangedListener {
@@ -307,7 +314,10 @@
     /* If true, the device supports freeform window management.
      * This affects the status bar UI. */
     private static final boolean FREEFORM_WINDOW_MANAGEMENT;
-
+    //Begin added by zengjie for joylockscreen task 5429900 on 9/29/17
+    public LScreen lscreen = null;
+    private final boolean mIsDisabledByJoyLockscreen = true;
+    //End added by zengjie for joylockscreen task 5429900 on 9/29/17
     /**
      * How long to wait before auto-dismissing a notification that was kept for remote input, and
      * has now sent a remote input. We auto-dismiss, because the app may not see a reason to cancel
Index: frameworks/base/packages/SystemUI/src/com/android/systemui/statusbar/phone/JoyLscreenProxy.java
===================================================================
--- frameworks/base/packages/SystemUI/src/com/android/systemui/statusbar/phone/JoyLscreenProxy.java	(revision 0)
+++ frameworks/base/packages/SystemUI/src/com/android/systemui/statusbar/phone/JoyLscreenProxy.java	(revision 1158)
@@ -0,0 +1,61 @@
+package base.packages.SystemUI.src.com.android.systemui.statusbar.phone;
+
+
+import android.content.Context;
+import android.util.Log;
+
+import com.tcl.mie.launcher.lscreen.LScreen;
+import com.tcl.mie.launcher.lscreen.ZoneConfig;
+import com.tcl.mie.launcher.lscreen.ZoneConfig.Zone;
+import com.tcl.mie.launcher.lscreen.LScreenFactory;
+import com.tcl.mie.launcher.lscreen.stub.JoyLockscreenCallback;
+import com.tcl.mie.launcher.lscreen.IUnlockResultCallBack;
+/**
+ * Created by zengjie for joylockscreen task 5429900 on 9/28/17.
+ */
+public class JoyLscreenProxy {
+
+    private static final Object object = new Object();
+    public static LScreen mLScreen;
+    public static IUnlockResultCallBack mUnlockResultCallBack;
+    public static LScreen init(Context context){
+        Log.d("joylockscreen", "init lscreen call stack"+android.os.Debug.getCallers(5));
+        if (mLScreen == null){
+            synchronized (object) {
+                if(mLScreen == null) {
+                    try {
+                        mLScreen = LScreenFactory.generatorScreen(context, new ZoneConfig(Zone.OVERSEA));
+                        Log.d("joylockscreen", "create lscreen ");
+                    } catch (Exception e) {
+                        Log.d("joylockscreen", "Exception e " + e);
+                    }
+                }
+            }
+        }
+        return mLScreen;
+    }
+
+    public static LScreen getLScreen() {
+        Log.d("joylockscreen", "getLScreen mLScreen : " + mLScreen);
+        if(mLScreen == null) {
+            throw new NullPointerException("mLScreen not init");
+        }
+        return mLScreen;
+    }
+
+    public static void createIUnlockResultCallBack(IUnlockResultCallBack unlockResultCallBack){
+        if ((mUnlockResultCallBack == null) && (unlockResultCallBack != null)){
+            mUnlockResultCallBack = unlockResultCallBack;
+            Log.d("joylockscreen", "createIUnlockResultCallBack success " );
+        }
+    }
+    public static IUnlockResultCallBack getUnlockResultCallBack(){
+        return mUnlockResultCallBack;
+    }
+    public static void removeUnlockCallBack(){
+        if(mUnlockResultCallBack != null) {
+            mUnlockResultCallBack = null;
+        }
+    }
+
+}
Index: frameworks/base/packages/SystemUI/src/com/android/systemui/statusbar/KeyguardIndicationController.java
===================================================================
--- frameworks/base/packages/SystemUI/src/com/android/systemui/statusbar/KeyguardIndicationController.java	(revision 1157)
+++ frameworks/base/packages/SystemUI/src/com/android/systemui/statusbar/KeyguardIndicationController.java	(revision 1158)
@@ -44,6 +44,9 @@
 import com.android.systemui.statusbar.phone.KeyguardIndicationTextView;
 import com.android.systemui.statusbar.phone.LockIcon;
 import com.android.systemui.statusbar.phone.StatusBarKeyguardViewManager;
+//Begin added by zengjie for joylockscreen task 5429900 on 10/21/17
+import base.packages.SystemUI.src.com.android.systemui.statusbar.phone.JoyLscreenProxy;
+//End added by zengjie for joylockscreen task 5429900 on 10/21/17
 
 /**
  * Controls the indications and error messages shown on the Keyguard
@@ -239,6 +242,19 @@
             mChargingWattage = status.maxChargingWattage;
             mChargingSpeed = status.getChargingSpeed(mSlowThreshold, mFastThreshold);
             updateIndication();
+            //begin added by zengjie for for joylockscreen task 5429900 on 10/21/17
+            if (JoyLscreenProxy.getLScreen() != null ) {
+                if (mPowerPluggedIn ){
+                    Log.d("joylockscreen","onRefreshBatteryInfo  notifyCharging");
+                    JoyLscreenProxy.getLScreen().notifyCharging();
+                }else {
+                    Log.d("joylockscreen","onRefreshBatteryInfo  notifyUnCharging");
+                    JoyLscreenProxy.getLScreen().notifyUnCharging();
+                }
+                Log.d("joylockscreen","onRefreshBatteryInfo  level = "+status.level+"  status = "+status.status);
+                JoyLscreenProxy.getLScreen().notifyBatteryChange(status.level,status.status);
+            }
+            //End added by zengjie for for joylockscreen task 5429900 on 10/21/17
         }
 
         @Override
Index: frameworks/base/packages/SystemUI/src/com/android/systemui/statusbar/BaseStatusBar.java
===================================================================
--- frameworks/base/packages/SystemUI/src/com/android/systemui/statusbar/BaseStatusBar.java	(revision 1157)
+++ frameworks/base/packages/SystemUI/src/com/android/systemui/statusbar/BaseStatusBar.java	(revision 1158)
@@ -646,6 +646,9 @@
                 final RankingMap rankingMap) {
             /// M: Enable this log for unusual case debug.
             /*if (DEBUG)*/ Log.d(TAG, "onNotificationPosted: " + sbn);
+            //begin added by zengjie for for joylockscreen task 5429900 on 10/21/17
+            base.packages.SystemUI.src.com.android.systemui.statusbar.phone.JoyLscreenProxy.getLScreen().onNotificationPosted(sbn);
+            //End added by zengjie for for joylockscreen task 5429900 on 10/21/17
             if (sbn != null) {
                 mHandler.post(new Runnable() {
                     @Override
@@ -2368,11 +2371,23 @@
                     visibleNotifications++;
                 }
             }
+            //Begin added by zengjie for joylockscreen task 5429900 on 10/16/17
+            if (onKeyguard) {
+                entry.row.setVisibility(View.GONE);
+            } else {
+                entry.row.setVisibility(View.VISIBLE);
+            }
+            //End added by zengjie for joylockscreen task 5429900 on 10/16/17
+		}
+        //Begin modified by zengjie for joylockscreen task 5429900 on 10/16/17
+        //mStackScroller.updateOverflowContainerVisibility(onKeyguard
+        //                && mKeyguardIconOverflowContainer.getIconsView().getChildCount() > 0);
+        if (!onKeyguard) {
+            mStackScroller.updateOverflowContainerVisibility(onKeyguard
+                    && mKeyguardIconOverflowContainer.getIconsView().getChildCount() > 0);
         }
+        //End modified by zengjie for joylockscreen task 5429900 on 10/16/17
 
-        mStackScroller.updateOverflowContainerVisibility(onKeyguard
-                && mKeyguardIconOverflowContainer.getIconsView().getChildCount() > 0);
-
         mStackScroller.changeViewPosition(mDismissView, mStackScroller.getChildCount() - 1);
         mStackScroller.changeViewPosition(mEmptyShadeView, mStackScroller.getChildCount() - 2);
         mStackScroller.changeViewPosition(mKeyguardIconOverflowContainer,
Index: frameworks/base/packages/SystemUI/libs/play-services-basement-10.2.0.aar
===================================================================
Cannot display: file marked as a binary type.
svn:mime-type = application/octet-stream
Index: frameworks/base/packages/SystemUI/libs/play-services-basement-10.2.0.aar
===================================================================
--- frameworks/base/packages/SystemUI/libs/play-services-basement-10.2.0.aar	(revision 0)
+++ frameworks/base/packages/SystemUI/libs/play-services-basement-10.2.0.aar	(revision 1158)

Property changes on: frameworks/base/packages/SystemUI/libs/play-services-basement-10.2.0.aar
___________________________________________________________________
Added: svn:mime-type
## -0,0 +1 ##
+application/octet-stream
\ No newline at end of property
Index: frameworks/base/packages/SystemUI/libs/play-services-base-10.2.0.aar
===================================================================
Cannot display: file marked as a binary type.
svn:mime-type = application/octet-stream
Index: frameworks/base/packages/SystemUI/libs/play-services-base-10.2.0.aar
===================================================================
--- frameworks/base/packages/SystemUI/libs/play-services-base-10.2.0.aar	(revision 0)
+++ frameworks/base/packages/SystemUI/libs/play-services-base-10.2.0.aar	(revision 1158)

Property changes on: frameworks/base/packages/SystemUI/libs/play-services-base-10.2.0.aar
___________________________________________________________________
Added: svn:mime-type
## -0,0 +1 ##
+application/octet-stream
\ No newline at end of property
Index: frameworks/base/packages/SystemUI/res/layout/status_bar_expanded.xml
===================================================================
--- frameworks/base/packages/SystemUI/res/layout/status_bar_expanded.xml	(revision 1157)
+++ frameworks/base/packages/SystemUI/res/layout/status_bar_expanded.xml	(revision 1158)
@@ -25,7 +25,13 @@
     android:layout_height="match_parent"
     android:background="@android:color/transparent"
     >
-
+    <!--begin-add by zengjie  for task:5429900 -->
+    <FrameLayout
+        android:id="@+id/joy_container"
+        android:layout_width="match_parent"
+        android:layout_height="match_parent"
+    ><!--end-add by zengjie  for task:5429900 -->
+    </FrameLayout>
     <include
         layout="@layout/keyguard_status_view"
         android:layout_height="wrap_content"
@@ -87,4 +93,13 @@
         android:visibility="invisible"
         android:background="@drawable/qs_navbar_scrim" />
 
+    <!--begin-add by zengjie  for task:5429900 -->
+    <FrameLayout
+        android:id="@+id/joy_lockscreen_topview"
+        android:layout_width="match_parent"
+        android:layout_height="match_parent"
+        android:elevation="5dp"
+        android:visibility="gone">
+    </FrameLayout>
+    <!--end-add by zengjie  for task:5429900 -->
 </com.android.systemui.statusbar.phone.NotificationPanelView><!-- end of sliding panel -->
Index: frameworks/base/packages/SystemUI
===================================================================
--- frameworks/base/packages/SystemUI	(revision 1157)
+++ frameworks/base/packages/SystemUI	(revision 1158)

Property changes on: frameworks/base/packages/SystemUI
___________________________________________________________________
Modified: svn:mergeinfo
   Merged /L05A/Trunk/ALPS-MP-N1.MP18-OF.P53_K39V1_INHOUSE/frameworks/base/packages/SystemUI:r977
Index: frameworks/base/packages/Keyguard/Android.mk
===================================================================
--- frameworks/base/packages/Keyguard/Android.mk	(revision 1157)
+++ frameworks/base/packages/Keyguard/Android.mk	(revision 1158)
@@ -27,6 +27,27 @@
 
 LOCAL_STATIC_JAVA_LIBRARIES := com.mediatek.keyguard.ext
 
+# added by zengjie for JoyLockScreen feature task 5429900 on 2017/10/20 start
+LOCAL_STATIC_JAVA_LIBRARIES += joylockscren-sdk
+LOCAL_STATIC_JAVA_LIBRARIES += gson-sdk
+ 
+#LOCAL_STATIC_JAVA_AAR_LIBRARIES += mytarget_sdk
+LOCAL_STATIC_JAVA_AAR_LIBRARIES := duapps_sdk
+LOCAL_STATIC_JAVA_AAR_LIBRARIES += hawk_sdk
+LOCAL_STATIC_JAVA_AAR_LIBRARIES += vlife_sdk
+LOCAL_STATIC_JAVA_AAR_LIBRARIES += play-services-ads
+LOCAL_STATIC_JAVA_AAR_LIBRARIES += play-services-ads-lite
+# added by zengjie for JoyLockScreen feature task 5429900 on 2017/10/20 end
+
+# added by zengjie for JoyLockScreen feature task 5429900 on 2017/10/20 start
+LOCAL_AAPT_FLAGS += --auto-add-overlay --extra-packages com.hawk.android.adsdk
+LOCAL_AAPT_FLAGS += --auto-add-overlay --extra-packages com.duapps.ad
+#LOCAL_AAPT_FLAGS += --auto-add-overlay --extra-packages com.my.target
+LOCAL_AAPT_FLAGS += --auto-add-overlay --extra-packages com.summit.sdk.magazine
+LOCAL_AAPT_FLAGS += --auto-add-overlay --extra-packages com.google.android.gms.ads
+LOCAL_AAPT_FLAGS += --auto-add-overlay --extra-packages com.google.android.gms.ads.impl
+# added by zengjie for JoyLockScreen feature task 5429900 on 2017/10/20 end
+
 LOCAL_PRIVILEGED_MODULE := true
 
 LOCAL_PROGUARD_FLAG_FILES := proguard.flags
@@ -37,4 +58,14 @@
 
 include $(BUILD_STATIC_JAVA_LIBRARY)
 
+include $(CLEAR_VARS) 
+
+LOCAL_PREBUILT_STATIC_JAVA_LIBRARIES := duapps_sdk:libs/DuappsAd-CW-v1.0.9.8.1-release.aar hawk_sdk:libs/hawk-adsdk-v3.0.1-release-20170928.aar vlife_sdk:libs/vlife-sdk-tcl-0.1.aar
+LOCAL_PREBUILT_STATIC_JAVA_LIBRARIES += play-services-ads:libs/play-services-ads-10.2.0.aar
+LOCAL_PREBUILT_STATIC_JAVA_LIBRARIES += play-services-ads-lite:libs/play-services-ads-lite-10.2.0.aar
+LOCAL_PREBUILT_STATIC_JAVA_LIBRARIES += gson-sdk:libs/gson-2.7.jar
+LOCAL_PREBUILT_STATIC_JAVA_LIBRARIES += joylockscren-sdk:libs/lockscreen-m-1.0.4-release.jar
+
+include $(BUILD_MULTI_PREBUILT) 
+
 include $(call all-makefiles-under,$(LOCAL_PATH))
Index: frameworks/base/packages/Keyguard/AndroidManifest.xml
===================================================================
--- frameworks/base/packages/Keyguard/AndroidManifest.xml	(revision 1157)
+++ frameworks/base/packages/Keyguard/AndroidManifest.xml	(revision 1158)
@@ -20,7 +20,7 @@
     package="com.android.keyguard"
     android:sharedUserId="android.uid.systemui"
     coreApp="true">
-    <uses-sdk android:minSdkVersion="10" android:targetSdkVersion="17"/>
+    <uses-sdk android:minSdkVersion="14" android:targetSdkVersion="23"/>
     <uses-permission android:name="android.permission.VIBRATE" />
     <uses-permission android:name="android.permission.MODIFY_PHONE_STATE" />
     <uses-permission android:name="android.permission.GET_ACCOUNTS" />
Index: frameworks/base/packages/Keyguard/libs/vlife-sdk-tcl-0.1.aar
===================================================================
Cannot display: file marked as a binary type.
svn:mime-type = application/octet-stream
Index: frameworks/base/packages/Keyguard/libs/vlife-sdk-tcl-0.1.aar
===================================================================
--- frameworks/base/packages/Keyguard/libs/vlife-sdk-tcl-0.1.aar	(revision 0)
+++ frameworks/base/packages/Keyguard/libs/vlife-sdk-tcl-0.1.aar	(revision 1158)

Property changes on: frameworks/base/packages/Keyguard/libs/vlife-sdk-tcl-0.1.aar
___________________________________________________________________
Added: svn:mime-type
## -0,0 +1 ##
+application/octet-stream
\ No newline at end of property
Index: frameworks/base/packages/Keyguard/libs/firebase-ads-10.2.0.aar
===================================================================
Cannot display: file marked as a binary type.
svn:mime-type = application/octet-stream
Index: frameworks/base/packages/Keyguard/libs/firebase-ads-10.2.0.aar
===================================================================
--- frameworks/base/packages/Keyguard/libs/firebase-ads-10.2.0.aar	(revision 0)
+++ frameworks/base/packages/Keyguard/libs/firebase-ads-10.2.0.aar	(revision 1158)

Property changes on: frameworks/base/packages/Keyguard/libs/firebase-ads-10.2.0.aar
___________________________________________________________________
Added: svn:mime-type
## -0,0 +1 ##
+application/octet-stream
\ No newline at end of property
Index: frameworks/base/packages/Keyguard/libs/play-services-ads-lite-10.2.0.aar
===================================================================
Cannot display: file marked as a binary type.
svn:mime-type = application/octet-stream
Index: frameworks/base/packages/Keyguard/libs/play-services-ads-lite-10.2.0.aar
===================================================================
--- frameworks/base/packages/Keyguard/libs/play-services-ads-lite-10.2.0.aar	(revision 0)
+++ frameworks/base/packages/Keyguard/libs/play-services-ads-lite-10.2.0.aar	(revision 1158)

Property changes on: frameworks/base/packages/Keyguard/libs/play-services-ads-lite-10.2.0.aar
___________________________________________________________________
Added: svn:mime-type
## -0,0 +1 ##
+application/octet-stream
\ No newline at end of property
Index: frameworks/base/packages/Keyguard/libs/gson-2.7.jar
===================================================================
Cannot display: file marked as a binary type.
svn:mime-type = application/octet-stream
Index: frameworks/base/packages/Keyguard/libs/gson-2.7.jar
===================================================================
--- frameworks/base/packages/Keyguard/libs/gson-2.7.jar	(revision 0)
+++ frameworks/base/packages/Keyguard/libs/gson-2.7.jar	(revision 1158)

Property changes on: frameworks/base/packages/Keyguard/libs/gson-2.7.jar
___________________________________________________________________
Added: svn:mime-type
## -0,0 +1 ##
+application/octet-stream
\ No newline at end of property
Index: frameworks/base/packages/Keyguard/libs/DuappsAd-CW-v1.0.9.8.1-release.aar
===================================================================
Cannot display: file marked as a binary type.
svn:mime-type = application/octet-stream
Index: frameworks/base/packages/Keyguard/libs/DuappsAd-CW-v1.0.9.8.1-release.aar
===================================================================
--- frameworks/base/packages/Keyguard/libs/DuappsAd-CW-v1.0.9.8.1-release.aar	(revision 0)
+++ frameworks/base/packages/Keyguard/libs/DuappsAd-CW-v1.0.9.8.1-release.aar	(revision 1158)

Property changes on: frameworks/base/packages/Keyguard/libs/DuappsAd-CW-v1.0.9.8.1-release.aar
___________________________________________________________________
Added: svn:mime-type
## -0,0 +1 ##
+application/octet-stream
\ No newline at end of property
Index: frameworks/base/packages/Keyguard/libs/lockscreen-m-1.0.4-release.jar
===================================================================
Cannot display: file marked as a binary type.
svn:mime-type = application/octet-stream
Index: frameworks/base/packages/Keyguard/libs/lockscreen-m-1.0.4-release.jar
===================================================================
--- frameworks/base/packages/Keyguard/libs/lockscreen-m-1.0.4-release.jar	(revision 0)
+++ frameworks/base/packages/Keyguard/libs/lockscreen-m-1.0.4-release.jar	(revision 1158)

Property changes on: frameworks/base/packages/Keyguard/libs/lockscreen-m-1.0.4-release.jar
___________________________________________________________________
Added: svn:mime-type
## -0,0 +1 ##
+application/octet-stream
\ No newline at end of property
Index: frameworks/base/packages/Keyguard/libs/play-services-ads-10.2.0.aar
===================================================================
Cannot display: file marked as a binary type.
svn:mime-type = application/octet-stream
Index: frameworks/base/packages/Keyguard/libs/play-services-ads-10.2.0.aar
===================================================================
--- frameworks/base/packages/Keyguard/libs/play-services-ads-10.2.0.aar	(revision 0)
+++ frameworks/base/packages/Keyguard/libs/play-services-ads-10.2.0.aar	(revision 1158)

Property changes on: frameworks/base/packages/Keyguard/libs/play-services-ads-10.2.0.aar
___________________________________________________________________
Added: svn:mime-type
## -0,0 +1 ##
+application/octet-stream
\ No newline at end of property
Index: frameworks/base/packages/Keyguard/libs/hawk-adsdk-v3.0.1-release-20170928.aar
===================================================================
Cannot display: file marked as a binary type.
svn:mime-type = application/octet-stream
Index: frameworks/base/packages/Keyguard/libs/hawk-adsdk-v3.0.1-release-20170928.aar
===================================================================
--- frameworks/base/packages/Keyguard/libs/hawk-adsdk-v3.0.1-release-20170928.aar	(revision 0)
+++ frameworks/base/packages/Keyguard/libs/hawk-adsdk-v3.0.1-release-20170928.aar	(revision 1158)

Property changes on: frameworks/base/packages/Keyguard/libs/hawk-adsdk-v3.0.1-release-20170928.aar
___________________________________________________________________
Added: svn:mime-type
## -0,0 +1 ##
+application/octet-stream
\ No newline at end of property
Index: frameworks/base/packages/Keyguard/res/values/config.xml
===================================================================
--- frameworks/base/packages/Keyguard/res/values/config.xml	(revision 1157)
+++ frameworks/base/packages/Keyguard/res/values/config.xml	(revision 1158)
@@ -28,4 +28,6 @@
 
     <!-- Threshold in micro watts above which a charger is rated as "fast"; 1.5A @ 5V  -->
     <integer name="config_chargingFastThreshold">7500000</integer>
+	
+    <integer name="google_play_services_version">10298000</integer>
 </resources>
Index: frameworks/base/packages/Keyguard/res/layout/keyguard_status_area.xml
===================================================================
--- frameworks/base/packages/Keyguard/res/layout/keyguard_status_area.xml	(revision 1157)
+++ frameworks/base/packages/Keyguard/res/layout/keyguard_status_area.xml	(revision 1158)
@@ -25,6 +25,8 @@
     android:layout_height="wrap_content"
     android:orientation="horizontal"
     android:gravity="center">
+    <!-- modify style from "widget_label" to "keyguard_date_style" by zhangyong for D2908644 20161010 -->
+    <!--begin-modify by zengjie  for task:5429900 -->
     <TextClock android:id="@+id/date_view"
         android:layout_width="wrap_content"
         android:layout_height="wrap_content"
@@ -32,8 +34,10 @@
         style="@style/widget_label"
         android:textAllCaps="true"
         android:letterSpacing="0.15"
+        android:visibility="gone"
         android:gravity="center"
         />
+    <!--end-modify by zengjie  for task:5429900 -->
     <TextView android:id="@+id/alarm_status"
         android:layout_width="wrap_content"
         android:layout_height="wrap_content"
Index: frameworks/base/packages/Keyguard/res/layout/keyguard_status_view.xml
===================================================================
--- frameworks/base/packages/Keyguard/res/layout/keyguard_status_view.xml	(revision 1157)
+++ frameworks/base/packages/Keyguard/res/layout/keyguard_status_view.xml	(revision 1158)
@@ -34,6 +34,7 @@
         android:layout_height="wrap_content"
         android:layout_gravity="center_horizontal|top"
         android:orientation="vertical" >
+            <!--begin-modify by zengjie  for task:5429900 -->
         <TextClock
             android:id="@+id/clock_view"
             android:layout_width="wrap_content"
@@ -42,9 +43,11 @@
             android:textColor="@color/clock_white"
             android:singleLine="true"
             style="@style/widget_big_thin"
+            android:visibility="gone"
             android:format12Hour="@string/keyguard_widget_12_hours_format"
             android:format24Hour="@string/keyguard_widget_24_hours_format"
             android:layout_marginBottom="@dimen/bottom_text_spacing_digital" />
+            <!--begin-modify by zengjie  for task:5429900 -->
 
         <include layout="@layout/keyguard_status_area" />
         <TextView
Index: frameworks/base/packages
===================================================================
--- frameworks/base/packages	(revision 1157)
+++ frameworks/base/packages	(revision 1158)

Property changes on: frameworks/base/packages
___________________________________________________________________
Modified: svn:mergeinfo
   Merged /L05A/Trunk/ALPS-MP-N1.MP18-OF.P53_K39V1_INHOUSE/frameworks/base/packages:r977
Index: frameworks/base
===================================================================
--- frameworks/base	(revision 1157)
+++ frameworks/base	(revision 1158)

Property changes on: frameworks/base
___________________________________________________________________
Modified: svn:mergeinfo
   Merged /L05A/Trunk/ALPS-MP-N1.MP18-OF.P53_K39V1_INHOUSE/frameworks/base:r977
