Index: device/ausshine/aus6739_66_n1/device.mk
===================================================================
--- device/ausshine/aus6739_66_n1/device.mk	(revision 1283)
+++ device/ausshine/aus6739_66_n1/device.mk	(revision 1284)
@@ -177,3 +177,8 @@
 
 
 
+ifeq (yes,$(strip $(TCL_LSCREEN_SUPPORT)))
+  PRODUCT_PROPERTY_OVERRIDES += ro.tcl.lscreen=true
+else
+  PRODUCT_PROPERTY_OVERRIDES += ro.tcl.lscreen=false
+endif
Index: vendor/branch/5058I/device/ausshine/aus6739_66_n1/ProjectConfig.mk
===================================================================
--- vendor/branch/5058I/device/ausshine/aus6739_66_n1/ProjectConfig.mk	(revision 1283)
+++ vendor/branch/5058I/device/ausshine/aus6739_66_n1/ProjectConfig.mk	(revision 1284)
@@ -716,4 +716,6 @@
 WIFI_WEP_KEY_ID_SET = no
 #CREATE_PROJECT_INFO=20171102102954
 DMNR_COMPLEX_ARCH_SUPPORT = yes
-BUILD_GMS = yes
\ No newline at end of file
+BUILD_GMS = yes
+
+TCL_LSCREEN_SUPPORT = yes
\ No newline at end of file
Index: vendor/branch/5058I/frameworks/base/packages/SystemUI/AndroidManifest.xml
===================================================================
--- vendor/branch/5058I/frameworks/base/packages/SystemUI/AndroidManifest.xml	(revision 0)
+++ vendor/branch/5058I/frameworks/base/packages/SystemUI/AndroidManifest.xml	(revision 1284)
@@ -0,0 +1,744 @@
+<?xml version="1.0" encoding="utf-8"?>
+<!--
+/*
+ * Copyright (c) 2014 Google Inc.
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+-->
+<manifest xmlns:android="http://schemas.android.com/apk/res/android"
+        xmlns:androidprv="http://schemas.android.com/apk/prv/res/android"
+        package="com.android.systemui"
+        android:sharedUserId="android.uid.systemui"
+        coreApp="true">
+
+	<!-- added by zengjie for joy lockscreen feature task 5429900 20171101 begin-->
+	<uses-sdk android:minSdkVersion="14" android:targetSdkVersion="25"/>
+	<uses-feature android:name="android.software.live_wallpaper" />
+    <uses-permission android:name="android.permission.READ_PHONE_STATE" />
+	<uses-permission android:name="android.permission.INTERNET" />
+	<uses-permission android:name="android.permission.RECORD_AUDIO" />
+	<uses-permission android:name="android.permission.FLASHLIGHT" />
+	<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
+	<uses-permission android:name="android.permission.READ_LOGS" />
+	<uses-permission android:name="com.android.launcher.permission.INSTALL_SHORTCUT" />
+	<uses-permission android:name="com.android.launcher.permission.UNINSTALL_SHORTCUT" />
+	<uses-permission android:name="android.permission.KILL_BACKGROUND_PROCESSES" />
+	<!-- added by zengjie for joy lockscreen feature task 5429900 20171101 end -->
+    <uses-permission android:name="android.permission.RECEIVE_BOOT_COMPLETED" />
+    <uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE" />
+    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
+    <!-- Used to read storage for all users -->
+    <uses-permission android:name="android.permission.WRITE_MEDIA_STORAGE" />
+    <uses-permission android:name="android.permission.WAKE_LOCK" />
+
+    <uses-permission android:name="android.permission.INJECT_EVENTS" />
+    <uses-permission android:name="android.permission.DUMP" />
+    <uses-permission android:name="android.permission.WRITE_SETTINGS" />
+
+    <uses-permission android:name="android.permission.STATUS_BAR_SERVICE" />
+    <uses-permission android:name="android.permission.STATUS_BAR" />
+    <uses-permission android:name="android.permission.EXPAND_STATUS_BAR" />
+    <uses-permission android:name="android.permission.REMOTE_AUDIO_PLAYBACK" />
+
+    <uses-permission android:name="android.permission.MANAGE_USERS" />
+    <uses-permission android:name="android.permission.READ_PROFILE" />
+    <uses-permission android:name="android.permission.READ_CONTACTS" />
+    <uses-permission android:name="android.permission.CONFIGURE_WIFI_DISPLAY" />
+    <uses-permission android:name="android.permission.WRITE_SECURE_SETTINGS" />
+    <uses-permission android:name="android.permission.GET_APP_OPS_STATS" />
+
+    <!-- Networking and telephony -->
+    <uses-permission android:name="android.permission.BLUETOOTH" />
+    <uses-permission android:name="android.permission.BLUETOOTH_ADMIN" />
+    <uses-permission android:name="android.permission.BLUETOOTH_PRIVILEGED" />
+    <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION"/>
+    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
+    <uses-permission android:name="android.permission.CHANGE_NETWORK_STATE" />
+    <uses-permission android:name="android.permission.READ_PRIVILEGED_PHONE_STATE" />
+    <uses-permission android:name="android.permission.ACCESS_WIFI_STATE" />
+    <uses-permission android:name="android.permission.CHANGE_WIFI_STATE" />
+    <uses-permission android:name="android.permission.OVERRIDE_WIFI_CONFIG" />
+    <uses-permission android:name="android.permission.MANAGE_NETWORK_POLICY" />
+    <uses-permission android:name="android.permission.CONNECTIVITY_INTERNAL" />
+    <uses-permission android:name="android.permission.TETHER_PRIVILEGED" />
+    <uses-permission android:name="android.permission.READ_NETWORK_USAGE_HISTORY" />
+    <uses-permission android:name="android.permission.CONTROL_VPN" />
+    <uses-permission android:name="android.permission.PEERS_MAC_ADDRESS"/>
+    <!-- Physical hardware -->
+    <uses-permission android:name="android.permission.MANAGE_USB" />
+    <uses-permission android:name="android.permission.DEVICE_POWER" />
+    <uses-permission android:name="android.permission.MOUNT_UNMOUNT_FILESYSTEMS" />
+    <uses-permission android:name="android.permission.MASTER_CLEAR" />
+    <uses-permission android:name="android.permission.VIBRATE" />
+
+    <!-- ActivityManager -->
+    <uses-permission android:name="android.permission.REAL_GET_TASKS" />
+    <uses-permission android:name="android.permission.GET_DETAILED_TASKS" />
+    <uses-permission android:name="android.permission.REORDER_TASKS" />
+    <uses-permission android:name="android.permission.REMOVE_TASKS" />
+    <uses-permission android:name="android.permission.STOP_APP_SWITCHES" />
+    <uses-permission android:name="android.permission.SET_SCREEN_COMPATIBILITY" />
+    <uses-permission android:name="android.permission.START_ANY_ACTIVITY" />
+    <uses-permission android:name="android.permission.INTERACT_ACROSS_USERS" />
+    <uses-permission android:name="android.permission.INTERACT_ACROSS_USERS_FULL" />
+    <uses-permission android:name="android.permission.GET_TOP_ACTIVITY_INFO" />
+    <uses-permission android:name="android.permission.MANAGE_ACTIVITY_STACKS" />
+    <uses-permission android:name="android.permission.START_TASKS_FROM_RECENTS" />
+    <uses-permission android:name="android.permission.GET_INTENT_SENDER_INTENT" />
+
+    <!-- WindowManager -->
+    <uses-permission android:name="android.permission.INTERNAL_SYSTEM_WINDOW" />
+    <uses-permission android:name="android.permission.SYSTEM_ALERT_WINDOW" />
+    <uses-permission android:name="android.permission.READ_FRAME_BUFFER" />
+    <uses-permission android:name="android.permission.MANAGE_APP_TOKENS" />
+    <uses-permission android:name="android.permission.REGISTER_WINDOW_MANAGER_LISTENERS" />
+    <uses-permission android:name="android.permission.SET_ORIENTATION" />
+    <uses-permission android:name="android.permission.DISABLE_KEYGUARD" />
+
+    <!-- DreamManager -->
+    <uses-permission android:name="android.permission.READ_DREAM_STATE" />
+    <uses-permission android:name="android.permission.WRITE_DREAM_STATE" />
+
+    <!-- Alarm clocks -->
+    <uses-permission android:name="com.android.alarm.permission.SET_ALARM" />
+
+    <!-- Keyguard -->
+    <uses-permission android:name="android.permission.CONTROL_KEYGUARD" />
+    <uses-permission android:name="android.permission.MODIFY_PHONE_STATE" />
+    <uses-permission android:name="android.permission.GET_ACCOUNTS" />
+    <uses-permission android:name="android.permission.MANAGE_ACCOUNTS" />
+    <uses-permission android:name="android.permission.BIND_DEVICE_ADMIN" />
+    <uses-permission android:name="android.permission.CHANGE_COMPONENT_ENABLED_STATE" />
+    <uses-permission android:name="android.permission.MEDIA_CONTENT_CONTROL" />
+    <uses-permission android:name="android.permission.ACCESS_KEYGUARD_SECURE_STORAGE" />
+    <uses-permission android:name="android.permission.TRUST_LISTENER" />
+    <uses-permission android:name="android.permission.USE_FINGERPRINT" />
+    <!-- Keyguard add for Anti-theft-->
+    <uses-permission android:name="com.mediatek.ppl.permission.ACCESS_PPL_MANAGER" />
+    <uses-permission android:name="android.permission.RESET_FINGERPRINT_LOCKOUT" />
+
+    <!-- Needed for WallpaperManager.clear in ImageWallpaper.updateWallpaperLocked -->
+    <uses-permission android:name="android.permission.SET_WALLPAPER"/>
+
+    <!-- Recents -->
+    <uses-permission android:name="android.permission.BIND_APPWIDGET" />
+
+    <!-- Wifi Display -->
+    <uses-permission android:name="android.permission.CONFIGURE_WIFI_DISPLAY" />
+
+    <uses-permission android:name="android.permission.CAMERA" />
+
+    <!-- Screen Capturing -->
+    <uses-permission android:name="android.permission.MANAGE_MEDIA_PROJECTION" />
+
+    <!-- Assist -->
+    <uses-permission android:name="android.permission.ACCESS_VOICE_INTERACTION_SERVICE" />
+
+    <!-- Listen for keyboard attachment / detachment -->
+    <uses-permission android:name="android.permission.TABLET_MODE" />
+
+    <!-- Self permission for internal broadcasts. -->
+    <permission android:name="com.android.systemui.permission.SELF"
+            android:protectionLevel="signature" />
+    <uses-permission android:name="com.android.systemui.permission.SELF" />
+
+    <!-- Adding Quick Settings tiles -->
+    <uses-permission android:name="android.permission.BIND_QUICK_SETTINGS_TILE" />
+
+    <!-- Block notifications inline notifications -->
+    <uses-permission android:name="android.permission.UPDATE_APP_OPS_STATS" />
+
+    <!-- Access battery information -->
+    <uses-permission android:name="android.permission.BATTERY_STATS" />
+
+    <!-- DevicePolicyManager get user restrictions -->
+    <uses-permission android:name="android.permission.MANAGE_PROFILE_AND_DEVICE_OWNERS" />
+
+    <!-- TV picture-in-picture -->
+    <uses-permission android:name="android.permission.RECEIVE_MEDIA_RESOURCE_USAGE" />
+
+    <!-- DND access -->
+    <uses-permission android:name="android.permission.MANAGE_NOTIFICATIONS" />
+    <!--TODO:: Check these permission whether still need on N -->
+    <!-- M: Add for data sim switch op feature -->
+    <uses-permission android:name="android.permission.WRITE_APN_SETTINGS"/>
+
+    <!-- M: Add for VoiceCommand -->
+    <uses-permission android:name="android.permission.MANAGE_VOICE_KEYPHRASES" />
+
+    <!-- M: Add for op feature -->
+    <uses-permission android:name="android.permission.READ_PRECISE_PHONE_STATE" />
+
+    <!-- It's like, reality, but, you know, virtual -->
+    <uses-permission android:name="android.permission.ACCESS_VR_MANAGER" />
+
+    <!-- the ability to rename notifications posted by other apps -->
+    <uses-permission android:name="android.permission.SUBSTITUTE_NOTIFICATION_APP_NAME" />
+
+    <!-- shortcut manager -->
+    <uses-permission android:name="android.permission.RESET_SHORTCUT_MANAGER_THROTTLING" />
+
+    <application
+        android:name=".SystemUIApplication"
+        android:persistent="true"
+        android:allowClearUserData="false"
+        android:allowBackup="false"
+        android:hardwareAccelerated="true"
+        android:label="@string/app_label"
+        android:icon="@drawable/icon"
+        android:process="com.android.systemui"
+        android:supportsRtl="true"
+        android:theme="@style/systemui_theme"
+        android:defaultToDeviceProtectedStorage="true"
+        android:directBootAware="true">
+        <!-- Keep theme in sync with SystemUIApplication.onCreate().
+             Setting the theme on the application does not affect views inflated by services.
+             The application theme is set again from onCreate to take effect for those views. -->
+
+        <!-- Broadcast receiver that gets the broadcast at boot time and starts
+             up everything else.
+             TODO: Should have an android:permission attribute
+             -->
+        <service android:name="SystemUIService"
+            android:exported="true"
+            />
+
+        <!-- Recents depends on every user having their own SystemUI process, so on user switch,
+             ensure that the process is created by starting this service.
+             -->
+        <service android:name="SystemUISecondaryUserService"
+            android:exported="true"
+            android:permission="com.android.systemui.permission.SELF" />
+
+
+        <!-- started from PhoneWindowManager
+             TODO: Should have an android:permission attribute -->
+        <service android:name=".screenshot.TakeScreenshotService"
+            android:process=":screenshot"
+            android:exported="false" />
+
+        <!-- Called from PhoneWindowManager -->
+        <receiver android:name=".screenshot.ScreenshotServiceErrorReceiver"
+            android:process=":screenshot"
+            android:exported="false">
+            <intent-filter>
+                <action android:name="com.android.systemui.screenshot.SHOW_ERROR" />
+            </intent-filter>
+        </receiver>
+
+        <service android:name=".ImageWallpaper"
+                android:permission="android.permission.BIND_WALLPAPER"
+                android:exported="true" />
+
+        <activity android:name=".tuner.TunerActivity"
+                  android:enabled="false"
+                  android:icon="@drawable/tuner"
+                  android:theme="@style/TunerSettings"
+                  android:label="@string/system_ui_tuner"
+                  android:process=":tuner"
+                  android:exported="true">
+            <intent-filter>
+                <action android:name="com.android.settings.action.EXTRA_SETTINGS" />
+                <category android:name="android.intent.category.DEFAULT" />
+            </intent-filter>
+            <meta-data android:name="com.android.settings.category"
+                    android:value="com.android.settings.category.system" />
+        </activity>
+
+        <activity-alias android:name=".DemoMode"
+                  android:targetActivity=".tuner.TunerActivity"
+                  android:icon="@drawable/tuner"
+                  android:theme="@style/TunerSettings"
+                  android:label="@string/demo_mode"
+                  android:process=":tuner"
+                  android:exported="true">
+            <intent-filter>
+                <action android:name="com.android.settings.action.DEMO_MODE" />
+                <category android:name="android.intent.category.DEFAULT" />
+            </intent-filter>
+        </activity-alias>
+
+        <!-- Service used by secondary users to register themselves with the system user. -->
+        <service android:name=".recents.RecentsSystemUserService"
+            android:exported="false"
+            android:permission="com.android.systemui.permission.SELF" />
+
+        <!-- Alternate Recents -->
+        <activity android:name=".recents.RecentsActivity"
+                  android:label="@string/accessibility_desc_recent_apps"
+                  android:exported="false"
+                  android:launchMode="singleInstance"
+                  android:excludeFromRecents="true"
+                  android:stateNotNeeded="true"
+                  android:resumeWhilePausing="true"
+                  android:screenOrientation="behind"
+                  android:resizeableActivity="true"
+                  android:configChanges="orientation|screenSize|smallestScreenSize|screenLayout"
+                  android:theme="@style/RecentsTheme.Wallpaper">
+            <intent-filter>
+                <action android:name="com.android.systemui.recents.TOGGLE_RECENTS" />
+            </intent-filter>
+        </activity>
+
+        <activity android:name=".recents.tv.RecentsTvActivity"
+                  android:label="@string/accessibility_desc_recent_apps"
+                  android:exported="false"
+                  android:launchMode="singleInstance"
+                  android:excludeFromRecents="true"
+                  android:stateNotNeeded="true"
+                  android:resumeWhilePausing="true"
+                  android:screenOrientation="behind"
+                  android:theme="@style/RecentsTvTheme.Wallpaper">
+            <intent-filter>
+                <action android:name="com.android.systemui.recents.TOGGLE_RECENTS" />
+            </intent-filter>
+        </activity>
+
+        <activity
+            android:name=".stackdivider.ForcedResizableInfoActivity"
+            android:theme="@style/ForcedResizableTheme"
+            android:excludeFromRecents="true"
+            android:stateNotNeeded="true"
+            android:configChanges="orientation|screenSize|smallestScreenSize|screenLayout"
+            android:exported="false">
+        </activity>
+
+        <!-- Callback for dismissing screenshot notification after a share target is picked -->
+        <receiver android:name=".screenshot.GlobalScreenshot$TargetChosenReceiver"
+                  android:process=":screenshot"
+                  android:exported="false" />
+
+        <!-- Callback for deleting screenshot notification -->
+        <receiver android:name=".screenshot.GlobalScreenshot$DeleteScreenshotReceiver"
+                  android:process=":screenshot"
+                  android:exported="false" />
+
+        <!-- started from UsbDeviceSettingsManager -->
+        <activity android:name=".usb.UsbConfirmActivity"
+            android:exported="true"
+            android:permission="android.permission.MANAGE_USB"
+            android:theme="@style/Theme.SystemUI.Dialog.Alert"
+            android:finishOnCloseSystemDialogs="true"
+            android:excludeFromRecents="true">
+        </activity>
+
+        <!-- started from UsbDeviceSettingsManager -->
+        <activity android:name=".usb.UsbPermissionActivity"
+            android:exported="true"
+            android:permission="android.permission.MANAGE_USB"
+            android:theme="@style/Theme.SystemUI.Dialog.Alert"
+            android:finishOnCloseSystemDialogs="true"
+            android:excludeFromRecents="true">
+        </activity>
+
+        <!-- started from UsbDeviceSettingsManager -->
+        <activity android:name=".usb.UsbResolverActivity"
+            android:exported="true"
+            android:permission="android.permission.MANAGE_USB"
+            android:theme="@style/Theme.SystemUI.Dialog.Alert"
+            android:finishOnCloseSystemDialogs="true"
+            android:excludeFromRecents="true">
+        </activity>
+
+        <!-- started from UsbDeviceSettingsManager -->
+        <activity android:name=".usb.UsbAccessoryUriActivity"
+            android:exported="true"
+            android:permission="android.permission.MANAGE_USB"
+            android:theme="@style/Theme.SystemUI.Dialog.Alert"
+            android:finishOnCloseSystemDialogs="true"
+            android:excludeFromRecents="true">
+        </activity>
+
+        <!-- started from UsbDebuggingManager -->
+        <activity android:name=".usb.UsbDebuggingActivity"
+            android:permission="android.permission.MANAGE_USB"
+            android:theme="@style/Theme.SystemUI.Dialog.Alert"
+            android:finishOnCloseSystemDialogs="true"
+            android:excludeFromRecents="true">
+        </activity>
+        <activity android:name=".usb.UsbDebuggingSecondaryUserActivity"
+            android:theme="@style/Theme.SystemUI.Dialog.Alert"
+            android:finishOnCloseSystemDialogs="true"
+            android:excludeFromRecents="true">
+        </activity>
+
+        <!-- started from NetworkPolicyManagerService -->
+        <activity
+            android:name=".net.NetworkOverLimitActivity"
+            android:exported="true"
+            android:permission="android.permission.MANAGE_NETWORK_POLICY"
+            android:theme="@android:style/Theme.DeviceDefault.Light.Panel"
+            android:finishOnCloseSystemDialogs="true"
+            android:launchMode="singleTop"
+            android:taskAffinity="com.android.systemui.net"
+            android:excludeFromRecents="true" />
+
+        <!-- started from MediaProjectionManager -->
+        <activity
+            android:name=".media.MediaProjectionPermissionActivity"
+            android:exported="true"
+            android:theme="@style/Theme.AlertDialogHost"
+            android:finishOnCloseSystemDialogs="true"
+            android:launchMode="singleTop"
+            android:excludeFromRecents="true" />
+
+        <!-- started from PipUI -->
+        <activity
+            android:name="com.android.systemui.tv.pip.PipMenuActivity"
+            android:exported="true"
+            android:theme="@style/PipTheme"
+            android:launchMode="singleTop"
+            android:taskAffinity=""
+            android:configChanges="screenSize|smallestScreenSize|screenLayout|orientation|locale|layoutDirection"
+            android:resizeableActivity="true"
+            android:supportsPictureInPicture="true"
+            androidprv:alwaysFocusable="true"
+            android:excludeFromRecents="true" />
+        <activity
+            android:name="com.android.systemui.tv.pip.PipOverlayActivity"
+            android:exported="true"
+            android:theme="@style/PipTheme"
+            android:taskAffinity=""
+            android:configChanges="screenSize|smallestScreenSize|screenLayout|orientation|locale|layoutDirection"
+            android:resizeableActivity="true"
+            android:supportsPictureInPicture="true"
+            android:excludeFromRecents="true" />
+        <activity
+            android:name="com.android.systemui.tv.pip.PipOnboardingActivity"
+            android:exported="true"
+            android:theme="@style/PipTheme"
+            android:launchMode="singleTop"
+            android:excludeFromRecents="true" />
+
+        <!-- platform logo easter egg activity -->
+        <activity
+            android:name=".DessertCase"
+            android:exported="true"
+            android:label="@string/dessert_case"
+            android:theme="@android:style/Theme.Black.NoTitleBar.Fullscreen"
+            android:hardwareAccelerated="true"
+            android:launchMode="singleInstance"
+            android:screenOrientation="locked"
+            android:process=":sweetsweetdesserts"
+            android:excludeFromRecents="true">
+            <intent-filter>
+                <action android:name="android.intent.action.MAIN" />
+                <category android:name="android.intent.category.DEFAULT" />
+            </intent-filter>
+        </activity>
+
+        <activity android:name=".egg.MLandActivity"
+                  android:theme="@android:style/Theme.Material.NoActionBar"
+                  android:exported="true"
+                  android:icon="@drawable/icon"
+                  android:label="@string/mland"
+                  android:hardwareAccelerated="true"
+                  android:launchMode="singleInstance"
+                  android:screenOrientation="locked"
+                  android:process=":sweetsweetdesserts"
+                  android:excludeFromRecents="true">
+            <intent-filter>
+                <action android:name="android.intent.action.MAIN"/>
+                <category android:name="android.intent.category.DEFAULT" />
+            </intent-filter>
+        </activity>
+
+        <!-- a gallery of delicious treats -->
+        <service
+            android:name=".DessertCaseDream"
+            android:exported="true"
+            android:label="@string/dessert_case"
+            android:permission="android.permission.BIND_DREAM_SERVICE"
+            android:enabled="false"
+            android:process=":sweetsweetdesserts"
+            >
+            <intent-filter>
+                <action android:name="android.service.dreams.DreamService" />
+                <category android:name="android.intent.category.DEFAULT" />
+            </intent-filter>
+        </service>
+
+        <service
+            android:name=".keyguard.KeyguardService"
+            android:exported="true"
+            android:enabled="@bool/config_enableKeyguardService" />
+
+        <activity android:name=".Somnambulator"
+            android:label="@string/start_dreams"
+            android:icon="@mipmap/ic_launcher_dreams"
+            android:theme="@android:style/Theme.Wallpaper.NoTitleBar"
+            android:exported="true"
+            android:excludeFromRecents="true"
+            >
+            <!--
+            <intent-filter>
+                <action android:name="android.intent.action.CREATE_SHORTCUT" />
+                <category android:name="android.intent.category.DEFAULT" />
+            </intent-filter>
+            -->
+            <intent-filter>
+                <action android:name="android.intent.action.MAIN" />
+                <category android:name="android.intent.category.DEFAULT" />
+                <category android:name="android.intent.category.DESK_DOCK" />
+            </intent-filter>
+        </activity>
+
+        <activity
+            android:name=".settings.BrightnessDialog"
+            android:label="@string/quick_settings_brightness_dialog_title"
+            android:theme="@android:style/Theme.DeviceDefault.Dialog"
+            android:finishOnCloseSystemDialogs="true"
+            android:launchMode="singleInstance"
+            android:excludeFromRecents="true"
+            android:exported="true">
+            <intent-filter>
+                <action android:name="android.intent.action.SHOW_BRIGHTNESS_DIALOG" />
+                <category android:name="android.intent.category.DEFAULT" />
+            </intent-filter>
+        </activity>
+
+        <!-- Doze with notifications, run in main sysui process for every user  -->
+        <service
+            android:name=".doze.DozeService"
+            android:exported="true"
+            android:singleUser="true"
+            android:permission="android.permission.BIND_DREAM_SERVICE" />
+
+        <receiver
+            android:name=".tuner.TunerService$ClearReceiver"
+            android:exported="false">
+            <intent-filter>
+                <action android:name="com.android.systemui.action.CLEAR_TUNER" />
+            </intent-filter>
+        </receiver>
+
+        <receiver
+            android:name=".statusbar.KeyboardShortcutsReceiver">
+            <intent-filter>
+                <action android:name="android.intent.action.DISMISS_KEYBOARD_SHORTCUTS" />
+                <action android:name="android.intent.action.SHOW_KEYBOARD_SHORTCUTS" />
+            </intent-filter>
+        </receiver>
+
+		    <!-- Add func settings -->
+		<activity android:name=".funcsetting.FuncSettings"
+			android:theme="@style/FuncTheme">
+			<intent-filter >
+			  
+				<action  android:name="com.android.systemui.SYSTEMUI_FUNC_SETTING" />
+			</intent-filter>
+		</activity>
+		<activity android:name=".funcsetting.AppListActivity" 
+			android:theme="@style/FuncTheme"/>
+		<receiver android:name=".funcsetting.ContactsReceiver">
+			<intent-filter >
+				<action android:name="com.android.systemui.funcsettings.contact_uri"/>
+				<action android:name="com.android.music.playlist_id"/>
+			</intent-filter>
+       </receiver>
+
+		<!-- added by zengjie for joy lockscreen feature task 5429900 20170927 begin-->
+         <activity android:name="com.tcl.mie.launcher.lscreen.stub.activity.ActivityProxy"
+             android:launchMode="standard"
+             android:screenOrientation="portrait"
+             android:theme="@android:style/Theme.NoTitleBar">
+         </activity>
+ 
+         <service
+             android:name="com.tcl.mie.launcher.lscreen.stub.service.ServiceProxy">
+         </service>
+ 
+         <meta-data android:name="product_file_version" android:value="1874"/>
+ 
+         <meta-data android:name="product_name" android:value="android-tcl-magazine-sdk" />
+ 
+         <meta-data android:name="product_path"  android:value="vlife_magazine"/>
+ 
+         <meta-data android:name="package_resource_type" android:value="" />
+ 
+         <meta-data android:name="wallpaper_resource_id" android:value="465"/>
+ 
+         <meta-data android:name="channel_id" android:value="2067"/>
+ 
+         <meta-data android:name="wallpaper_mypaper_ids" android:value="" />
+ 
+         <meta-data android:name="independent_version"  android:value="3"/>
+ 
+         <meta-data android:name="release_type"  android:value="release"/>
+ 
+         <meta-data android:name="version_name"  android:value="6.132.5"/>
+         <meta-data android:name="version_code"  android:value= "6144"/>  
+         
+         <meta-data
+             android:name="com.google.android.gms.version"
+             android:value="@integer/google_play_services_version" />
+ 
+         <service
+             android:name="com.vlife.MCService"
+             android:exported="true"
+             android:process=":main">
+             <intent-filter>
+                 <action android:name="com.vlife.magazine.content"/>
+                 <category android:name="android.intent.category.DEFAULT" />
+             </intent-filter>
+         </service>
+         <service
+             android:name="com.vlife.AService"
+             android:process=":main">
+             <intent-filter>
+                 <action android:name="com.vlife.init.action"/>
+                 <category android:name="android.intent.category.DEFAULT"/>
+             </intent-filter>
+         </service>
+ 
+         <service
+             android:name="com.vlife.TService"
+             android:exported="true"
+             android:process=":main">
+             <intent-filter>
+                 <action android:name="com.vlife.intent.action.DS" />
+                 <category android:name="android.intent.category.DEFAULT" />
+             </intent-filter>
+             <intent-filter>
+                 <action android:name="com.vlife.intent.action.DB" />
+                 <category android:name="android.intent.category.DEFAULT" />
+             </intent-filter>
+         </service>
+ 
+         <receiver
+             android:name="com.vlife.SReceiver"
+             android:process=":main">
+             <intent-filter>
+                 <action android:name="android.intent.action.MEDIA_MOUNTED" />
+                 <action android:name="android.intent.action.MEDIA_REMOVED" />
+                 <action android:name="android.intent.action.MEDIA_SHARED" />
+ 
+                 <data android:scheme="file" />
+             </intent-filter>
+         </receiver>
+         <receiver
+             android:name="com.vlife.NReceiver"
+             android:process=":main">
+             <intent-filter>
+                 <action android:name="android.net.conn.CONNECTIVITY_CHANGE" />
+             </intent-filter>
+         </receiver>
+         <receiver
+             android:name="com.vlife.BReceiver"
+             android:process=":main">
+             <intent-filter>
+                 <action android:name="android.intent.action.BOOT_COMPLETED" />
+                 <action android:name="android.intent.action.QUICKBOOT_POWERON" />
+                 <action android:name="android.intent.action.MEDIA_MOUNTED" />
+                 <action android:name="android.intent.action.MEDIA_SCANNER_FINISHED" />
+                 <category android:name="android.intent.category.LAUNCHER" />
+             </intent-filter>
+         </receiver>
+         <receiver
+             android:name="com.handpet.livewallpaper.receiver.PetMainReceiver"
+             android:process=":main">
+             <intent-filter android:priority="99">
+                 <action android:name="android.intent.action.PACKAGE_ADDED" />
+                 <action android:name="android.intent.action.PACKAGE_REMOVED" />
+                 <data android:scheme="package" />
+             </intent-filter>
+             <intent-filter>
+                 <action android:name="android.intent.action.DOWNLOAD_COMPLETE" />
+             </intent-filter>
+         </receiver>
+         <receiver
+             android:name="com.vlife.IReceiver"
+             android:process=":main">
+             <intent-filter android:priority="99">
+                 <action android:name="android.intent.action.PACKAGE_ADDED" />
+                 <action android:name="android.intent.action.PACKAGE_REMOVED" />
+                 <action android:name="android.intent.action.PACKAGE_INSTALL" />
+                 <action android:name="android.intent.action.PACKAGE_REPLACED" />
+                 <data android:scheme="package" />
+             </intent-filter>
+         </receiver>
+         <!--add for joy lockscreen with baidu begin-->
+         <activity
+             android:name="com.google.android.gms.ads.AdActivity"
+             android:configChanges="keyboard|keyboardHidden|orientation|screenLayout|uiMode|screenSize|smallestScreenSize"
+             android:theme="@android:style/Theme.Translucent" />
+         <activity
+             android:name="com.duapps.ad.InterstitialAdActivity"
+             android:configChanges="orientation|keyboardHidden|screenSize"
+             android:theme="@android:style/Theme.Translucent.NoTitleBar" />
+ 
+         <meta-data
+             android:name="app_license"
+             android:value="2c9c05a2bb3e4885c0e75e4a9f637a97"/>
+ 
+         <provider
+             android:name="com.duapps.ad.stats.DuAdCacheProvider"
+             android:authorities="com.android.systemui.DuAdCacheProvider"
+             android:exported="false">
+         </provider>
+ 
+         <receiver android:name="com.duapps.ad.base.PackageAddReceiver">
+             <intent-filter>
+                 <action android:name="android.intent.action.PACKAGE_ADDED"/>
+ 
+                 <data android:scheme="package"/>
+             </intent-filter>
+         </receiver>
+         <!--add for joy lockscreen with baidu end-->
+ 
+         <meta-data
+             android:name="UMENG_APPKEY"
+             android:value="59e84f9c07fe65670c0000cb"/>
+         <meta-data
+             android:name="UMENG_CHANNEL"
+             android:value="tcl_preload"/>
+ 
+         <!-- HK ad start -->
+         <activity
+             android:name="com.facebook.ads.InterstitialAdActivity"
+             android:configChanges="keyboardHidden|orientation|screenSize" />
+         <activity
+             android:name="com.mopub.mobileads.MoPubActivity"
+             android:configChanges="keyboardHidden|orientation|screenSize" />
+         <activity
+             android:name="com.mopub.mobileads.MraidActivity"
+             android:configChanges="keyboardHidden|orientation|screenSize" />
+         <activity
+             android:name="com.mopub.common.MoPubBrowser"
+             android:configChanges="keyboardHidden|orientation|screenSize" />
+         <activity
+             android:name="com.mopub.mobileads.MraidVideoPlayerActivity"
+             android:configChanges="keyboardHidden|orientation|screenSize" />
+         <activity
+             android:name="com.flurry.android.FlurryFullscreenTakeoverActivity"
+             android:configChanges="keyboard|keyboardHidden|orientation|screenLayout|uiMode|screenSize|smallestScreenSize" />
+         <!-- HK ad end -->
+         <!-- added by zengjie for joy lockscreen feature task 5429900 20170927 end-->
+	   <!--add for incoming calls turn to mute -->
+	   <service android:name="com.android.systemui.statusbar.phone.SensorFunctionServiceIncall"
+            android:exported="false"/>
+
+    </application>
+
+    <!-- Add keyguard usage protected broadcast -->
+    <protected-broadcast android:name="android.intent.action.normal.boot" />
+    <protected-broadcast android:name="android.intent.action.normal.boot.done" />
+    <protected-broadcast android:name="android.intent.action.normal.shutdown" />
+    <protected-broadcast android:name="android.intent.action.LAUNCH_POWEROFF_ALARM" />
+    <protected-broadcast android:name="alarm.boot.remove.ipowin" />
+    <protected-broadcast android:name="com.android.deskclock.SNOOZE_ALARM" />
+    <protected-broadcast android:name="com.android.deskclock.DISMISS_ALARM" />
+    <protected-broadcast android:name="com.android.deskclock.POWER_ON_ALARM" />
+
+</manifest>
Index: vendor/branch/5058I/frameworks/base/packages/SystemUI/assets/LScreen.apk
===================================================================
Cannot display: file marked as a binary type.
svn:mime-type = application/octet-stream
Index: vendor/branch/5058I/frameworks/base/packages/SystemUI/assets/LScreen.apk
===================================================================
--- vendor/branch/5058I/frameworks/base/packages/SystemUI/assets/LScreen.apk	(revision 0)
+++ vendor/branch/5058I/frameworks/base/packages/SystemUI/assets/LScreen.apk	(revision 1284)

Property changes on: vendor/branch/5058I/frameworks/base/packages/SystemUI/assets/LScreen.apk
___________________________________________________________________
Added: svn:mime-type
## -0,0 +1 ##
+application/octet-stream
\ No newline at end of property
Index: vendor/branch/5058I/frameworks/base/packages/Keyguard/res/layout/keyguard_status_area.xml
===================================================================
--- vendor/branch/5058I/frameworks/base/packages/Keyguard/res/layout/keyguard_status_area.xml	(revision 0)
+++ vendor/branch/5058I/frameworks/base/packages/Keyguard/res/layout/keyguard_status_area.xml	(revision 1284)
@@ -0,0 +1,54 @@
+<?xml version="1.0" encoding="utf-8"?>
+<!--
+**
+** Copyright 2013, The Android Open Source Project
+**
+** Licensed under the Apache License, Version 2.0 (the "License")
+** you may not use this file except in compliance with the License.
+** You may obtain a copy of the License at
+**
+**     http://www.apache.org/licenses/LICENSE-2.0
+**
+** Unless required by applicable law or agreed to in writing, software
+** distributed under the License is distributed on an "AS IS" BASIS,
+** WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+** See the License for the specific language governing permissions and
+** limitations under the License.
+*/
+-->
+
+<!-- This is a view that shows general status information in Keyguard. -->
+<LinearLayout
+    xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:androidprv="http://schemas.android.com/apk/res-auto"
+    android:layout_width="match_parent"
+    android:layout_height="wrap_content"
+    android:orientation="horizontal"
+    android:gravity="center">
+    <!-- modify style from "widget_label" to "keyguard_date_style" by zhangyong for D2908644 20161010 -->
+    <!--begin-modify by zengjie  for task:5429900 -->
+    <TextClock android:id="@+id/date_view"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:textColor="@color/clock_white"
+        style="@style/widget_label"
+        android:textAllCaps="true"
+        android:letterSpacing="0.15"
+        android:gravity="center"
+		android:visibility="gone"
+        />
+    <!--end-modify by zengjie  for task:5429900 -->
+    <TextView android:id="@+id/alarm_status"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:drawablePadding="6dp"
+        android:drawableStart="@drawable/ic_access_alarms_big"
+        android:textColor="@color/clock_gray"
+        android:letterSpacing="0.15"
+        android:textAllCaps="true"
+        style="@style/widget_label"
+        android:layout_marginStart="6dp"
+        android:gravity="center"
+        android:visibility="gone"
+        />
+</LinearLayout>
Index: vendor/branch/5058I/frameworks/base/packages/Keyguard/res/layout/keyguard_status_view.xml
===================================================================
--- vendor/branch/5058I/frameworks/base/packages/Keyguard/res/layout/keyguard_status_view.xml	(revision 0)
+++ vendor/branch/5058I/frameworks/base/packages/Keyguard/res/layout/keyguard_status_view.xml	(revision 1284)
@@ -0,0 +1,68 @@
+<?xml version="1.0" encoding="utf-8"?>
+<!--
+**
+** Copyright 2009, The Android Open Source Project
+**
+** Licensed under the Apache License, Version 2.0 (the "License")
+** you may not use this file except in compliance with the License.
+** You may obtain a copy of the License at
+**
+**     http://www.apache.org/licenses/LICENSE-2.0
+**
+** Unless required by applicable law or agreed to in writing, software
+** distributed under the License is distributed on an "AS IS" BASIS,
+** WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+** See the License for the specific language governing permissions and
+** limitations under the License.
+*/
+-->
+
+<!-- This is a view that shows general status information in Keyguard. -->
+<com.android.keyguard.KeyguardStatusView
+    xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:androidprv="http://schemas.android.com/apk/res-auto"
+    android:id="@+id/keyguard_status_view"
+    android:orientation="vertical"
+    android:layout_width="match_parent"
+    android:layout_height="wrap_content"
+    androidprv:layout_maxWidth="@dimen/keyguard_security_width"
+    androidprv:layout_maxHeight="@dimen/keyguard_security_height"
+    android:gravity="center_horizontal|top">
+    <LinearLayout
+        android:id="@+id/keyguard_clock_container"
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"
+        android:layout_gravity="center_horizontal|top"
+        android:orientation="vertical" >
+            <!--begin-modify by zengjie  for task:5429900 -->
+        <TextClock
+            android:id="@+id/clock_view"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_gravity="center_horizontal"
+            android:textColor="@color/clock_white"
+            android:singleLine="true"
+            style="@style/widget_big_thin"
+			android:visibility="gone"
+            android:format12Hour="@string/keyguard_widget_12_hours_format"
+            android:format24Hour="@string/keyguard_widget_24_hours_format"
+            android:layout_marginBottom="@dimen/bottom_text_spacing_digital" />
+            <!--begin-modify by zengjie  for task:5429900 -->
+
+        <include layout="@layout/keyguard_status_area" />
+        <TextView
+            android:id="@+id/owner_info"
+            android:layout_marginLeft="16dp"
+            android:layout_marginRight="16dp"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_marginTop="@dimen/date_owner_info_margin"
+            android:layout_gravity="center_horizontal"
+            android:textColor="@color/clock_gray"
+            android:textSize="@dimen/widget_label_font_size"
+            android:letterSpacing="0.05"
+            android:ellipsize="marquee"
+            android:singleLine="true" />
+
+    </LinearLayout>
+</com.android.keyguard.KeyguardStatusView>
Index: vendor/branch/5058Y/device/ausshine/aus6739_66_n1/ProjectConfig.mk
===================================================================
--- vendor/branch/5058Y/device/ausshine/aus6739_66_n1/ProjectConfig.mk	(revision 1283)
+++ vendor/branch/5058Y/device/ausshine/aus6739_66_n1/ProjectConfig.mk	(revision 1284)
@@ -716,4 +716,6 @@
 WIFI_WEP_KEY_ID_SET = no
 #CREATE_PROJECT_INFO=20171102102954
 DMNR_COMPLEX_ARCH_SUPPORT = yes
-BUILD_GMS = yes
\ No newline at end of file
+BUILD_GMS = yes
+
+TCL_LSCREEN_SUPPORT = yes
\ No newline at end of file
Index: vendor/branch/5058Y/frameworks/base/packages/Keyguard/res/layout/keyguard_status_area.xml
===================================================================
--- vendor/branch/5058Y/frameworks/base/packages/Keyguard/res/layout/keyguard_status_area.xml	(revision 0)
+++ vendor/branch/5058Y/frameworks/base/packages/Keyguard/res/layout/keyguard_status_area.xml	(revision 1284)
@@ -0,0 +1,54 @@
+<?xml version="1.0" encoding="utf-8"?>
+<!--
+**
+** Copyright 2013, The Android Open Source Project
+**
+** Licensed under the Apache License, Version 2.0 (the "License")
+** you may not use this file except in compliance with the License.
+** You may obtain a copy of the License at
+**
+**     http://www.apache.org/licenses/LICENSE-2.0
+**
+** Unless required by applicable law or agreed to in writing, software
+** distributed under the License is distributed on an "AS IS" BASIS,
+** WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+** See the License for the specific language governing permissions and
+** limitations under the License.
+*/
+-->
+
+<!-- This is a view that shows general status information in Keyguard. -->
+<LinearLayout
+    xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:androidprv="http://schemas.android.com/apk/res-auto"
+    android:layout_width="match_parent"
+    android:layout_height="wrap_content"
+    android:orientation="horizontal"
+    android:gravity="center">
+    <!-- modify style from "widget_label" to "keyguard_date_style" by zhangyong for D2908644 20161010 -->
+    <!--begin-modify by zengjie  for task:5429900 -->
+    <TextClock android:id="@+id/date_view"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:textColor="@color/clock_white"
+        style="@style/widget_label"
+        android:textAllCaps="true"
+        android:letterSpacing="0.15"
+        android:gravity="center"
+		android:visibility="gone"
+        />
+    <!--end-modify by zengjie  for task:5429900 -->
+    <TextView android:id="@+id/alarm_status"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:drawablePadding="6dp"
+        android:drawableStart="@drawable/ic_access_alarms_big"
+        android:textColor="@color/clock_gray"
+        android:letterSpacing="0.15"
+        android:textAllCaps="true"
+        style="@style/widget_label"
+        android:layout_marginStart="6dp"
+        android:gravity="center"
+        android:visibility="gone"
+        />
+</LinearLayout>
Index: vendor/branch/5058Y/frameworks/base/packages/Keyguard/res/layout/keyguard_status_view.xml
===================================================================
--- vendor/branch/5058Y/frameworks/base/packages/Keyguard/res/layout/keyguard_status_view.xml	(revision 0)
+++ vendor/branch/5058Y/frameworks/base/packages/Keyguard/res/layout/keyguard_status_view.xml	(revision 1284)
@@ -0,0 +1,68 @@
+<?xml version="1.0" encoding="utf-8"?>
+<!--
+**
+** Copyright 2009, The Android Open Source Project
+**
+** Licensed under the Apache License, Version 2.0 (the "License")
+** you may not use this file except in compliance with the License.
+** You may obtain a copy of the License at
+**
+**     http://www.apache.org/licenses/LICENSE-2.0
+**
+** Unless required by applicable law or agreed to in writing, software
+** distributed under the License is distributed on an "AS IS" BASIS,
+** WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+** See the License for the specific language governing permissions and
+** limitations under the License.
+*/
+-->
+
+<!-- This is a view that shows general status information in Keyguard. -->
+<com.android.keyguard.KeyguardStatusView
+    xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:androidprv="http://schemas.android.com/apk/res-auto"
+    android:id="@+id/keyguard_status_view"
+    android:orientation="vertical"
+    android:layout_width="match_parent"
+    android:layout_height="wrap_content"
+    androidprv:layout_maxWidth="@dimen/keyguard_security_width"
+    androidprv:layout_maxHeight="@dimen/keyguard_security_height"
+    android:gravity="center_horizontal|top">
+    <LinearLayout
+        android:id="@+id/keyguard_clock_container"
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"
+        android:layout_gravity="center_horizontal|top"
+        android:orientation="vertical" >
+            <!--begin-modify by zengjie  for task:5429900 -->
+        <TextClock
+            android:id="@+id/clock_view"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_gravity="center_horizontal"
+            android:textColor="@color/clock_white"
+            android:singleLine="true"
+            style="@style/widget_big_thin"
+			android:visibility="gone"
+            android:format12Hour="@string/keyguard_widget_12_hours_format"
+            android:format24Hour="@string/keyguard_widget_24_hours_format"
+            android:layout_marginBottom="@dimen/bottom_text_spacing_digital" />
+            <!--begin-modify by zengjie  for task:5429900 -->
+
+        <include layout="@layout/keyguard_status_area" />
+        <TextView
+            android:id="@+id/owner_info"
+            android:layout_marginLeft="16dp"
+            android:layout_marginRight="16dp"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_marginTop="@dimen/date_owner_info_margin"
+            android:layout_gravity="center_horizontal"
+            android:textColor="@color/clock_gray"
+            android:textSize="@dimen/widget_label_font_size"
+            android:letterSpacing="0.05"
+            android:ellipsize="marquee"
+            android:singleLine="true" />
+
+    </LinearLayout>
+</com.android.keyguard.KeyguardStatusView>
Index: vendor/branch/5058Y/frameworks/base/packages/SystemUI/assets/LScreen.apk
===================================================================
Cannot display: file marked as a binary type.
svn:mime-type = application/octet-stream
Index: vendor/branch/5058Y/frameworks/base/packages/SystemUI/assets/LScreen.apk
===================================================================
--- vendor/branch/5058Y/frameworks/base/packages/SystemUI/assets/LScreen.apk	(revision 0)
+++ vendor/branch/5058Y/frameworks/base/packages/SystemUI/assets/LScreen.apk	(revision 1284)

Property changes on: vendor/branch/5058Y/frameworks/base/packages/SystemUI/assets/LScreen.apk
___________________________________________________________________
Added: svn:mime-type
## -0,0 +1 ##
+application/octet-stream
\ No newline at end of property
Index: vendor/branch/5058Y/frameworks/base/packages/SystemUI/AndroidManifest.xml
===================================================================
--- vendor/branch/5058Y/frameworks/base/packages/SystemUI/AndroidManifest.xml	(revision 0)
+++ vendor/branch/5058Y/frameworks/base/packages/SystemUI/AndroidManifest.xml	(revision 1284)
@@ -0,0 +1,744 @@
+<?xml version="1.0" encoding="utf-8"?>
+<!--
+/*
+ * Copyright (c) 2014 Google Inc.
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+-->
+<manifest xmlns:android="http://schemas.android.com/apk/res/android"
+        xmlns:androidprv="http://schemas.android.com/apk/prv/res/android"
+        package="com.android.systemui"
+        android:sharedUserId="android.uid.systemui"
+        coreApp="true">
+
+	<!-- added by zengjie for joy lockscreen feature task 5429900 20171101 begin-->
+	<uses-sdk android:minSdkVersion="14" android:targetSdkVersion="25"/>
+	<uses-feature android:name="android.software.live_wallpaper" />
+    <uses-permission android:name="android.permission.READ_PHONE_STATE" />
+	<uses-permission android:name="android.permission.INTERNET" />
+	<uses-permission android:name="android.permission.RECORD_AUDIO" />
+	<uses-permission android:name="android.permission.FLASHLIGHT" />
+	<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
+	<uses-permission android:name="android.permission.READ_LOGS" />
+	<uses-permission android:name="com.android.launcher.permission.INSTALL_SHORTCUT" />
+	<uses-permission android:name="com.android.launcher.permission.UNINSTALL_SHORTCUT" />
+	<uses-permission android:name="android.permission.KILL_BACKGROUND_PROCESSES" />
+	<!-- added by zengjie for joy lockscreen feature task 5429900 20171101 end -->
+    <uses-permission android:name="android.permission.RECEIVE_BOOT_COMPLETED" />
+    <uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE" />
+    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
+    <!-- Used to read storage for all users -->
+    <uses-permission android:name="android.permission.WRITE_MEDIA_STORAGE" />
+    <uses-permission android:name="android.permission.WAKE_LOCK" />
+
+    <uses-permission android:name="android.permission.INJECT_EVENTS" />
+    <uses-permission android:name="android.permission.DUMP" />
+    <uses-permission android:name="android.permission.WRITE_SETTINGS" />
+
+    <uses-permission android:name="android.permission.STATUS_BAR_SERVICE" />
+    <uses-permission android:name="android.permission.STATUS_BAR" />
+    <uses-permission android:name="android.permission.EXPAND_STATUS_BAR" />
+    <uses-permission android:name="android.permission.REMOTE_AUDIO_PLAYBACK" />
+
+    <uses-permission android:name="android.permission.MANAGE_USERS" />
+    <uses-permission android:name="android.permission.READ_PROFILE" />
+    <uses-permission android:name="android.permission.READ_CONTACTS" />
+    <uses-permission android:name="android.permission.CONFIGURE_WIFI_DISPLAY" />
+    <uses-permission android:name="android.permission.WRITE_SECURE_SETTINGS" />
+    <uses-permission android:name="android.permission.GET_APP_OPS_STATS" />
+
+    <!-- Networking and telephony -->
+    <uses-permission android:name="android.permission.BLUETOOTH" />
+    <uses-permission android:name="android.permission.BLUETOOTH_ADMIN" />
+    <uses-permission android:name="android.permission.BLUETOOTH_PRIVILEGED" />
+    <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION"/>
+    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
+    <uses-permission android:name="android.permission.CHANGE_NETWORK_STATE" />
+    <uses-permission android:name="android.permission.READ_PRIVILEGED_PHONE_STATE" />
+    <uses-permission android:name="android.permission.ACCESS_WIFI_STATE" />
+    <uses-permission android:name="android.permission.CHANGE_WIFI_STATE" />
+    <uses-permission android:name="android.permission.OVERRIDE_WIFI_CONFIG" />
+    <uses-permission android:name="android.permission.MANAGE_NETWORK_POLICY" />
+    <uses-permission android:name="android.permission.CONNECTIVITY_INTERNAL" />
+    <uses-permission android:name="android.permission.TETHER_PRIVILEGED" />
+    <uses-permission android:name="android.permission.READ_NETWORK_USAGE_HISTORY" />
+    <uses-permission android:name="android.permission.CONTROL_VPN" />
+    <uses-permission android:name="android.permission.PEERS_MAC_ADDRESS"/>
+    <!-- Physical hardware -->
+    <uses-permission android:name="android.permission.MANAGE_USB" />
+    <uses-permission android:name="android.permission.DEVICE_POWER" />
+    <uses-permission android:name="android.permission.MOUNT_UNMOUNT_FILESYSTEMS" />
+    <uses-permission android:name="android.permission.MASTER_CLEAR" />
+    <uses-permission android:name="android.permission.VIBRATE" />
+
+    <!-- ActivityManager -->
+    <uses-permission android:name="android.permission.REAL_GET_TASKS" />
+    <uses-permission android:name="android.permission.GET_DETAILED_TASKS" />
+    <uses-permission android:name="android.permission.REORDER_TASKS" />
+    <uses-permission android:name="android.permission.REMOVE_TASKS" />
+    <uses-permission android:name="android.permission.STOP_APP_SWITCHES" />
+    <uses-permission android:name="android.permission.SET_SCREEN_COMPATIBILITY" />
+    <uses-permission android:name="android.permission.START_ANY_ACTIVITY" />
+    <uses-permission android:name="android.permission.INTERACT_ACROSS_USERS" />
+    <uses-permission android:name="android.permission.INTERACT_ACROSS_USERS_FULL" />
+    <uses-permission android:name="android.permission.GET_TOP_ACTIVITY_INFO" />
+    <uses-permission android:name="android.permission.MANAGE_ACTIVITY_STACKS" />
+    <uses-permission android:name="android.permission.START_TASKS_FROM_RECENTS" />
+    <uses-permission android:name="android.permission.GET_INTENT_SENDER_INTENT" />
+
+    <!-- WindowManager -->
+    <uses-permission android:name="android.permission.INTERNAL_SYSTEM_WINDOW" />
+    <uses-permission android:name="android.permission.SYSTEM_ALERT_WINDOW" />
+    <uses-permission android:name="android.permission.READ_FRAME_BUFFER" />
+    <uses-permission android:name="android.permission.MANAGE_APP_TOKENS" />
+    <uses-permission android:name="android.permission.REGISTER_WINDOW_MANAGER_LISTENERS" />
+    <uses-permission android:name="android.permission.SET_ORIENTATION" />
+    <uses-permission android:name="android.permission.DISABLE_KEYGUARD" />
+
+    <!-- DreamManager -->
+    <uses-permission android:name="android.permission.READ_DREAM_STATE" />
+    <uses-permission android:name="android.permission.WRITE_DREAM_STATE" />
+
+    <!-- Alarm clocks -->
+    <uses-permission android:name="com.android.alarm.permission.SET_ALARM" />
+
+    <!-- Keyguard -->
+    <uses-permission android:name="android.permission.CONTROL_KEYGUARD" />
+    <uses-permission android:name="android.permission.MODIFY_PHONE_STATE" />
+    <uses-permission android:name="android.permission.GET_ACCOUNTS" />
+    <uses-permission android:name="android.permission.MANAGE_ACCOUNTS" />
+    <uses-permission android:name="android.permission.BIND_DEVICE_ADMIN" />
+    <uses-permission android:name="android.permission.CHANGE_COMPONENT_ENABLED_STATE" />
+    <uses-permission android:name="android.permission.MEDIA_CONTENT_CONTROL" />
+    <uses-permission android:name="android.permission.ACCESS_KEYGUARD_SECURE_STORAGE" />
+    <uses-permission android:name="android.permission.TRUST_LISTENER" />
+    <uses-permission android:name="android.permission.USE_FINGERPRINT" />
+    <!-- Keyguard add for Anti-theft-->
+    <uses-permission android:name="com.mediatek.ppl.permission.ACCESS_PPL_MANAGER" />
+    <uses-permission android:name="android.permission.RESET_FINGERPRINT_LOCKOUT" />
+
+    <!-- Needed for WallpaperManager.clear in ImageWallpaper.updateWallpaperLocked -->
+    <uses-permission android:name="android.permission.SET_WALLPAPER"/>
+
+    <!-- Recents -->
+    <uses-permission android:name="android.permission.BIND_APPWIDGET" />
+
+    <!-- Wifi Display -->
+    <uses-permission android:name="android.permission.CONFIGURE_WIFI_DISPLAY" />
+
+    <uses-permission android:name="android.permission.CAMERA" />
+
+    <!-- Screen Capturing -->
+    <uses-permission android:name="android.permission.MANAGE_MEDIA_PROJECTION" />
+
+    <!-- Assist -->
+    <uses-permission android:name="android.permission.ACCESS_VOICE_INTERACTION_SERVICE" />
+
+    <!-- Listen for keyboard attachment / detachment -->
+    <uses-permission android:name="android.permission.TABLET_MODE" />
+
+    <!-- Self permission for internal broadcasts. -->
+    <permission android:name="com.android.systemui.permission.SELF"
+            android:protectionLevel="signature" />
+    <uses-permission android:name="com.android.systemui.permission.SELF" />
+
+    <!-- Adding Quick Settings tiles -->
+    <uses-permission android:name="android.permission.BIND_QUICK_SETTINGS_TILE" />
+
+    <!-- Block notifications inline notifications -->
+    <uses-permission android:name="android.permission.UPDATE_APP_OPS_STATS" />
+
+    <!-- Access battery information -->
+    <uses-permission android:name="android.permission.BATTERY_STATS" />
+
+    <!-- DevicePolicyManager get user restrictions -->
+    <uses-permission android:name="android.permission.MANAGE_PROFILE_AND_DEVICE_OWNERS" />
+
+    <!-- TV picture-in-picture -->
+    <uses-permission android:name="android.permission.RECEIVE_MEDIA_RESOURCE_USAGE" />
+
+    <!-- DND access -->
+    <uses-permission android:name="android.permission.MANAGE_NOTIFICATIONS" />
+    <!--TODO:: Check these permission whether still need on N -->
+    <!-- M: Add for data sim switch op feature -->
+    <uses-permission android:name="android.permission.WRITE_APN_SETTINGS"/>
+
+    <!-- M: Add for VoiceCommand -->
+    <uses-permission android:name="android.permission.MANAGE_VOICE_KEYPHRASES" />
+
+    <!-- M: Add for op feature -->
+    <uses-permission android:name="android.permission.READ_PRECISE_PHONE_STATE" />
+
+    <!-- It's like, reality, but, you know, virtual -->
+    <uses-permission android:name="android.permission.ACCESS_VR_MANAGER" />
+
+    <!-- the ability to rename notifications posted by other apps -->
+    <uses-permission android:name="android.permission.SUBSTITUTE_NOTIFICATION_APP_NAME" />
+
+    <!-- shortcut manager -->
+    <uses-permission android:name="android.permission.RESET_SHORTCUT_MANAGER_THROTTLING" />
+
+    <application
+        android:name=".SystemUIApplication"
+        android:persistent="true"
+        android:allowClearUserData="false"
+        android:allowBackup="false"
+        android:hardwareAccelerated="true"
+        android:label="@string/app_label"
+        android:icon="@drawable/icon"
+        android:process="com.android.systemui"
+        android:supportsRtl="true"
+        android:theme="@style/systemui_theme"
+        android:defaultToDeviceProtectedStorage="true"
+        android:directBootAware="true">
+        <!-- Keep theme in sync with SystemUIApplication.onCreate().
+             Setting the theme on the application does not affect views inflated by services.
+             The application theme is set again from onCreate to take effect for those views. -->
+
+        <!-- Broadcast receiver that gets the broadcast at boot time and starts
+             up everything else.
+             TODO: Should have an android:permission attribute
+             -->
+        <service android:name="SystemUIService"
+            android:exported="true"
+            />
+
+        <!-- Recents depends on every user having their own SystemUI process, so on user switch,
+             ensure that the process is created by starting this service.
+             -->
+        <service android:name="SystemUISecondaryUserService"
+            android:exported="true"
+            android:permission="com.android.systemui.permission.SELF" />
+
+
+        <!-- started from PhoneWindowManager
+             TODO: Should have an android:permission attribute -->
+        <service android:name=".screenshot.TakeScreenshotService"
+            android:process=":screenshot"
+            android:exported="false" />
+
+        <!-- Called from PhoneWindowManager -->
+        <receiver android:name=".screenshot.ScreenshotServiceErrorReceiver"
+            android:process=":screenshot"
+            android:exported="false">
+            <intent-filter>
+                <action android:name="com.android.systemui.screenshot.SHOW_ERROR" />
+            </intent-filter>
+        </receiver>
+
+        <service android:name=".ImageWallpaper"
+                android:permission="android.permission.BIND_WALLPAPER"
+                android:exported="true" />
+
+        <activity android:name=".tuner.TunerActivity"
+                  android:enabled="false"
+                  android:icon="@drawable/tuner"
+                  android:theme="@style/TunerSettings"
+                  android:label="@string/system_ui_tuner"
+                  android:process=":tuner"
+                  android:exported="true">
+            <intent-filter>
+                <action android:name="com.android.settings.action.EXTRA_SETTINGS" />
+                <category android:name="android.intent.category.DEFAULT" />
+            </intent-filter>
+            <meta-data android:name="com.android.settings.category"
+                    android:value="com.android.settings.category.system" />
+        </activity>
+
+        <activity-alias android:name=".DemoMode"
+                  android:targetActivity=".tuner.TunerActivity"
+                  android:icon="@drawable/tuner"
+                  android:theme="@style/TunerSettings"
+                  android:label="@string/demo_mode"
+                  android:process=":tuner"
+                  android:exported="true">
+            <intent-filter>
+                <action android:name="com.android.settings.action.DEMO_MODE" />
+                <category android:name="android.intent.category.DEFAULT" />
+            </intent-filter>
+        </activity-alias>
+
+        <!-- Service used by secondary users to register themselves with the system user. -->
+        <service android:name=".recents.RecentsSystemUserService"
+            android:exported="false"
+            android:permission="com.android.systemui.permission.SELF" />
+
+        <!-- Alternate Recents -->
+        <activity android:name=".recents.RecentsActivity"
+                  android:label="@string/accessibility_desc_recent_apps"
+                  android:exported="false"
+                  android:launchMode="singleInstance"
+                  android:excludeFromRecents="true"
+                  android:stateNotNeeded="true"
+                  android:resumeWhilePausing="true"
+                  android:screenOrientation="behind"
+                  android:resizeableActivity="true"
+                  android:configChanges="orientation|screenSize|smallestScreenSize|screenLayout"
+                  android:theme="@style/RecentsTheme.Wallpaper">
+            <intent-filter>
+                <action android:name="com.android.systemui.recents.TOGGLE_RECENTS" />
+            </intent-filter>
+        </activity>
+
+        <activity android:name=".recents.tv.RecentsTvActivity"
+                  android:label="@string/accessibility_desc_recent_apps"
+                  android:exported="false"
+                  android:launchMode="singleInstance"
+                  android:excludeFromRecents="true"
+                  android:stateNotNeeded="true"
+                  android:resumeWhilePausing="true"
+                  android:screenOrientation="behind"
+                  android:theme="@style/RecentsTvTheme.Wallpaper">
+            <intent-filter>
+                <action android:name="com.android.systemui.recents.TOGGLE_RECENTS" />
+            </intent-filter>
+        </activity>
+
+        <activity
+            android:name=".stackdivider.ForcedResizableInfoActivity"
+            android:theme="@style/ForcedResizableTheme"
+            android:excludeFromRecents="true"
+            android:stateNotNeeded="true"
+            android:configChanges="orientation|screenSize|smallestScreenSize|screenLayout"
+            android:exported="false">
+        </activity>
+
+        <!-- Callback for dismissing screenshot notification after a share target is picked -->
+        <receiver android:name=".screenshot.GlobalScreenshot$TargetChosenReceiver"
+                  android:process=":screenshot"
+                  android:exported="false" />
+
+        <!-- Callback for deleting screenshot notification -->
+        <receiver android:name=".screenshot.GlobalScreenshot$DeleteScreenshotReceiver"
+                  android:process=":screenshot"
+                  android:exported="false" />
+
+        <!-- started from UsbDeviceSettingsManager -->
+        <activity android:name=".usb.UsbConfirmActivity"
+            android:exported="true"
+            android:permission="android.permission.MANAGE_USB"
+            android:theme="@style/Theme.SystemUI.Dialog.Alert"
+            android:finishOnCloseSystemDialogs="true"
+            android:excludeFromRecents="true">
+        </activity>
+
+        <!-- started from UsbDeviceSettingsManager -->
+        <activity android:name=".usb.UsbPermissionActivity"
+            android:exported="true"
+            android:permission="android.permission.MANAGE_USB"
+            android:theme="@style/Theme.SystemUI.Dialog.Alert"
+            android:finishOnCloseSystemDialogs="true"
+            android:excludeFromRecents="true">
+        </activity>
+
+        <!-- started from UsbDeviceSettingsManager -->
+        <activity android:name=".usb.UsbResolverActivity"
+            android:exported="true"
+            android:permission="android.permission.MANAGE_USB"
+            android:theme="@style/Theme.SystemUI.Dialog.Alert"
+            android:finishOnCloseSystemDialogs="true"
+            android:excludeFromRecents="true">
+        </activity>
+
+        <!-- started from UsbDeviceSettingsManager -->
+        <activity android:name=".usb.UsbAccessoryUriActivity"
+            android:exported="true"
+            android:permission="android.permission.MANAGE_USB"
+            android:theme="@style/Theme.SystemUI.Dialog.Alert"
+            android:finishOnCloseSystemDialogs="true"
+            android:excludeFromRecents="true">
+        </activity>
+
+        <!-- started from UsbDebuggingManager -->
+        <activity android:name=".usb.UsbDebuggingActivity"
+            android:permission="android.permission.MANAGE_USB"
+            android:theme="@style/Theme.SystemUI.Dialog.Alert"
+            android:finishOnCloseSystemDialogs="true"
+            android:excludeFromRecents="true">
+        </activity>
+        <activity android:name=".usb.UsbDebuggingSecondaryUserActivity"
+            android:theme="@style/Theme.SystemUI.Dialog.Alert"
+            android:finishOnCloseSystemDialogs="true"
+            android:excludeFromRecents="true">
+        </activity>
+
+        <!-- started from NetworkPolicyManagerService -->
+        <activity
+            android:name=".net.NetworkOverLimitActivity"
+            android:exported="true"
+            android:permission="android.permission.MANAGE_NETWORK_POLICY"
+            android:theme="@android:style/Theme.DeviceDefault.Light.Panel"
+            android:finishOnCloseSystemDialogs="true"
+            android:launchMode="singleTop"
+            android:taskAffinity="com.android.systemui.net"
+            android:excludeFromRecents="true" />
+
+        <!-- started from MediaProjectionManager -->
+        <activity
+            android:name=".media.MediaProjectionPermissionActivity"
+            android:exported="true"
+            android:theme="@style/Theme.AlertDialogHost"
+            android:finishOnCloseSystemDialogs="true"
+            android:launchMode="singleTop"
+            android:excludeFromRecents="true" />
+
+        <!-- started from PipUI -->
+        <activity
+            android:name="com.android.systemui.tv.pip.PipMenuActivity"
+            android:exported="true"
+            android:theme="@style/PipTheme"
+            android:launchMode="singleTop"
+            android:taskAffinity=""
+            android:configChanges="screenSize|smallestScreenSize|screenLayout|orientation|locale|layoutDirection"
+            android:resizeableActivity="true"
+            android:supportsPictureInPicture="true"
+            androidprv:alwaysFocusable="true"
+            android:excludeFromRecents="true" />
+        <activity
+            android:name="com.android.systemui.tv.pip.PipOverlayActivity"
+            android:exported="true"
+            android:theme="@style/PipTheme"
+            android:taskAffinity=""
+            android:configChanges="screenSize|smallestScreenSize|screenLayout|orientation|locale|layoutDirection"
+            android:resizeableActivity="true"
+            android:supportsPictureInPicture="true"
+            android:excludeFromRecents="true" />
+        <activity
+            android:name="com.android.systemui.tv.pip.PipOnboardingActivity"
+            android:exported="true"
+            android:theme="@style/PipTheme"
+            android:launchMode="singleTop"
+            android:excludeFromRecents="true" />
+
+        <!-- platform logo easter egg activity -->
+        <activity
+            android:name=".DessertCase"
+            android:exported="true"
+            android:label="@string/dessert_case"
+            android:theme="@android:style/Theme.Black.NoTitleBar.Fullscreen"
+            android:hardwareAccelerated="true"
+            android:launchMode="singleInstance"
+            android:screenOrientation="locked"
+            android:process=":sweetsweetdesserts"
+            android:excludeFromRecents="true">
+            <intent-filter>
+                <action android:name="android.intent.action.MAIN" />
+                <category android:name="android.intent.category.DEFAULT" />
+            </intent-filter>
+        </activity>
+
+        <activity android:name=".egg.MLandActivity"
+                  android:theme="@android:style/Theme.Material.NoActionBar"
+                  android:exported="true"
+                  android:icon="@drawable/icon"
+                  android:label="@string/mland"
+                  android:hardwareAccelerated="true"
+                  android:launchMode="singleInstance"
+                  android:screenOrientation="locked"
+                  android:process=":sweetsweetdesserts"
+                  android:excludeFromRecents="true">
+            <intent-filter>
+                <action android:name="android.intent.action.MAIN"/>
+                <category android:name="android.intent.category.DEFAULT" />
+            </intent-filter>
+        </activity>
+
+        <!-- a gallery of delicious treats -->
+        <service
+            android:name=".DessertCaseDream"
+            android:exported="true"
+            android:label="@string/dessert_case"
+            android:permission="android.permission.BIND_DREAM_SERVICE"
+            android:enabled="false"
+            android:process=":sweetsweetdesserts"
+            >
+            <intent-filter>
+                <action android:name="android.service.dreams.DreamService" />
+                <category android:name="android.intent.category.DEFAULT" />
+            </intent-filter>
+        </service>
+
+        <service
+            android:name=".keyguard.KeyguardService"
+            android:exported="true"
+            android:enabled="@bool/config_enableKeyguardService" />
+
+        <activity android:name=".Somnambulator"
+            android:label="@string/start_dreams"
+            android:icon="@mipmap/ic_launcher_dreams"
+            android:theme="@android:style/Theme.Wallpaper.NoTitleBar"
+            android:exported="true"
+            android:excludeFromRecents="true"
+            >
+            <!--
+            <intent-filter>
+                <action android:name="android.intent.action.CREATE_SHORTCUT" />
+                <category android:name="android.intent.category.DEFAULT" />
+            </intent-filter>
+            -->
+            <intent-filter>
+                <action android:name="android.intent.action.MAIN" />
+                <category android:name="android.intent.category.DEFAULT" />
+                <category android:name="android.intent.category.DESK_DOCK" />
+            </intent-filter>
+        </activity>
+
+        <activity
+            android:name=".settings.BrightnessDialog"
+            android:label="@string/quick_settings_brightness_dialog_title"
+            android:theme="@android:style/Theme.DeviceDefault.Dialog"
+            android:finishOnCloseSystemDialogs="true"
+            android:launchMode="singleInstance"
+            android:excludeFromRecents="true"
+            android:exported="true">
+            <intent-filter>
+                <action android:name="android.intent.action.SHOW_BRIGHTNESS_DIALOG" />
+                <category android:name="android.intent.category.DEFAULT" />
+            </intent-filter>
+        </activity>
+
+        <!-- Doze with notifications, run in main sysui process for every user  -->
+        <service
+            android:name=".doze.DozeService"
+            android:exported="true"
+            android:singleUser="true"
+            android:permission="android.permission.BIND_DREAM_SERVICE" />
+
+        <receiver
+            android:name=".tuner.TunerService$ClearReceiver"
+            android:exported="false">
+            <intent-filter>
+                <action android:name="com.android.systemui.action.CLEAR_TUNER" />
+            </intent-filter>
+        </receiver>
+
+        <receiver
+            android:name=".statusbar.KeyboardShortcutsReceiver">
+            <intent-filter>
+                <action android:name="android.intent.action.DISMISS_KEYBOARD_SHORTCUTS" />
+                <action android:name="android.intent.action.SHOW_KEYBOARD_SHORTCUTS" />
+            </intent-filter>
+        </receiver>
+
+		    <!-- Add func settings -->
+		<activity android:name=".funcsetting.FuncSettings"
+			android:theme="@style/FuncTheme">
+			<intent-filter >
+			  
+				<action  android:name="com.android.systemui.SYSTEMUI_FUNC_SETTING" />
+			</intent-filter>
+		</activity>
+		<activity android:name=".funcsetting.AppListActivity" 
+			android:theme="@style/FuncTheme"/>
+		<receiver android:name=".funcsetting.ContactsReceiver">
+			<intent-filter >
+				<action android:name="com.android.systemui.funcsettings.contact_uri"/>
+				<action android:name="com.android.music.playlist_id"/>
+			</intent-filter>
+       </receiver>
+
+		<!-- added by zengjie for joy lockscreen feature task 5429900 20170927 begin-->
+         <activity android:name="com.tcl.mie.launcher.lscreen.stub.activity.ActivityProxy"
+             android:launchMode="standard"
+             android:screenOrientation="portrait"
+             android:theme="@android:style/Theme.NoTitleBar">
+         </activity>
+ 
+         <service
+             android:name="com.tcl.mie.launcher.lscreen.stub.service.ServiceProxy">
+         </service>
+ 
+         <meta-data android:name="product_file_version" android:value="1874"/>
+ 
+         <meta-data android:name="product_name" android:value="android-tcl-magazine-sdk" />
+ 
+         <meta-data android:name="product_path"  android:value="vlife_magazine"/>
+ 
+         <meta-data android:name="package_resource_type" android:value="" />
+ 
+         <meta-data android:name="wallpaper_resource_id" android:value="465"/>
+ 
+         <meta-data android:name="channel_id" android:value="2067"/>
+ 
+         <meta-data android:name="wallpaper_mypaper_ids" android:value="" />
+ 
+         <meta-data android:name="independent_version"  android:value="3"/>
+ 
+         <meta-data android:name="release_type"  android:value="release"/>
+ 
+         <meta-data android:name="version_name"  android:value="6.132.5"/>
+         <meta-data android:name="version_code"  android:value= "6144"/>  
+         
+         <meta-data
+             android:name="com.google.android.gms.version"
+             android:value="@integer/google_play_services_version" />
+ 
+         <service
+             android:name="com.vlife.MCService"
+             android:exported="true"
+             android:process=":main">
+             <intent-filter>
+                 <action android:name="com.vlife.magazine.content"/>
+                 <category android:name="android.intent.category.DEFAULT" />
+             </intent-filter>
+         </service>
+         <service
+             android:name="com.vlife.AService"
+             android:process=":main">
+             <intent-filter>
+                 <action android:name="com.vlife.init.action"/>
+                 <category android:name="android.intent.category.DEFAULT"/>
+             </intent-filter>
+         </service>
+ 
+         <service
+             android:name="com.vlife.TService"
+             android:exported="true"
+             android:process=":main">
+             <intent-filter>
+                 <action android:name="com.vlife.intent.action.DS" />
+                 <category android:name="android.intent.category.DEFAULT" />
+             </intent-filter>
+             <intent-filter>
+                 <action android:name="com.vlife.intent.action.DB" />
+                 <category android:name="android.intent.category.DEFAULT" />
+             </intent-filter>
+         </service>
+ 
+         <receiver
+             android:name="com.vlife.SReceiver"
+             android:process=":main">
+             <intent-filter>
+                 <action android:name="android.intent.action.MEDIA_MOUNTED" />
+                 <action android:name="android.intent.action.MEDIA_REMOVED" />
+                 <action android:name="android.intent.action.MEDIA_SHARED" />
+ 
+                 <data android:scheme="file" />
+             </intent-filter>
+         </receiver>
+         <receiver
+             android:name="com.vlife.NReceiver"
+             android:process=":main">
+             <intent-filter>
+                 <action android:name="android.net.conn.CONNECTIVITY_CHANGE" />
+             </intent-filter>
+         </receiver>
+         <receiver
+             android:name="com.vlife.BReceiver"
+             android:process=":main">
+             <intent-filter>
+                 <action android:name="android.intent.action.BOOT_COMPLETED" />
+                 <action android:name="android.intent.action.QUICKBOOT_POWERON" />
+                 <action android:name="android.intent.action.MEDIA_MOUNTED" />
+                 <action android:name="android.intent.action.MEDIA_SCANNER_FINISHED" />
+                 <category android:name="android.intent.category.LAUNCHER" />
+             </intent-filter>
+         </receiver>
+         <receiver
+             android:name="com.handpet.livewallpaper.receiver.PetMainReceiver"
+             android:process=":main">
+             <intent-filter android:priority="99">
+                 <action android:name="android.intent.action.PACKAGE_ADDED" />
+                 <action android:name="android.intent.action.PACKAGE_REMOVED" />
+                 <data android:scheme="package" />
+             </intent-filter>
+             <intent-filter>
+                 <action android:name="android.intent.action.DOWNLOAD_COMPLETE" />
+             </intent-filter>
+         </receiver>
+         <receiver
+             android:name="com.vlife.IReceiver"
+             android:process=":main">
+             <intent-filter android:priority="99">
+                 <action android:name="android.intent.action.PACKAGE_ADDED" />
+                 <action android:name="android.intent.action.PACKAGE_REMOVED" />
+                 <action android:name="android.intent.action.PACKAGE_INSTALL" />
+                 <action android:name="android.intent.action.PACKAGE_REPLACED" />
+                 <data android:scheme="package" />
+             </intent-filter>
+         </receiver>
+         <!--add for joy lockscreen with baidu begin-->
+         <activity
+             android:name="com.google.android.gms.ads.AdActivity"
+             android:configChanges="keyboard|keyboardHidden|orientation|screenLayout|uiMode|screenSize|smallestScreenSize"
+             android:theme="@android:style/Theme.Translucent" />
+         <activity
+             android:name="com.duapps.ad.InterstitialAdActivity"
+             android:configChanges="orientation|keyboardHidden|screenSize"
+             android:theme="@android:style/Theme.Translucent.NoTitleBar" />
+ 
+         <meta-data
+             android:name="app_license"
+             android:value="2c9c05a2bb3e4885c0e75e4a9f637a97"/>
+ 
+         <provider
+             android:name="com.duapps.ad.stats.DuAdCacheProvider"
+             android:authorities="com.android.systemui.DuAdCacheProvider"
+             android:exported="false">
+         </provider>
+ 
+         <receiver android:name="com.duapps.ad.base.PackageAddReceiver">
+             <intent-filter>
+                 <action android:name="android.intent.action.PACKAGE_ADDED"/>
+ 
+                 <data android:scheme="package"/>
+             </intent-filter>
+         </receiver>
+         <!--add for joy lockscreen with baidu end-->
+ 
+         <meta-data
+             android:name="UMENG_APPKEY"
+             android:value="59e84f9c07fe65670c0000cb"/>
+         <meta-data
+             android:name="UMENG_CHANNEL"
+             android:value="tcl_preload"/>
+ 
+         <!-- HK ad start -->
+         <activity
+             android:name="com.facebook.ads.InterstitialAdActivity"
+             android:configChanges="keyboardHidden|orientation|screenSize" />
+         <activity
+             android:name="com.mopub.mobileads.MoPubActivity"
+             android:configChanges="keyboardHidden|orientation|screenSize" />
+         <activity
+             android:name="com.mopub.mobileads.MraidActivity"
+             android:configChanges="keyboardHidden|orientation|screenSize" />
+         <activity
+             android:name="com.mopub.common.MoPubBrowser"
+             android:configChanges="keyboardHidden|orientation|screenSize" />
+         <activity
+             android:name="com.mopub.mobileads.MraidVideoPlayerActivity"
+             android:configChanges="keyboardHidden|orientation|screenSize" />
+         <activity
+             android:name="com.flurry.android.FlurryFullscreenTakeoverActivity"
+             android:configChanges="keyboard|keyboardHidden|orientation|screenLayout|uiMode|screenSize|smallestScreenSize" />
+         <!-- HK ad end -->
+         <!-- added by zengjie for joy lockscreen feature task 5429900 20170927 end-->
+	   <!--add for incoming calls turn to mute -->
+	   <service android:name="com.android.systemui.statusbar.phone.SensorFunctionServiceIncall"
+            android:exported="false"/>
+
+    </application>
+
+    <!-- Add keyguard usage protected broadcast -->
+    <protected-broadcast android:name="android.intent.action.normal.boot" />
+    <protected-broadcast android:name="android.intent.action.normal.boot.done" />
+    <protected-broadcast android:name="android.intent.action.normal.shutdown" />
+    <protected-broadcast android:name="android.intent.action.LAUNCH_POWEROFF_ALARM" />
+    <protected-broadcast android:name="alarm.boot.remove.ipowin" />
+    <protected-broadcast android:name="com.android.deskclock.SNOOZE_ALARM" />
+    <protected-broadcast android:name="com.android.deskclock.DISMISS_ALARM" />
+    <protected-broadcast android:name="com.android.deskclock.POWER_ON_ALARM" />
+
+</manifest>
Index: vendor/branch/5058J/device/ausshine/aus6739_66_n1/ProjectConfig.mk
===================================================================
--- vendor/branch/5058J/device/ausshine/aus6739_66_n1/ProjectConfig.mk	(revision 1283)
+++ vendor/branch/5058J/device/ausshine/aus6739_66_n1/ProjectConfig.mk	(revision 1284)
@@ -716,4 +716,6 @@
 WIFI_WEP_KEY_ID_SET = no
 #CREATE_PROJECT_INFO=20171102102954
 DMNR_COMPLEX_ARCH_SUPPORT = yes
-BUILD_GMS = yes
\ No newline at end of file
+BUILD_GMS = yes
+
+TCL_LSCREEN_SUPPORT = yes
\ No newline at end of file
Index: vendor/branch/5058J/frameworks/base/packages/SystemUI/AndroidManifest.xml
===================================================================
--- vendor/branch/5058J/frameworks/base/packages/SystemUI/AndroidManifest.xml	(revision 0)
+++ vendor/branch/5058J/frameworks/base/packages/SystemUI/AndroidManifest.xml	(revision 1284)
@@ -0,0 +1,744 @@
+<?xml version="1.0" encoding="utf-8"?>
+<!--
+/*
+ * Copyright (c) 2014 Google Inc.
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+-->
+<manifest xmlns:android="http://schemas.android.com/apk/res/android"
+        xmlns:androidprv="http://schemas.android.com/apk/prv/res/android"
+        package="com.android.systemui"
+        android:sharedUserId="android.uid.systemui"
+        coreApp="true">
+
+	<!-- added by zengjie for joy lockscreen feature task 5429900 20171101 begin-->
+	<uses-sdk android:minSdkVersion="14" android:targetSdkVersion="25"/>
+	<uses-feature android:name="android.software.live_wallpaper" />
+    <uses-permission android:name="android.permission.READ_PHONE_STATE" />
+	<uses-permission android:name="android.permission.INTERNET" />
+	<uses-permission android:name="android.permission.RECORD_AUDIO" />
+	<uses-permission android:name="android.permission.FLASHLIGHT" />
+	<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
+	<uses-permission android:name="android.permission.READ_LOGS" />
+	<uses-permission android:name="com.android.launcher.permission.INSTALL_SHORTCUT" />
+	<uses-permission android:name="com.android.launcher.permission.UNINSTALL_SHORTCUT" />
+	<uses-permission android:name="android.permission.KILL_BACKGROUND_PROCESSES" />
+	<!-- added by zengjie for joy lockscreen feature task 5429900 20171101 end -->
+    <uses-permission android:name="android.permission.RECEIVE_BOOT_COMPLETED" />
+    <uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE" />
+    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
+    <!-- Used to read storage for all users -->
+    <uses-permission android:name="android.permission.WRITE_MEDIA_STORAGE" />
+    <uses-permission android:name="android.permission.WAKE_LOCK" />
+
+    <uses-permission android:name="android.permission.INJECT_EVENTS" />
+    <uses-permission android:name="android.permission.DUMP" />
+    <uses-permission android:name="android.permission.WRITE_SETTINGS" />
+
+    <uses-permission android:name="android.permission.STATUS_BAR_SERVICE" />
+    <uses-permission android:name="android.permission.STATUS_BAR" />
+    <uses-permission android:name="android.permission.EXPAND_STATUS_BAR" />
+    <uses-permission android:name="android.permission.REMOTE_AUDIO_PLAYBACK" />
+
+    <uses-permission android:name="android.permission.MANAGE_USERS" />
+    <uses-permission android:name="android.permission.READ_PROFILE" />
+    <uses-permission android:name="android.permission.READ_CONTACTS" />
+    <uses-permission android:name="android.permission.CONFIGURE_WIFI_DISPLAY" />
+    <uses-permission android:name="android.permission.WRITE_SECURE_SETTINGS" />
+    <uses-permission android:name="android.permission.GET_APP_OPS_STATS" />
+
+    <!-- Networking and telephony -->
+    <uses-permission android:name="android.permission.BLUETOOTH" />
+    <uses-permission android:name="android.permission.BLUETOOTH_ADMIN" />
+    <uses-permission android:name="android.permission.BLUETOOTH_PRIVILEGED" />
+    <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION"/>
+    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
+    <uses-permission android:name="android.permission.CHANGE_NETWORK_STATE" />
+    <uses-permission android:name="android.permission.READ_PRIVILEGED_PHONE_STATE" />
+    <uses-permission android:name="android.permission.ACCESS_WIFI_STATE" />
+    <uses-permission android:name="android.permission.CHANGE_WIFI_STATE" />
+    <uses-permission android:name="android.permission.OVERRIDE_WIFI_CONFIG" />
+    <uses-permission android:name="android.permission.MANAGE_NETWORK_POLICY" />
+    <uses-permission android:name="android.permission.CONNECTIVITY_INTERNAL" />
+    <uses-permission android:name="android.permission.TETHER_PRIVILEGED" />
+    <uses-permission android:name="android.permission.READ_NETWORK_USAGE_HISTORY" />
+    <uses-permission android:name="android.permission.CONTROL_VPN" />
+    <uses-permission android:name="android.permission.PEERS_MAC_ADDRESS"/>
+    <!-- Physical hardware -->
+    <uses-permission android:name="android.permission.MANAGE_USB" />
+    <uses-permission android:name="android.permission.DEVICE_POWER" />
+    <uses-permission android:name="android.permission.MOUNT_UNMOUNT_FILESYSTEMS" />
+    <uses-permission android:name="android.permission.MASTER_CLEAR" />
+    <uses-permission android:name="android.permission.VIBRATE" />
+
+    <!-- ActivityManager -->
+    <uses-permission android:name="android.permission.REAL_GET_TASKS" />
+    <uses-permission android:name="android.permission.GET_DETAILED_TASKS" />
+    <uses-permission android:name="android.permission.REORDER_TASKS" />
+    <uses-permission android:name="android.permission.REMOVE_TASKS" />
+    <uses-permission android:name="android.permission.STOP_APP_SWITCHES" />
+    <uses-permission android:name="android.permission.SET_SCREEN_COMPATIBILITY" />
+    <uses-permission android:name="android.permission.START_ANY_ACTIVITY" />
+    <uses-permission android:name="android.permission.INTERACT_ACROSS_USERS" />
+    <uses-permission android:name="android.permission.INTERACT_ACROSS_USERS_FULL" />
+    <uses-permission android:name="android.permission.GET_TOP_ACTIVITY_INFO" />
+    <uses-permission android:name="android.permission.MANAGE_ACTIVITY_STACKS" />
+    <uses-permission android:name="android.permission.START_TASKS_FROM_RECENTS" />
+    <uses-permission android:name="android.permission.GET_INTENT_SENDER_INTENT" />
+
+    <!-- WindowManager -->
+    <uses-permission android:name="android.permission.INTERNAL_SYSTEM_WINDOW" />
+    <uses-permission android:name="android.permission.SYSTEM_ALERT_WINDOW" />
+    <uses-permission android:name="android.permission.READ_FRAME_BUFFER" />
+    <uses-permission android:name="android.permission.MANAGE_APP_TOKENS" />
+    <uses-permission android:name="android.permission.REGISTER_WINDOW_MANAGER_LISTENERS" />
+    <uses-permission android:name="android.permission.SET_ORIENTATION" />
+    <uses-permission android:name="android.permission.DISABLE_KEYGUARD" />
+
+    <!-- DreamManager -->
+    <uses-permission android:name="android.permission.READ_DREAM_STATE" />
+    <uses-permission android:name="android.permission.WRITE_DREAM_STATE" />
+
+    <!-- Alarm clocks -->
+    <uses-permission android:name="com.android.alarm.permission.SET_ALARM" />
+
+    <!-- Keyguard -->
+    <uses-permission android:name="android.permission.CONTROL_KEYGUARD" />
+    <uses-permission android:name="android.permission.MODIFY_PHONE_STATE" />
+    <uses-permission android:name="android.permission.GET_ACCOUNTS" />
+    <uses-permission android:name="android.permission.MANAGE_ACCOUNTS" />
+    <uses-permission android:name="android.permission.BIND_DEVICE_ADMIN" />
+    <uses-permission android:name="android.permission.CHANGE_COMPONENT_ENABLED_STATE" />
+    <uses-permission android:name="android.permission.MEDIA_CONTENT_CONTROL" />
+    <uses-permission android:name="android.permission.ACCESS_KEYGUARD_SECURE_STORAGE" />
+    <uses-permission android:name="android.permission.TRUST_LISTENER" />
+    <uses-permission android:name="android.permission.USE_FINGERPRINT" />
+    <!-- Keyguard add for Anti-theft-->
+    <uses-permission android:name="com.mediatek.ppl.permission.ACCESS_PPL_MANAGER" />
+    <uses-permission android:name="android.permission.RESET_FINGERPRINT_LOCKOUT" />
+
+    <!-- Needed for WallpaperManager.clear in ImageWallpaper.updateWallpaperLocked -->
+    <uses-permission android:name="android.permission.SET_WALLPAPER"/>
+
+    <!-- Recents -->
+    <uses-permission android:name="android.permission.BIND_APPWIDGET" />
+
+    <!-- Wifi Display -->
+    <uses-permission android:name="android.permission.CONFIGURE_WIFI_DISPLAY" />
+
+    <uses-permission android:name="android.permission.CAMERA" />
+
+    <!-- Screen Capturing -->
+    <uses-permission android:name="android.permission.MANAGE_MEDIA_PROJECTION" />
+
+    <!-- Assist -->
+    <uses-permission android:name="android.permission.ACCESS_VOICE_INTERACTION_SERVICE" />
+
+    <!-- Listen for keyboard attachment / detachment -->
+    <uses-permission android:name="android.permission.TABLET_MODE" />
+
+    <!-- Self permission for internal broadcasts. -->
+    <permission android:name="com.android.systemui.permission.SELF"
+            android:protectionLevel="signature" />
+    <uses-permission android:name="com.android.systemui.permission.SELF" />
+
+    <!-- Adding Quick Settings tiles -->
+    <uses-permission android:name="android.permission.BIND_QUICK_SETTINGS_TILE" />
+
+    <!-- Block notifications inline notifications -->
+    <uses-permission android:name="android.permission.UPDATE_APP_OPS_STATS" />
+
+    <!-- Access battery information -->
+    <uses-permission android:name="android.permission.BATTERY_STATS" />
+
+    <!-- DevicePolicyManager get user restrictions -->
+    <uses-permission android:name="android.permission.MANAGE_PROFILE_AND_DEVICE_OWNERS" />
+
+    <!-- TV picture-in-picture -->
+    <uses-permission android:name="android.permission.RECEIVE_MEDIA_RESOURCE_USAGE" />
+
+    <!-- DND access -->
+    <uses-permission android:name="android.permission.MANAGE_NOTIFICATIONS" />
+    <!--TODO:: Check these permission whether still need on N -->
+    <!-- M: Add for data sim switch op feature -->
+    <uses-permission android:name="android.permission.WRITE_APN_SETTINGS"/>
+
+    <!-- M: Add for VoiceCommand -->
+    <uses-permission android:name="android.permission.MANAGE_VOICE_KEYPHRASES" />
+
+    <!-- M: Add for op feature -->
+    <uses-permission android:name="android.permission.READ_PRECISE_PHONE_STATE" />
+
+    <!-- It's like, reality, but, you know, virtual -->
+    <uses-permission android:name="android.permission.ACCESS_VR_MANAGER" />
+
+    <!-- the ability to rename notifications posted by other apps -->
+    <uses-permission android:name="android.permission.SUBSTITUTE_NOTIFICATION_APP_NAME" />
+
+    <!-- shortcut manager -->
+    <uses-permission android:name="android.permission.RESET_SHORTCUT_MANAGER_THROTTLING" />
+
+    <application
+        android:name=".SystemUIApplication"
+        android:persistent="true"
+        android:allowClearUserData="false"
+        android:allowBackup="false"
+        android:hardwareAccelerated="true"
+        android:label="@string/app_label"
+        android:icon="@drawable/icon"
+        android:process="com.android.systemui"
+        android:supportsRtl="true"
+        android:theme="@style/systemui_theme"
+        android:defaultToDeviceProtectedStorage="true"
+        android:directBootAware="true">
+        <!-- Keep theme in sync with SystemUIApplication.onCreate().
+             Setting the theme on the application does not affect views inflated by services.
+             The application theme is set again from onCreate to take effect for those views. -->
+
+        <!-- Broadcast receiver that gets the broadcast at boot time and starts
+             up everything else.
+             TODO: Should have an android:permission attribute
+             -->
+        <service android:name="SystemUIService"
+            android:exported="true"
+            />
+
+        <!-- Recents depends on every user having their own SystemUI process, so on user switch,
+             ensure that the process is created by starting this service.
+             -->
+        <service android:name="SystemUISecondaryUserService"
+            android:exported="true"
+            android:permission="com.android.systemui.permission.SELF" />
+
+
+        <!-- started from PhoneWindowManager
+             TODO: Should have an android:permission attribute -->
+        <service android:name=".screenshot.TakeScreenshotService"
+            android:process=":screenshot"
+            android:exported="false" />
+
+        <!-- Called from PhoneWindowManager -->
+        <receiver android:name=".screenshot.ScreenshotServiceErrorReceiver"
+            android:process=":screenshot"
+            android:exported="false">
+            <intent-filter>
+                <action android:name="com.android.systemui.screenshot.SHOW_ERROR" />
+            </intent-filter>
+        </receiver>
+
+        <service android:name=".ImageWallpaper"
+                android:permission="android.permission.BIND_WALLPAPER"
+                android:exported="true" />
+
+        <activity android:name=".tuner.TunerActivity"
+                  android:enabled="false"
+                  android:icon="@drawable/tuner"
+                  android:theme="@style/TunerSettings"
+                  android:label="@string/system_ui_tuner"
+                  android:process=":tuner"
+                  android:exported="true">
+            <intent-filter>
+                <action android:name="com.android.settings.action.EXTRA_SETTINGS" />
+                <category android:name="android.intent.category.DEFAULT" />
+            </intent-filter>
+            <meta-data android:name="com.android.settings.category"
+                    android:value="com.android.settings.category.system" />
+        </activity>
+
+        <activity-alias android:name=".DemoMode"
+                  android:targetActivity=".tuner.TunerActivity"
+                  android:icon="@drawable/tuner"
+                  android:theme="@style/TunerSettings"
+                  android:label="@string/demo_mode"
+                  android:process=":tuner"
+                  android:exported="true">
+            <intent-filter>
+                <action android:name="com.android.settings.action.DEMO_MODE" />
+                <category android:name="android.intent.category.DEFAULT" />
+            </intent-filter>
+        </activity-alias>
+
+        <!-- Service used by secondary users to register themselves with the system user. -->
+        <service android:name=".recents.RecentsSystemUserService"
+            android:exported="false"
+            android:permission="com.android.systemui.permission.SELF" />
+
+        <!-- Alternate Recents -->
+        <activity android:name=".recents.RecentsActivity"
+                  android:label="@string/accessibility_desc_recent_apps"
+                  android:exported="false"
+                  android:launchMode="singleInstance"
+                  android:excludeFromRecents="true"
+                  android:stateNotNeeded="true"
+                  android:resumeWhilePausing="true"
+                  android:screenOrientation="behind"
+                  android:resizeableActivity="true"
+                  android:configChanges="orientation|screenSize|smallestScreenSize|screenLayout"
+                  android:theme="@style/RecentsTheme.Wallpaper">
+            <intent-filter>
+                <action android:name="com.android.systemui.recents.TOGGLE_RECENTS" />
+            </intent-filter>
+        </activity>
+
+        <activity android:name=".recents.tv.RecentsTvActivity"
+                  android:label="@string/accessibility_desc_recent_apps"
+                  android:exported="false"
+                  android:launchMode="singleInstance"
+                  android:excludeFromRecents="true"
+                  android:stateNotNeeded="true"
+                  android:resumeWhilePausing="true"
+                  android:screenOrientation="behind"
+                  android:theme="@style/RecentsTvTheme.Wallpaper">
+            <intent-filter>
+                <action android:name="com.android.systemui.recents.TOGGLE_RECENTS" />
+            </intent-filter>
+        </activity>
+
+        <activity
+            android:name=".stackdivider.ForcedResizableInfoActivity"
+            android:theme="@style/ForcedResizableTheme"
+            android:excludeFromRecents="true"
+            android:stateNotNeeded="true"
+            android:configChanges="orientation|screenSize|smallestScreenSize|screenLayout"
+            android:exported="false">
+        </activity>
+
+        <!-- Callback for dismissing screenshot notification after a share target is picked -->
+        <receiver android:name=".screenshot.GlobalScreenshot$TargetChosenReceiver"
+                  android:process=":screenshot"
+                  android:exported="false" />
+
+        <!-- Callback for deleting screenshot notification -->
+        <receiver android:name=".screenshot.GlobalScreenshot$DeleteScreenshotReceiver"
+                  android:process=":screenshot"
+                  android:exported="false" />
+
+        <!-- started from UsbDeviceSettingsManager -->
+        <activity android:name=".usb.UsbConfirmActivity"
+            android:exported="true"
+            android:permission="android.permission.MANAGE_USB"
+            android:theme="@style/Theme.SystemUI.Dialog.Alert"
+            android:finishOnCloseSystemDialogs="true"
+            android:excludeFromRecents="true">
+        </activity>
+
+        <!-- started from UsbDeviceSettingsManager -->
+        <activity android:name=".usb.UsbPermissionActivity"
+            android:exported="true"
+            android:permission="android.permission.MANAGE_USB"
+            android:theme="@style/Theme.SystemUI.Dialog.Alert"
+            android:finishOnCloseSystemDialogs="true"
+            android:excludeFromRecents="true">
+        </activity>
+
+        <!-- started from UsbDeviceSettingsManager -->
+        <activity android:name=".usb.UsbResolverActivity"
+            android:exported="true"
+            android:permission="android.permission.MANAGE_USB"
+            android:theme="@style/Theme.SystemUI.Dialog.Alert"
+            android:finishOnCloseSystemDialogs="true"
+            android:excludeFromRecents="true">
+        </activity>
+
+        <!-- started from UsbDeviceSettingsManager -->
+        <activity android:name=".usb.UsbAccessoryUriActivity"
+            android:exported="true"
+            android:permission="android.permission.MANAGE_USB"
+            android:theme="@style/Theme.SystemUI.Dialog.Alert"
+            android:finishOnCloseSystemDialogs="true"
+            android:excludeFromRecents="true">
+        </activity>
+
+        <!-- started from UsbDebuggingManager -->
+        <activity android:name=".usb.UsbDebuggingActivity"
+            android:permission="android.permission.MANAGE_USB"
+            android:theme="@style/Theme.SystemUI.Dialog.Alert"
+            android:finishOnCloseSystemDialogs="true"
+            android:excludeFromRecents="true">
+        </activity>
+        <activity android:name=".usb.UsbDebuggingSecondaryUserActivity"
+            android:theme="@style/Theme.SystemUI.Dialog.Alert"
+            android:finishOnCloseSystemDialogs="true"
+            android:excludeFromRecents="true">
+        </activity>
+
+        <!-- started from NetworkPolicyManagerService -->
+        <activity
+            android:name=".net.NetworkOverLimitActivity"
+            android:exported="true"
+            android:permission="android.permission.MANAGE_NETWORK_POLICY"
+            android:theme="@android:style/Theme.DeviceDefault.Light.Panel"
+            android:finishOnCloseSystemDialogs="true"
+            android:launchMode="singleTop"
+            android:taskAffinity="com.android.systemui.net"
+            android:excludeFromRecents="true" />
+
+        <!-- started from MediaProjectionManager -->
+        <activity
+            android:name=".media.MediaProjectionPermissionActivity"
+            android:exported="true"
+            android:theme="@style/Theme.AlertDialogHost"
+            android:finishOnCloseSystemDialogs="true"
+            android:launchMode="singleTop"
+            android:excludeFromRecents="true" />
+
+        <!-- started from PipUI -->
+        <activity
+            android:name="com.android.systemui.tv.pip.PipMenuActivity"
+            android:exported="true"
+            android:theme="@style/PipTheme"
+            android:launchMode="singleTop"
+            android:taskAffinity=""
+            android:configChanges="screenSize|smallestScreenSize|screenLayout|orientation|locale|layoutDirection"
+            android:resizeableActivity="true"
+            android:supportsPictureInPicture="true"
+            androidprv:alwaysFocusable="true"
+            android:excludeFromRecents="true" />
+        <activity
+            android:name="com.android.systemui.tv.pip.PipOverlayActivity"
+            android:exported="true"
+            android:theme="@style/PipTheme"
+            android:taskAffinity=""
+            android:configChanges="screenSize|smallestScreenSize|screenLayout|orientation|locale|layoutDirection"
+            android:resizeableActivity="true"
+            android:supportsPictureInPicture="true"
+            android:excludeFromRecents="true" />
+        <activity
+            android:name="com.android.systemui.tv.pip.PipOnboardingActivity"
+            android:exported="true"
+            android:theme="@style/PipTheme"
+            android:launchMode="singleTop"
+            android:excludeFromRecents="true" />
+
+        <!-- platform logo easter egg activity -->
+        <activity
+            android:name=".DessertCase"
+            android:exported="true"
+            android:label="@string/dessert_case"
+            android:theme="@android:style/Theme.Black.NoTitleBar.Fullscreen"
+            android:hardwareAccelerated="true"
+            android:launchMode="singleInstance"
+            android:screenOrientation="locked"
+            android:process=":sweetsweetdesserts"
+            android:excludeFromRecents="true">
+            <intent-filter>
+                <action android:name="android.intent.action.MAIN" />
+                <category android:name="android.intent.category.DEFAULT" />
+            </intent-filter>
+        </activity>
+
+        <activity android:name=".egg.MLandActivity"
+                  android:theme="@android:style/Theme.Material.NoActionBar"
+                  android:exported="true"
+                  android:icon="@drawable/icon"
+                  android:label="@string/mland"
+                  android:hardwareAccelerated="true"
+                  android:launchMode="singleInstance"
+                  android:screenOrientation="locked"
+                  android:process=":sweetsweetdesserts"
+                  android:excludeFromRecents="true">
+            <intent-filter>
+                <action android:name="android.intent.action.MAIN"/>
+                <category android:name="android.intent.category.DEFAULT" />
+            </intent-filter>
+        </activity>
+
+        <!-- a gallery of delicious treats -->
+        <service
+            android:name=".DessertCaseDream"
+            android:exported="true"
+            android:label="@string/dessert_case"
+            android:permission="android.permission.BIND_DREAM_SERVICE"
+            android:enabled="false"
+            android:process=":sweetsweetdesserts"
+            >
+            <intent-filter>
+                <action android:name="android.service.dreams.DreamService" />
+                <category android:name="android.intent.category.DEFAULT" />
+            </intent-filter>
+        </service>
+
+        <service
+            android:name=".keyguard.KeyguardService"
+            android:exported="true"
+            android:enabled="@bool/config_enableKeyguardService" />
+
+        <activity android:name=".Somnambulator"
+            android:label="@string/start_dreams"
+            android:icon="@mipmap/ic_launcher_dreams"
+            android:theme="@android:style/Theme.Wallpaper.NoTitleBar"
+            android:exported="true"
+            android:excludeFromRecents="true"
+            >
+            <!--
+            <intent-filter>
+                <action android:name="android.intent.action.CREATE_SHORTCUT" />
+                <category android:name="android.intent.category.DEFAULT" />
+            </intent-filter>
+            -->
+            <intent-filter>
+                <action android:name="android.intent.action.MAIN" />
+                <category android:name="android.intent.category.DEFAULT" />
+                <category android:name="android.intent.category.DESK_DOCK" />
+            </intent-filter>
+        </activity>
+
+        <activity
+            android:name=".settings.BrightnessDialog"
+            android:label="@string/quick_settings_brightness_dialog_title"
+            android:theme="@android:style/Theme.DeviceDefault.Dialog"
+            android:finishOnCloseSystemDialogs="true"
+            android:launchMode="singleInstance"
+            android:excludeFromRecents="true"
+            android:exported="true">
+            <intent-filter>
+                <action android:name="android.intent.action.SHOW_BRIGHTNESS_DIALOG" />
+                <category android:name="android.intent.category.DEFAULT" />
+            </intent-filter>
+        </activity>
+
+        <!-- Doze with notifications, run in main sysui process for every user  -->
+        <service
+            android:name=".doze.DozeService"
+            android:exported="true"
+            android:singleUser="true"
+            android:permission="android.permission.BIND_DREAM_SERVICE" />
+
+        <receiver
+            android:name=".tuner.TunerService$ClearReceiver"
+            android:exported="false">
+            <intent-filter>
+                <action android:name="com.android.systemui.action.CLEAR_TUNER" />
+            </intent-filter>
+        </receiver>
+
+        <receiver
+            android:name=".statusbar.KeyboardShortcutsReceiver">
+            <intent-filter>
+                <action android:name="android.intent.action.DISMISS_KEYBOARD_SHORTCUTS" />
+                <action android:name="android.intent.action.SHOW_KEYBOARD_SHORTCUTS" />
+            </intent-filter>
+        </receiver>
+
+		    <!-- Add func settings -->
+		<activity android:name=".funcsetting.FuncSettings"
+			android:theme="@style/FuncTheme">
+			<intent-filter >
+			  
+				<action  android:name="com.android.systemui.SYSTEMUI_FUNC_SETTING" />
+			</intent-filter>
+		</activity>
+		<activity android:name=".funcsetting.AppListActivity" 
+			android:theme="@style/FuncTheme"/>
+		<receiver android:name=".funcsetting.ContactsReceiver">
+			<intent-filter >
+				<action android:name="com.android.systemui.funcsettings.contact_uri"/>
+				<action android:name="com.android.music.playlist_id"/>
+			</intent-filter>
+       </receiver>
+
+		<!-- added by zengjie for joy lockscreen feature task 5429900 20170927 begin-->
+         <activity android:name="com.tcl.mie.launcher.lscreen.stub.activity.ActivityProxy"
+             android:launchMode="standard"
+             android:screenOrientation="portrait"
+             android:theme="@android:style/Theme.NoTitleBar">
+         </activity>
+ 
+         <service
+             android:name="com.tcl.mie.launcher.lscreen.stub.service.ServiceProxy">
+         </service>
+ 
+         <meta-data android:name="product_file_version" android:value="1874"/>
+ 
+         <meta-data android:name="product_name" android:value="android-tcl-magazine-sdk" />
+ 
+         <meta-data android:name="product_path"  android:value="vlife_magazine"/>
+ 
+         <meta-data android:name="package_resource_type" android:value="" />
+ 
+         <meta-data android:name="wallpaper_resource_id" android:value="465"/>
+ 
+         <meta-data android:name="channel_id" android:value="2067"/>
+ 
+         <meta-data android:name="wallpaper_mypaper_ids" android:value="" />
+ 
+         <meta-data android:name="independent_version"  android:value="3"/>
+ 
+         <meta-data android:name="release_type"  android:value="release"/>
+ 
+         <meta-data android:name="version_name"  android:value="6.132.5"/>
+         <meta-data android:name="version_code"  android:value= "6144"/>  
+         
+         <meta-data
+             android:name="com.google.android.gms.version"
+             android:value="@integer/google_play_services_version" />
+ 
+         <service
+             android:name="com.vlife.MCService"
+             android:exported="true"
+             android:process=":main">
+             <intent-filter>
+                 <action android:name="com.vlife.magazine.content"/>
+                 <category android:name="android.intent.category.DEFAULT" />
+             </intent-filter>
+         </service>
+         <service
+             android:name="com.vlife.AService"
+             android:process=":main">
+             <intent-filter>
+                 <action android:name="com.vlife.init.action"/>
+                 <category android:name="android.intent.category.DEFAULT"/>
+             </intent-filter>
+         </service>
+ 
+         <service
+             android:name="com.vlife.TService"
+             android:exported="true"
+             android:process=":main">
+             <intent-filter>
+                 <action android:name="com.vlife.intent.action.DS" />
+                 <category android:name="android.intent.category.DEFAULT" />
+             </intent-filter>
+             <intent-filter>
+                 <action android:name="com.vlife.intent.action.DB" />
+                 <category android:name="android.intent.category.DEFAULT" />
+             </intent-filter>
+         </service>
+ 
+         <receiver
+             android:name="com.vlife.SReceiver"
+             android:process=":main">
+             <intent-filter>
+                 <action android:name="android.intent.action.MEDIA_MOUNTED" />
+                 <action android:name="android.intent.action.MEDIA_REMOVED" />
+                 <action android:name="android.intent.action.MEDIA_SHARED" />
+ 
+                 <data android:scheme="file" />
+             </intent-filter>
+         </receiver>
+         <receiver
+             android:name="com.vlife.NReceiver"
+             android:process=":main">
+             <intent-filter>
+                 <action android:name="android.net.conn.CONNECTIVITY_CHANGE" />
+             </intent-filter>
+         </receiver>
+         <receiver
+             android:name="com.vlife.BReceiver"
+             android:process=":main">
+             <intent-filter>
+                 <action android:name="android.intent.action.BOOT_COMPLETED" />
+                 <action android:name="android.intent.action.QUICKBOOT_POWERON" />
+                 <action android:name="android.intent.action.MEDIA_MOUNTED" />
+                 <action android:name="android.intent.action.MEDIA_SCANNER_FINISHED" />
+                 <category android:name="android.intent.category.LAUNCHER" />
+             </intent-filter>
+         </receiver>
+         <receiver
+             android:name="com.handpet.livewallpaper.receiver.PetMainReceiver"
+             android:process=":main">
+             <intent-filter android:priority="99">
+                 <action android:name="android.intent.action.PACKAGE_ADDED" />
+                 <action android:name="android.intent.action.PACKAGE_REMOVED" />
+                 <data android:scheme="package" />
+             </intent-filter>
+             <intent-filter>
+                 <action android:name="android.intent.action.DOWNLOAD_COMPLETE" />
+             </intent-filter>
+         </receiver>
+         <receiver
+             android:name="com.vlife.IReceiver"
+             android:process=":main">
+             <intent-filter android:priority="99">
+                 <action android:name="android.intent.action.PACKAGE_ADDED" />
+                 <action android:name="android.intent.action.PACKAGE_REMOVED" />
+                 <action android:name="android.intent.action.PACKAGE_INSTALL" />
+                 <action android:name="android.intent.action.PACKAGE_REPLACED" />
+                 <data android:scheme="package" />
+             </intent-filter>
+         </receiver>
+         <!--add for joy lockscreen with baidu begin-->
+         <activity
+             android:name="com.google.android.gms.ads.AdActivity"
+             android:configChanges="keyboard|keyboardHidden|orientation|screenLayout|uiMode|screenSize|smallestScreenSize"
+             android:theme="@android:style/Theme.Translucent" />
+         <activity
+             android:name="com.duapps.ad.InterstitialAdActivity"
+             android:configChanges="orientation|keyboardHidden|screenSize"
+             android:theme="@android:style/Theme.Translucent.NoTitleBar" />
+ 
+         <meta-data
+             android:name="app_license"
+             android:value="2c9c05a2bb3e4885c0e75e4a9f637a97"/>
+ 
+         <provider
+             android:name="com.duapps.ad.stats.DuAdCacheProvider"
+             android:authorities="com.android.systemui.DuAdCacheProvider"
+             android:exported="false">
+         </provider>
+ 
+         <receiver android:name="com.duapps.ad.base.PackageAddReceiver">
+             <intent-filter>
+                 <action android:name="android.intent.action.PACKAGE_ADDED"/>
+ 
+                 <data android:scheme="package"/>
+             </intent-filter>
+         </receiver>
+         <!--add for joy lockscreen with baidu end-->
+ 
+         <meta-data
+             android:name="UMENG_APPKEY"
+             android:value="59e84f9c07fe65670c0000cb"/>
+         <meta-data
+             android:name="UMENG_CHANNEL"
+             android:value="tcl_preload"/>
+ 
+         <!-- HK ad start -->
+         <activity
+             android:name="com.facebook.ads.InterstitialAdActivity"
+             android:configChanges="keyboardHidden|orientation|screenSize" />
+         <activity
+             android:name="com.mopub.mobileads.MoPubActivity"
+             android:configChanges="keyboardHidden|orientation|screenSize" />
+         <activity
+             android:name="com.mopub.mobileads.MraidActivity"
+             android:configChanges="keyboardHidden|orientation|screenSize" />
+         <activity
+             android:name="com.mopub.common.MoPubBrowser"
+             android:configChanges="keyboardHidden|orientation|screenSize" />
+         <activity
+             android:name="com.mopub.mobileads.MraidVideoPlayerActivity"
+             android:configChanges="keyboardHidden|orientation|screenSize" />
+         <activity
+             android:name="com.flurry.android.FlurryFullscreenTakeoverActivity"
+             android:configChanges="keyboard|keyboardHidden|orientation|screenLayout|uiMode|screenSize|smallestScreenSize" />
+         <!-- HK ad end -->
+         <!-- added by zengjie for joy lockscreen feature task 5429900 20170927 end-->
+	   <!--add for incoming calls turn to mute -->
+	   <service android:name="com.android.systemui.statusbar.phone.SensorFunctionServiceIncall"
+            android:exported="false"/>
+
+    </application>
+
+    <!-- Add keyguard usage protected broadcast -->
+    <protected-broadcast android:name="android.intent.action.normal.boot" />
+    <protected-broadcast android:name="android.intent.action.normal.boot.done" />
+    <protected-broadcast android:name="android.intent.action.normal.shutdown" />
+    <protected-broadcast android:name="android.intent.action.LAUNCH_POWEROFF_ALARM" />
+    <protected-broadcast android:name="alarm.boot.remove.ipowin" />
+    <protected-broadcast android:name="com.android.deskclock.SNOOZE_ALARM" />
+    <protected-broadcast android:name="com.android.deskclock.DISMISS_ALARM" />
+    <protected-broadcast android:name="com.android.deskclock.POWER_ON_ALARM" />
+
+</manifest>
Index: vendor/branch/5058J/frameworks/base/packages/SystemUI/assets/LScreen.apk
===================================================================
Cannot display: file marked as a binary type.
svn:mime-type = application/octet-stream
Index: vendor/branch/5058J/frameworks/base/packages/SystemUI/assets/LScreen.apk
===================================================================
--- vendor/branch/5058J/frameworks/base/packages/SystemUI/assets/LScreen.apk	(revision 0)
+++ vendor/branch/5058J/frameworks/base/packages/SystemUI/assets/LScreen.apk	(revision 1284)

Property changes on: vendor/branch/5058J/frameworks/base/packages/SystemUI/assets/LScreen.apk
___________________________________________________________________
Added: svn:mime-type
## -0,0 +1 ##
+application/octet-stream
\ No newline at end of property
Index: vendor/branch/5058J/frameworks/base/packages/Keyguard/res/layout/keyguard_status_area.xml
===================================================================
--- vendor/branch/5058J/frameworks/base/packages/Keyguard/res/layout/keyguard_status_area.xml	(revision 0)
+++ vendor/branch/5058J/frameworks/base/packages/Keyguard/res/layout/keyguard_status_area.xml	(revision 1284)
@@ -0,0 +1,54 @@
+<?xml version="1.0" encoding="utf-8"?>
+<!--
+**
+** Copyright 2013, The Android Open Source Project
+**
+** Licensed under the Apache License, Version 2.0 (the "License")
+** you may not use this file except in compliance with the License.
+** You may obtain a copy of the License at
+**
+**     http://www.apache.org/licenses/LICENSE-2.0
+**
+** Unless required by applicable law or agreed to in writing, software
+** distributed under the License is distributed on an "AS IS" BASIS,
+** WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+** See the License for the specific language governing permissions and
+** limitations under the License.
+*/
+-->
+
+<!-- This is a view that shows general status information in Keyguard. -->
+<LinearLayout
+    xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:androidprv="http://schemas.android.com/apk/res-auto"
+    android:layout_width="match_parent"
+    android:layout_height="wrap_content"
+    android:orientation="horizontal"
+    android:gravity="center">
+    <!-- modify style from "widget_label" to "keyguard_date_style" by zhangyong for D2908644 20161010 -->
+    <!--begin-modify by zengjie  for task:5429900 -->
+    <TextClock android:id="@+id/date_view"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:textColor="@color/clock_white"
+        style="@style/widget_label"
+        android:textAllCaps="true"
+        android:letterSpacing="0.15"
+        android:gravity="center"
+		android:visibility="gone"
+        />
+    <!--end-modify by zengjie  for task:5429900 -->
+    <TextView android:id="@+id/alarm_status"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:drawablePadding="6dp"
+        android:drawableStart="@drawable/ic_access_alarms_big"
+        android:textColor="@color/clock_gray"
+        android:letterSpacing="0.15"
+        android:textAllCaps="true"
+        style="@style/widget_label"
+        android:layout_marginStart="6dp"
+        android:gravity="center"
+        android:visibility="gone"
+        />
+</LinearLayout>
Index: vendor/branch/5058J/frameworks/base/packages/Keyguard/res/layout/keyguard_status_view.xml
===================================================================
--- vendor/branch/5058J/frameworks/base/packages/Keyguard/res/layout/keyguard_status_view.xml	(revision 0)
+++ vendor/branch/5058J/frameworks/base/packages/Keyguard/res/layout/keyguard_status_view.xml	(revision 1284)
@@ -0,0 +1,68 @@
+<?xml version="1.0" encoding="utf-8"?>
+<!--
+**
+** Copyright 2009, The Android Open Source Project
+**
+** Licensed under the Apache License, Version 2.0 (the "License")
+** you may not use this file except in compliance with the License.
+** You may obtain a copy of the License at
+**
+**     http://www.apache.org/licenses/LICENSE-2.0
+**
+** Unless required by applicable law or agreed to in writing, software
+** distributed under the License is distributed on an "AS IS" BASIS,
+** WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+** See the License for the specific language governing permissions and
+** limitations under the License.
+*/
+-->
+
+<!-- This is a view that shows general status information in Keyguard. -->
+<com.android.keyguard.KeyguardStatusView
+    xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:androidprv="http://schemas.android.com/apk/res-auto"
+    android:id="@+id/keyguard_status_view"
+    android:orientation="vertical"
+    android:layout_width="match_parent"
+    android:layout_height="wrap_content"
+    androidprv:layout_maxWidth="@dimen/keyguard_security_width"
+    androidprv:layout_maxHeight="@dimen/keyguard_security_height"
+    android:gravity="center_horizontal|top">
+    <LinearLayout
+        android:id="@+id/keyguard_clock_container"
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"
+        android:layout_gravity="center_horizontal|top"
+        android:orientation="vertical" >
+            <!--begin-modify by zengjie  for task:5429900 -->
+        <TextClock
+            android:id="@+id/clock_view"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_gravity="center_horizontal"
+            android:textColor="@color/clock_white"
+            android:singleLine="true"
+            style="@style/widget_big_thin"
+			android:visibility="gone"
+            android:format12Hour="@string/keyguard_widget_12_hours_format"
+            android:format24Hour="@string/keyguard_widget_24_hours_format"
+            android:layout_marginBottom="@dimen/bottom_text_spacing_digital" />
+            <!--begin-modify by zengjie  for task:5429900 -->
+
+        <include layout="@layout/keyguard_status_area" />
+        <TextView
+            android:id="@+id/owner_info"
+            android:layout_marginLeft="16dp"
+            android:layout_marginRight="16dp"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_marginTop="@dimen/date_owner_info_margin"
+            android:layout_gravity="center_horizontal"
+            android:textColor="@color/clock_gray"
+            android:textSize="@dimen/widget_label_font_size"
+            android:letterSpacing="0.05"
+            android:ellipsize="marquee"
+            android:singleLine="true" />
+
+    </LinearLayout>
+</com.android.keyguard.KeyguardStatusView>
Index: vendor/branch/5058A/frameworks/base/packages/Keyguard/res/layout/keyguard_status_area.xml
===================================================================
--- vendor/branch/5058A/frameworks/base/packages/Keyguard/res/layout/keyguard_status_area.xml	(revision 0)
+++ vendor/branch/5058A/frameworks/base/packages/Keyguard/res/layout/keyguard_status_area.xml	(revision 1284)
@@ -0,0 +1,54 @@
+<?xml version="1.0" encoding="utf-8"?>
+<!--
+**
+** Copyright 2013, The Android Open Source Project
+**
+** Licensed under the Apache License, Version 2.0 (the "License")
+** you may not use this file except in compliance with the License.
+** You may obtain a copy of the License at
+**
+**     http://www.apache.org/licenses/LICENSE-2.0
+**
+** Unless required by applicable law or agreed to in writing, software
+** distributed under the License is distributed on an "AS IS" BASIS,
+** WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+** See the License for the specific language governing permissions and
+** limitations under the License.
+*/
+-->
+
+<!-- This is a view that shows general status information in Keyguard. -->
+<LinearLayout
+    xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:androidprv="http://schemas.android.com/apk/res-auto"
+    android:layout_width="match_parent"
+    android:layout_height="wrap_content"
+    android:orientation="horizontal"
+    android:gravity="center">
+    <!-- modify style from "widget_label" to "keyguard_date_style" by zhangyong for D2908644 20161010 -->
+    <!--begin-modify by zengjie  for task:5429900 -->
+    <TextClock android:id="@+id/date_view"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:textColor="@color/clock_white"
+        style="@style/widget_label"
+        android:textAllCaps="true"
+        android:letterSpacing="0.15"
+        android:gravity="center"
+		android:visibility="gone"
+        />
+    <!--end-modify by zengjie  for task:5429900 -->
+    <TextView android:id="@+id/alarm_status"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:drawablePadding="6dp"
+        android:drawableStart="@drawable/ic_access_alarms_big"
+        android:textColor="@color/clock_gray"
+        android:letterSpacing="0.15"
+        android:textAllCaps="true"
+        style="@style/widget_label"
+        android:layout_marginStart="6dp"
+        android:gravity="center"
+        android:visibility="gone"
+        />
+</LinearLayout>
Index: vendor/branch/5058A/frameworks/base/packages/Keyguard/res/layout/keyguard_status_view.xml
===================================================================
--- vendor/branch/5058A/frameworks/base/packages/Keyguard/res/layout/keyguard_status_view.xml	(revision 0)
+++ vendor/branch/5058A/frameworks/base/packages/Keyguard/res/layout/keyguard_status_view.xml	(revision 1284)
@@ -0,0 +1,68 @@
+<?xml version="1.0" encoding="utf-8"?>
+<!--
+**
+** Copyright 2009, The Android Open Source Project
+**
+** Licensed under the Apache License, Version 2.0 (the "License")
+** you may not use this file except in compliance with the License.
+** You may obtain a copy of the License at
+**
+**     http://www.apache.org/licenses/LICENSE-2.0
+**
+** Unless required by applicable law or agreed to in writing, software
+** distributed under the License is distributed on an "AS IS" BASIS,
+** WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+** See the License for the specific language governing permissions and
+** limitations under the License.
+*/
+-->
+
+<!-- This is a view that shows general status information in Keyguard. -->
+<com.android.keyguard.KeyguardStatusView
+    xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:androidprv="http://schemas.android.com/apk/res-auto"
+    android:id="@+id/keyguard_status_view"
+    android:orientation="vertical"
+    android:layout_width="match_parent"
+    android:layout_height="wrap_content"
+    androidprv:layout_maxWidth="@dimen/keyguard_security_width"
+    androidprv:layout_maxHeight="@dimen/keyguard_security_height"
+    android:gravity="center_horizontal|top">
+    <LinearLayout
+        android:id="@+id/keyguard_clock_container"
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"
+        android:layout_gravity="center_horizontal|top"
+        android:orientation="vertical" >
+            <!--begin-modify by zengjie  for task:5429900 -->
+        <TextClock
+            android:id="@+id/clock_view"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_gravity="center_horizontal"
+            android:textColor="@color/clock_white"
+            android:singleLine="true"
+            style="@style/widget_big_thin"
+			android:visibility="gone"
+            android:format12Hour="@string/keyguard_widget_12_hours_format"
+            android:format24Hour="@string/keyguard_widget_24_hours_format"
+            android:layout_marginBottom="@dimen/bottom_text_spacing_digital" />
+            <!--begin-modify by zengjie  for task:5429900 -->
+
+        <include layout="@layout/keyguard_status_area" />
+        <TextView
+            android:id="@+id/owner_info"
+            android:layout_marginLeft="16dp"
+            android:layout_marginRight="16dp"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_marginTop="@dimen/date_owner_info_margin"
+            android:layout_gravity="center_horizontal"
+            android:textColor="@color/clock_gray"
+            android:textSize="@dimen/widget_label_font_size"
+            android:letterSpacing="0.05"
+            android:ellipsize="marquee"
+            android:singleLine="true" />
+
+    </LinearLayout>
+</com.android.keyguard.KeyguardStatusView>
Index: vendor/branch/5058A/frameworks/base/packages/SystemUI/assets/LScreen.apk
===================================================================
Cannot display: file marked as a binary type.
svn:mime-type = application/octet-stream
Index: vendor/branch/5058A/frameworks/base/packages/SystemUI/assets/LScreen.apk
===================================================================
--- vendor/branch/5058A/frameworks/base/packages/SystemUI/assets/LScreen.apk	(revision 0)
+++ vendor/branch/5058A/frameworks/base/packages/SystemUI/assets/LScreen.apk	(revision 1284)

Property changes on: vendor/branch/5058A/frameworks/base/packages/SystemUI/assets/LScreen.apk
___________________________________________________________________
Added: svn:mime-type
## -0,0 +1 ##
+application/octet-stream
\ No newline at end of property
Index: vendor/branch/5058A/frameworks/base/packages/SystemUI/AndroidManifest.xml
===================================================================
--- vendor/branch/5058A/frameworks/base/packages/SystemUI/AndroidManifest.xml	(revision 0)
+++ vendor/branch/5058A/frameworks/base/packages/SystemUI/AndroidManifest.xml	(revision 1284)
@@ -0,0 +1,744 @@
+<?xml version="1.0" encoding="utf-8"?>
+<!--
+/*
+ * Copyright (c) 2014 Google Inc.
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+-->
+<manifest xmlns:android="http://schemas.android.com/apk/res/android"
+        xmlns:androidprv="http://schemas.android.com/apk/prv/res/android"
+        package="com.android.systemui"
+        android:sharedUserId="android.uid.systemui"
+        coreApp="true">
+
+	<!-- added by zengjie for joy lockscreen feature task 5429900 20171101 begin-->
+	<uses-sdk android:minSdkVersion="14" android:targetSdkVersion="25"/>
+	<uses-feature android:name="android.software.live_wallpaper" />
+    <uses-permission android:name="android.permission.READ_PHONE_STATE" />
+	<uses-permission android:name="android.permission.INTERNET" />
+	<uses-permission android:name="android.permission.RECORD_AUDIO" />
+	<uses-permission android:name="android.permission.FLASHLIGHT" />
+	<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
+	<uses-permission android:name="android.permission.READ_LOGS" />
+	<uses-permission android:name="com.android.launcher.permission.INSTALL_SHORTCUT" />
+	<uses-permission android:name="com.android.launcher.permission.UNINSTALL_SHORTCUT" />
+	<uses-permission android:name="android.permission.KILL_BACKGROUND_PROCESSES" />
+	<!-- added by zengjie for joy lockscreen feature task 5429900 20171101 end -->
+    <uses-permission android:name="android.permission.RECEIVE_BOOT_COMPLETED" />
+    <uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE" />
+    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
+    <!-- Used to read storage for all users -->
+    <uses-permission android:name="android.permission.WRITE_MEDIA_STORAGE" />
+    <uses-permission android:name="android.permission.WAKE_LOCK" />
+
+    <uses-permission android:name="android.permission.INJECT_EVENTS" />
+    <uses-permission android:name="android.permission.DUMP" />
+    <uses-permission android:name="android.permission.WRITE_SETTINGS" />
+
+    <uses-permission android:name="android.permission.STATUS_BAR_SERVICE" />
+    <uses-permission android:name="android.permission.STATUS_BAR" />
+    <uses-permission android:name="android.permission.EXPAND_STATUS_BAR" />
+    <uses-permission android:name="android.permission.REMOTE_AUDIO_PLAYBACK" />
+
+    <uses-permission android:name="android.permission.MANAGE_USERS" />
+    <uses-permission android:name="android.permission.READ_PROFILE" />
+    <uses-permission android:name="android.permission.READ_CONTACTS" />
+    <uses-permission android:name="android.permission.CONFIGURE_WIFI_DISPLAY" />
+    <uses-permission android:name="android.permission.WRITE_SECURE_SETTINGS" />
+    <uses-permission android:name="android.permission.GET_APP_OPS_STATS" />
+
+    <!-- Networking and telephony -->
+    <uses-permission android:name="android.permission.BLUETOOTH" />
+    <uses-permission android:name="android.permission.BLUETOOTH_ADMIN" />
+    <uses-permission android:name="android.permission.BLUETOOTH_PRIVILEGED" />
+    <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION"/>
+    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
+    <uses-permission android:name="android.permission.CHANGE_NETWORK_STATE" />
+    <uses-permission android:name="android.permission.READ_PRIVILEGED_PHONE_STATE" />
+    <uses-permission android:name="android.permission.ACCESS_WIFI_STATE" />
+    <uses-permission android:name="android.permission.CHANGE_WIFI_STATE" />
+    <uses-permission android:name="android.permission.OVERRIDE_WIFI_CONFIG" />
+    <uses-permission android:name="android.permission.MANAGE_NETWORK_POLICY" />
+    <uses-permission android:name="android.permission.CONNECTIVITY_INTERNAL" />
+    <uses-permission android:name="android.permission.TETHER_PRIVILEGED" />
+    <uses-permission android:name="android.permission.READ_NETWORK_USAGE_HISTORY" />
+    <uses-permission android:name="android.permission.CONTROL_VPN" />
+    <uses-permission android:name="android.permission.PEERS_MAC_ADDRESS"/>
+    <!-- Physical hardware -->
+    <uses-permission android:name="android.permission.MANAGE_USB" />
+    <uses-permission android:name="android.permission.DEVICE_POWER" />
+    <uses-permission android:name="android.permission.MOUNT_UNMOUNT_FILESYSTEMS" />
+    <uses-permission android:name="android.permission.MASTER_CLEAR" />
+    <uses-permission android:name="android.permission.VIBRATE" />
+
+    <!-- ActivityManager -->
+    <uses-permission android:name="android.permission.REAL_GET_TASKS" />
+    <uses-permission android:name="android.permission.GET_DETAILED_TASKS" />
+    <uses-permission android:name="android.permission.REORDER_TASKS" />
+    <uses-permission android:name="android.permission.REMOVE_TASKS" />
+    <uses-permission android:name="android.permission.STOP_APP_SWITCHES" />
+    <uses-permission android:name="android.permission.SET_SCREEN_COMPATIBILITY" />
+    <uses-permission android:name="android.permission.START_ANY_ACTIVITY" />
+    <uses-permission android:name="android.permission.INTERACT_ACROSS_USERS" />
+    <uses-permission android:name="android.permission.INTERACT_ACROSS_USERS_FULL" />
+    <uses-permission android:name="android.permission.GET_TOP_ACTIVITY_INFO" />
+    <uses-permission android:name="android.permission.MANAGE_ACTIVITY_STACKS" />
+    <uses-permission android:name="android.permission.START_TASKS_FROM_RECENTS" />
+    <uses-permission android:name="android.permission.GET_INTENT_SENDER_INTENT" />
+
+    <!-- WindowManager -->
+    <uses-permission android:name="android.permission.INTERNAL_SYSTEM_WINDOW" />
+    <uses-permission android:name="android.permission.SYSTEM_ALERT_WINDOW" />
+    <uses-permission android:name="android.permission.READ_FRAME_BUFFER" />
+    <uses-permission android:name="android.permission.MANAGE_APP_TOKENS" />
+    <uses-permission android:name="android.permission.REGISTER_WINDOW_MANAGER_LISTENERS" />
+    <uses-permission android:name="android.permission.SET_ORIENTATION" />
+    <uses-permission android:name="android.permission.DISABLE_KEYGUARD" />
+
+    <!-- DreamManager -->
+    <uses-permission android:name="android.permission.READ_DREAM_STATE" />
+    <uses-permission android:name="android.permission.WRITE_DREAM_STATE" />
+
+    <!-- Alarm clocks -->
+    <uses-permission android:name="com.android.alarm.permission.SET_ALARM" />
+
+    <!-- Keyguard -->
+    <uses-permission android:name="android.permission.CONTROL_KEYGUARD" />
+    <uses-permission android:name="android.permission.MODIFY_PHONE_STATE" />
+    <uses-permission android:name="android.permission.GET_ACCOUNTS" />
+    <uses-permission android:name="android.permission.MANAGE_ACCOUNTS" />
+    <uses-permission android:name="android.permission.BIND_DEVICE_ADMIN" />
+    <uses-permission android:name="android.permission.CHANGE_COMPONENT_ENABLED_STATE" />
+    <uses-permission android:name="android.permission.MEDIA_CONTENT_CONTROL" />
+    <uses-permission android:name="android.permission.ACCESS_KEYGUARD_SECURE_STORAGE" />
+    <uses-permission android:name="android.permission.TRUST_LISTENER" />
+    <uses-permission android:name="android.permission.USE_FINGERPRINT" />
+    <!-- Keyguard add for Anti-theft-->
+    <uses-permission android:name="com.mediatek.ppl.permission.ACCESS_PPL_MANAGER" />
+    <uses-permission android:name="android.permission.RESET_FINGERPRINT_LOCKOUT" />
+
+    <!-- Needed for WallpaperManager.clear in ImageWallpaper.updateWallpaperLocked -->
+    <uses-permission android:name="android.permission.SET_WALLPAPER"/>
+
+    <!-- Recents -->
+    <uses-permission android:name="android.permission.BIND_APPWIDGET" />
+
+    <!-- Wifi Display -->
+    <uses-permission android:name="android.permission.CONFIGURE_WIFI_DISPLAY" />
+
+    <uses-permission android:name="android.permission.CAMERA" />
+
+    <!-- Screen Capturing -->
+    <uses-permission android:name="android.permission.MANAGE_MEDIA_PROJECTION" />
+
+    <!-- Assist -->
+    <uses-permission android:name="android.permission.ACCESS_VOICE_INTERACTION_SERVICE" />
+
+    <!-- Listen for keyboard attachment / detachment -->
+    <uses-permission android:name="android.permission.TABLET_MODE" />
+
+    <!-- Self permission for internal broadcasts. -->
+    <permission android:name="com.android.systemui.permission.SELF"
+            android:protectionLevel="signature" />
+    <uses-permission android:name="com.android.systemui.permission.SELF" />
+
+    <!-- Adding Quick Settings tiles -->
+    <uses-permission android:name="android.permission.BIND_QUICK_SETTINGS_TILE" />
+
+    <!-- Block notifications inline notifications -->
+    <uses-permission android:name="android.permission.UPDATE_APP_OPS_STATS" />
+
+    <!-- Access battery information -->
+    <uses-permission android:name="android.permission.BATTERY_STATS" />
+
+    <!-- DevicePolicyManager get user restrictions -->
+    <uses-permission android:name="android.permission.MANAGE_PROFILE_AND_DEVICE_OWNERS" />
+
+    <!-- TV picture-in-picture -->
+    <uses-permission android:name="android.permission.RECEIVE_MEDIA_RESOURCE_USAGE" />
+
+    <!-- DND access -->
+    <uses-permission android:name="android.permission.MANAGE_NOTIFICATIONS" />
+    <!--TODO:: Check these permission whether still need on N -->
+    <!-- M: Add for data sim switch op feature -->
+    <uses-permission android:name="android.permission.WRITE_APN_SETTINGS"/>
+
+    <!-- M: Add for VoiceCommand -->
+    <uses-permission android:name="android.permission.MANAGE_VOICE_KEYPHRASES" />
+
+    <!-- M: Add for op feature -->
+    <uses-permission android:name="android.permission.READ_PRECISE_PHONE_STATE" />
+
+    <!-- It's like, reality, but, you know, virtual -->
+    <uses-permission android:name="android.permission.ACCESS_VR_MANAGER" />
+
+    <!-- the ability to rename notifications posted by other apps -->
+    <uses-permission android:name="android.permission.SUBSTITUTE_NOTIFICATION_APP_NAME" />
+
+    <!-- shortcut manager -->
+    <uses-permission android:name="android.permission.RESET_SHORTCUT_MANAGER_THROTTLING" />
+
+    <application
+        android:name=".SystemUIApplication"
+        android:persistent="true"
+        android:allowClearUserData="false"
+        android:allowBackup="false"
+        android:hardwareAccelerated="true"
+        android:label="@string/app_label"
+        android:icon="@drawable/icon"
+        android:process="com.android.systemui"
+        android:supportsRtl="true"
+        android:theme="@style/systemui_theme"
+        android:defaultToDeviceProtectedStorage="true"
+        android:directBootAware="true">
+        <!-- Keep theme in sync with SystemUIApplication.onCreate().
+             Setting the theme on the application does not affect views inflated by services.
+             The application theme is set again from onCreate to take effect for those views. -->
+
+        <!-- Broadcast receiver that gets the broadcast at boot time and starts
+             up everything else.
+             TODO: Should have an android:permission attribute
+             -->
+        <service android:name="SystemUIService"
+            android:exported="true"
+            />
+
+        <!-- Recents depends on every user having their own SystemUI process, so on user switch,
+             ensure that the process is created by starting this service.
+             -->
+        <service android:name="SystemUISecondaryUserService"
+            android:exported="true"
+            android:permission="com.android.systemui.permission.SELF" />
+
+
+        <!-- started from PhoneWindowManager
+             TODO: Should have an android:permission attribute -->
+        <service android:name=".screenshot.TakeScreenshotService"
+            android:process=":screenshot"
+            android:exported="false" />
+
+        <!-- Called from PhoneWindowManager -->
+        <receiver android:name=".screenshot.ScreenshotServiceErrorReceiver"
+            android:process=":screenshot"
+            android:exported="false">
+            <intent-filter>
+                <action android:name="com.android.systemui.screenshot.SHOW_ERROR" />
+            </intent-filter>
+        </receiver>
+
+        <service android:name=".ImageWallpaper"
+                android:permission="android.permission.BIND_WALLPAPER"
+                android:exported="true" />
+
+        <activity android:name=".tuner.TunerActivity"
+                  android:enabled="false"
+                  android:icon="@drawable/tuner"
+                  android:theme="@style/TunerSettings"
+                  android:label="@string/system_ui_tuner"
+                  android:process=":tuner"
+                  android:exported="true">
+            <intent-filter>
+                <action android:name="com.android.settings.action.EXTRA_SETTINGS" />
+                <category android:name="android.intent.category.DEFAULT" />
+            </intent-filter>
+            <meta-data android:name="com.android.settings.category"
+                    android:value="com.android.settings.category.system" />
+        </activity>
+
+        <activity-alias android:name=".DemoMode"
+                  android:targetActivity=".tuner.TunerActivity"
+                  android:icon="@drawable/tuner"
+                  android:theme="@style/TunerSettings"
+                  android:label="@string/demo_mode"
+                  android:process=":tuner"
+                  android:exported="true">
+            <intent-filter>
+                <action android:name="com.android.settings.action.DEMO_MODE" />
+                <category android:name="android.intent.category.DEFAULT" />
+            </intent-filter>
+        </activity-alias>
+
+        <!-- Service used by secondary users to register themselves with the system user. -->
+        <service android:name=".recents.RecentsSystemUserService"
+            android:exported="false"
+            android:permission="com.android.systemui.permission.SELF" />
+
+        <!-- Alternate Recents -->
+        <activity android:name=".recents.RecentsActivity"
+                  android:label="@string/accessibility_desc_recent_apps"
+                  android:exported="false"
+                  android:launchMode="singleInstance"
+                  android:excludeFromRecents="true"
+                  android:stateNotNeeded="true"
+                  android:resumeWhilePausing="true"
+                  android:screenOrientation="behind"
+                  android:resizeableActivity="true"
+                  android:configChanges="orientation|screenSize|smallestScreenSize|screenLayout"
+                  android:theme="@style/RecentsTheme.Wallpaper">
+            <intent-filter>
+                <action android:name="com.android.systemui.recents.TOGGLE_RECENTS" />
+            </intent-filter>
+        </activity>
+
+        <activity android:name=".recents.tv.RecentsTvActivity"
+                  android:label="@string/accessibility_desc_recent_apps"
+                  android:exported="false"
+                  android:launchMode="singleInstance"
+                  android:excludeFromRecents="true"
+                  android:stateNotNeeded="true"
+                  android:resumeWhilePausing="true"
+                  android:screenOrientation="behind"
+                  android:theme="@style/RecentsTvTheme.Wallpaper">
+            <intent-filter>
+                <action android:name="com.android.systemui.recents.TOGGLE_RECENTS" />
+            </intent-filter>
+        </activity>
+
+        <activity
+            android:name=".stackdivider.ForcedResizableInfoActivity"
+            android:theme="@style/ForcedResizableTheme"
+            android:excludeFromRecents="true"
+            android:stateNotNeeded="true"
+            android:configChanges="orientation|screenSize|smallestScreenSize|screenLayout"
+            android:exported="false">
+        </activity>
+
+        <!-- Callback for dismissing screenshot notification after a share target is picked -->
+        <receiver android:name=".screenshot.GlobalScreenshot$TargetChosenReceiver"
+                  android:process=":screenshot"
+                  android:exported="false" />
+
+        <!-- Callback for deleting screenshot notification -->
+        <receiver android:name=".screenshot.GlobalScreenshot$DeleteScreenshotReceiver"
+                  android:process=":screenshot"
+                  android:exported="false" />
+
+        <!-- started from UsbDeviceSettingsManager -->
+        <activity android:name=".usb.UsbConfirmActivity"
+            android:exported="true"
+            android:permission="android.permission.MANAGE_USB"
+            android:theme="@style/Theme.SystemUI.Dialog.Alert"
+            android:finishOnCloseSystemDialogs="true"
+            android:excludeFromRecents="true">
+        </activity>
+
+        <!-- started from UsbDeviceSettingsManager -->
+        <activity android:name=".usb.UsbPermissionActivity"
+            android:exported="true"
+            android:permission="android.permission.MANAGE_USB"
+            android:theme="@style/Theme.SystemUI.Dialog.Alert"
+            android:finishOnCloseSystemDialogs="true"
+            android:excludeFromRecents="true">
+        </activity>
+
+        <!-- started from UsbDeviceSettingsManager -->
+        <activity android:name=".usb.UsbResolverActivity"
+            android:exported="true"
+            android:permission="android.permission.MANAGE_USB"
+            android:theme="@style/Theme.SystemUI.Dialog.Alert"
+            android:finishOnCloseSystemDialogs="true"
+            android:excludeFromRecents="true">
+        </activity>
+
+        <!-- started from UsbDeviceSettingsManager -->
+        <activity android:name=".usb.UsbAccessoryUriActivity"
+            android:exported="true"
+            android:permission="android.permission.MANAGE_USB"
+            android:theme="@style/Theme.SystemUI.Dialog.Alert"
+            android:finishOnCloseSystemDialogs="true"
+            android:excludeFromRecents="true">
+        </activity>
+
+        <!-- started from UsbDebuggingManager -->
+        <activity android:name=".usb.UsbDebuggingActivity"
+            android:permission="android.permission.MANAGE_USB"
+            android:theme="@style/Theme.SystemUI.Dialog.Alert"
+            android:finishOnCloseSystemDialogs="true"
+            android:excludeFromRecents="true">
+        </activity>
+        <activity android:name=".usb.UsbDebuggingSecondaryUserActivity"
+            android:theme="@style/Theme.SystemUI.Dialog.Alert"
+            android:finishOnCloseSystemDialogs="true"
+            android:excludeFromRecents="true">
+        </activity>
+
+        <!-- started from NetworkPolicyManagerService -->
+        <activity
+            android:name=".net.NetworkOverLimitActivity"
+            android:exported="true"
+            android:permission="android.permission.MANAGE_NETWORK_POLICY"
+            android:theme="@android:style/Theme.DeviceDefault.Light.Panel"
+            android:finishOnCloseSystemDialogs="true"
+            android:launchMode="singleTop"
+            android:taskAffinity="com.android.systemui.net"
+            android:excludeFromRecents="true" />
+
+        <!-- started from MediaProjectionManager -->
+        <activity
+            android:name=".media.MediaProjectionPermissionActivity"
+            android:exported="true"
+            android:theme="@style/Theme.AlertDialogHost"
+            android:finishOnCloseSystemDialogs="true"
+            android:launchMode="singleTop"
+            android:excludeFromRecents="true" />
+
+        <!-- started from PipUI -->
+        <activity
+            android:name="com.android.systemui.tv.pip.PipMenuActivity"
+            android:exported="true"
+            android:theme="@style/PipTheme"
+            android:launchMode="singleTop"
+            android:taskAffinity=""
+            android:configChanges="screenSize|smallestScreenSize|screenLayout|orientation|locale|layoutDirection"
+            android:resizeableActivity="true"
+            android:supportsPictureInPicture="true"
+            androidprv:alwaysFocusable="true"
+            android:excludeFromRecents="true" />
+        <activity
+            android:name="com.android.systemui.tv.pip.PipOverlayActivity"
+            android:exported="true"
+            android:theme="@style/PipTheme"
+            android:taskAffinity=""
+            android:configChanges="screenSize|smallestScreenSize|screenLayout|orientation|locale|layoutDirection"
+            android:resizeableActivity="true"
+            android:supportsPictureInPicture="true"
+            android:excludeFromRecents="true" />
+        <activity
+            android:name="com.android.systemui.tv.pip.PipOnboardingActivity"
+            android:exported="true"
+            android:theme="@style/PipTheme"
+            android:launchMode="singleTop"
+            android:excludeFromRecents="true" />
+
+        <!-- platform logo easter egg activity -->
+        <activity
+            android:name=".DessertCase"
+            android:exported="true"
+            android:label="@string/dessert_case"
+            android:theme="@android:style/Theme.Black.NoTitleBar.Fullscreen"
+            android:hardwareAccelerated="true"
+            android:launchMode="singleInstance"
+            android:screenOrientation="locked"
+            android:process=":sweetsweetdesserts"
+            android:excludeFromRecents="true">
+            <intent-filter>
+                <action android:name="android.intent.action.MAIN" />
+                <category android:name="android.intent.category.DEFAULT" />
+            </intent-filter>
+        </activity>
+
+        <activity android:name=".egg.MLandActivity"
+                  android:theme="@android:style/Theme.Material.NoActionBar"
+                  android:exported="true"
+                  android:icon="@drawable/icon"
+                  android:label="@string/mland"
+                  android:hardwareAccelerated="true"
+                  android:launchMode="singleInstance"
+                  android:screenOrientation="locked"
+                  android:process=":sweetsweetdesserts"
+                  android:excludeFromRecents="true">
+            <intent-filter>
+                <action android:name="android.intent.action.MAIN"/>
+                <category android:name="android.intent.category.DEFAULT" />
+            </intent-filter>
+        </activity>
+
+        <!-- a gallery of delicious treats -->
+        <service
+            android:name=".DessertCaseDream"
+            android:exported="true"
+            android:label="@string/dessert_case"
+            android:permission="android.permission.BIND_DREAM_SERVICE"
+            android:enabled="false"
+            android:process=":sweetsweetdesserts"
+            >
+            <intent-filter>
+                <action android:name="android.service.dreams.DreamService" />
+                <category android:name="android.intent.category.DEFAULT" />
+            </intent-filter>
+        </service>
+
+        <service
+            android:name=".keyguard.KeyguardService"
+            android:exported="true"
+            android:enabled="@bool/config_enableKeyguardService" />
+
+        <activity android:name=".Somnambulator"
+            android:label="@string/start_dreams"
+            android:icon="@mipmap/ic_launcher_dreams"
+            android:theme="@android:style/Theme.Wallpaper.NoTitleBar"
+            android:exported="true"
+            android:excludeFromRecents="true"
+            >
+            <!--
+            <intent-filter>
+                <action android:name="android.intent.action.CREATE_SHORTCUT" />
+                <category android:name="android.intent.category.DEFAULT" />
+            </intent-filter>
+            -->
+            <intent-filter>
+                <action android:name="android.intent.action.MAIN" />
+                <category android:name="android.intent.category.DEFAULT" />
+                <category android:name="android.intent.category.DESK_DOCK" />
+            </intent-filter>
+        </activity>
+
+        <activity
+            android:name=".settings.BrightnessDialog"
+            android:label="@string/quick_settings_brightness_dialog_title"
+            android:theme="@android:style/Theme.DeviceDefault.Dialog"
+            android:finishOnCloseSystemDialogs="true"
+            android:launchMode="singleInstance"
+            android:excludeFromRecents="true"
+            android:exported="true">
+            <intent-filter>
+                <action android:name="android.intent.action.SHOW_BRIGHTNESS_DIALOG" />
+                <category android:name="android.intent.category.DEFAULT" />
+            </intent-filter>
+        </activity>
+
+        <!-- Doze with notifications, run in main sysui process for every user  -->
+        <service
+            android:name=".doze.DozeService"
+            android:exported="true"
+            android:singleUser="true"
+            android:permission="android.permission.BIND_DREAM_SERVICE" />
+
+        <receiver
+            android:name=".tuner.TunerService$ClearReceiver"
+            android:exported="false">
+            <intent-filter>
+                <action android:name="com.android.systemui.action.CLEAR_TUNER" />
+            </intent-filter>
+        </receiver>
+
+        <receiver
+            android:name=".statusbar.KeyboardShortcutsReceiver">
+            <intent-filter>
+                <action android:name="android.intent.action.DISMISS_KEYBOARD_SHORTCUTS" />
+                <action android:name="android.intent.action.SHOW_KEYBOARD_SHORTCUTS" />
+            </intent-filter>
+        </receiver>
+
+		    <!-- Add func settings -->
+		<activity android:name=".funcsetting.FuncSettings"
+			android:theme="@style/FuncTheme">
+			<intent-filter >
+			  
+				<action  android:name="com.android.systemui.SYSTEMUI_FUNC_SETTING" />
+			</intent-filter>
+		</activity>
+		<activity android:name=".funcsetting.AppListActivity" 
+			android:theme="@style/FuncTheme"/>
+		<receiver android:name=".funcsetting.ContactsReceiver">
+			<intent-filter >
+				<action android:name="com.android.systemui.funcsettings.contact_uri"/>
+				<action android:name="com.android.music.playlist_id"/>
+			</intent-filter>
+       </receiver>
+
+		<!-- added by zengjie for joy lockscreen feature task 5429900 20170927 begin-->
+         <activity android:name="com.tcl.mie.launcher.lscreen.stub.activity.ActivityProxy"
+             android:launchMode="standard"
+             android:screenOrientation="portrait"
+             android:theme="@android:style/Theme.NoTitleBar">
+         </activity>
+ 
+         <service
+             android:name="com.tcl.mie.launcher.lscreen.stub.service.ServiceProxy">
+         </service>
+ 
+         <meta-data android:name="product_file_version" android:value="1874"/>
+ 
+         <meta-data android:name="product_name" android:value="android-tcl-magazine-sdk" />
+ 
+         <meta-data android:name="product_path"  android:value="vlife_magazine"/>
+ 
+         <meta-data android:name="package_resource_type" android:value="" />
+ 
+         <meta-data android:name="wallpaper_resource_id" android:value="465"/>
+ 
+         <meta-data android:name="channel_id" android:value="2067"/>
+ 
+         <meta-data android:name="wallpaper_mypaper_ids" android:value="" />
+ 
+         <meta-data android:name="independent_version"  android:value="3"/>
+ 
+         <meta-data android:name="release_type"  android:value="release"/>
+ 
+         <meta-data android:name="version_name"  android:value="6.132.5"/>
+         <meta-data android:name="version_code"  android:value= "6144"/>  
+         
+         <meta-data
+             android:name="com.google.android.gms.version"
+             android:value="@integer/google_play_services_version" />
+ 
+         <service
+             android:name="com.vlife.MCService"
+             android:exported="true"
+             android:process=":main">
+             <intent-filter>
+                 <action android:name="com.vlife.magazine.content"/>
+                 <category android:name="android.intent.category.DEFAULT" />
+             </intent-filter>
+         </service>
+         <service
+             android:name="com.vlife.AService"
+             android:process=":main">
+             <intent-filter>
+                 <action android:name="com.vlife.init.action"/>
+                 <category android:name="android.intent.category.DEFAULT"/>
+             </intent-filter>
+         </service>
+ 
+         <service
+             android:name="com.vlife.TService"
+             android:exported="true"
+             android:process=":main">
+             <intent-filter>
+                 <action android:name="com.vlife.intent.action.DS" />
+                 <category android:name="android.intent.category.DEFAULT" />
+             </intent-filter>
+             <intent-filter>
+                 <action android:name="com.vlife.intent.action.DB" />
+                 <category android:name="android.intent.category.DEFAULT" />
+             </intent-filter>
+         </service>
+ 
+         <receiver
+             android:name="com.vlife.SReceiver"
+             android:process=":main">
+             <intent-filter>
+                 <action android:name="android.intent.action.MEDIA_MOUNTED" />
+                 <action android:name="android.intent.action.MEDIA_REMOVED" />
+                 <action android:name="android.intent.action.MEDIA_SHARED" />
+ 
+                 <data android:scheme="file" />
+             </intent-filter>
+         </receiver>
+         <receiver
+             android:name="com.vlife.NReceiver"
+             android:process=":main">
+             <intent-filter>
+                 <action android:name="android.net.conn.CONNECTIVITY_CHANGE" />
+             </intent-filter>
+         </receiver>
+         <receiver
+             android:name="com.vlife.BReceiver"
+             android:process=":main">
+             <intent-filter>
+                 <action android:name="android.intent.action.BOOT_COMPLETED" />
+                 <action android:name="android.intent.action.QUICKBOOT_POWERON" />
+                 <action android:name="android.intent.action.MEDIA_MOUNTED" />
+                 <action android:name="android.intent.action.MEDIA_SCANNER_FINISHED" />
+                 <category android:name="android.intent.category.LAUNCHER" />
+             </intent-filter>
+         </receiver>
+         <receiver
+             android:name="com.handpet.livewallpaper.receiver.PetMainReceiver"
+             android:process=":main">
+             <intent-filter android:priority="99">
+                 <action android:name="android.intent.action.PACKAGE_ADDED" />
+                 <action android:name="android.intent.action.PACKAGE_REMOVED" />
+                 <data android:scheme="package" />
+             </intent-filter>
+             <intent-filter>
+                 <action android:name="android.intent.action.DOWNLOAD_COMPLETE" />
+             </intent-filter>
+         </receiver>
+         <receiver
+             android:name="com.vlife.IReceiver"
+             android:process=":main">
+             <intent-filter android:priority="99">
+                 <action android:name="android.intent.action.PACKAGE_ADDED" />
+                 <action android:name="android.intent.action.PACKAGE_REMOVED" />
+                 <action android:name="android.intent.action.PACKAGE_INSTALL" />
+                 <action android:name="android.intent.action.PACKAGE_REPLACED" />
+                 <data android:scheme="package" />
+             </intent-filter>
+         </receiver>
+         <!--add for joy lockscreen with baidu begin-->
+         <activity
+             android:name="com.google.android.gms.ads.AdActivity"
+             android:configChanges="keyboard|keyboardHidden|orientation|screenLayout|uiMode|screenSize|smallestScreenSize"
+             android:theme="@android:style/Theme.Translucent" />
+         <activity
+             android:name="com.duapps.ad.InterstitialAdActivity"
+             android:configChanges="orientation|keyboardHidden|screenSize"
+             android:theme="@android:style/Theme.Translucent.NoTitleBar" />
+ 
+         <meta-data
+             android:name="app_license"
+             android:value="2c9c05a2bb3e4885c0e75e4a9f637a97"/>
+ 
+         <provider
+             android:name="com.duapps.ad.stats.DuAdCacheProvider"
+             android:authorities="com.android.systemui.DuAdCacheProvider"
+             android:exported="false">
+         </provider>
+ 
+         <receiver android:name="com.duapps.ad.base.PackageAddReceiver">
+             <intent-filter>
+                 <action android:name="android.intent.action.PACKAGE_ADDED"/>
+ 
+                 <data android:scheme="package"/>
+             </intent-filter>
+         </receiver>
+         <!--add for joy lockscreen with baidu end-->
+ 
+         <meta-data
+             android:name="UMENG_APPKEY"
+             android:value="59e84f9c07fe65670c0000cb"/>
+         <meta-data
+             android:name="UMENG_CHANNEL"
+             android:value="tcl_preload"/>
+ 
+         <!-- HK ad start -->
+         <activity
+             android:name="com.facebook.ads.InterstitialAdActivity"
+             android:configChanges="keyboardHidden|orientation|screenSize" />
+         <activity
+             android:name="com.mopub.mobileads.MoPubActivity"
+             android:configChanges="keyboardHidden|orientation|screenSize" />
+         <activity
+             android:name="com.mopub.mobileads.MraidActivity"
+             android:configChanges="keyboardHidden|orientation|screenSize" />
+         <activity
+             android:name="com.mopub.common.MoPubBrowser"
+             android:configChanges="keyboardHidden|orientation|screenSize" />
+         <activity
+             android:name="com.mopub.mobileads.MraidVideoPlayerActivity"
+             android:configChanges="keyboardHidden|orientation|screenSize" />
+         <activity
+             android:name="com.flurry.android.FlurryFullscreenTakeoverActivity"
+             android:configChanges="keyboard|keyboardHidden|orientation|screenLayout|uiMode|screenSize|smallestScreenSize" />
+         <!-- HK ad end -->
+         <!-- added by zengjie for joy lockscreen feature task 5429900 20170927 end-->
+	   <!--add for incoming calls turn to mute -->
+	   <service android:name="com.android.systemui.statusbar.phone.SensorFunctionServiceIncall"
+            android:exported="false"/>
+
+    </application>
+
+    <!-- Add keyguard usage protected broadcast -->
+    <protected-broadcast android:name="android.intent.action.normal.boot" />
+    <protected-broadcast android:name="android.intent.action.normal.boot.done" />
+    <protected-broadcast android:name="android.intent.action.normal.shutdown" />
+    <protected-broadcast android:name="android.intent.action.LAUNCH_POWEROFF_ALARM" />
+    <protected-broadcast android:name="alarm.boot.remove.ipowin" />
+    <protected-broadcast android:name="com.android.deskclock.SNOOZE_ALARM" />
+    <protected-broadcast android:name="com.android.deskclock.DISMISS_ALARM" />
+    <protected-broadcast android:name="com.android.deskclock.POWER_ON_ALARM" />
+
+</manifest>
Index: vendor/branch/5058A/device/ausshine/aus6739_66_n1/ProjectConfig.mk
===================================================================
--- vendor/branch/5058A/device/ausshine/aus6739_66_n1/ProjectConfig.mk	(revision 1283)
+++ vendor/branch/5058A/device/ausshine/aus6739_66_n1/ProjectConfig.mk	(revision 1284)
@@ -716,4 +716,6 @@
 WIFI_WEP_KEY_ID_SET = no
 #CREATE_PROJECT_INFO=20171102102954
 DMNR_COMPLEX_ARCH_SUPPORT = yes
-BUILD_GMS = yes
\ No newline at end of file
+BUILD_GMS = yes
+
+TCL_LSCREEN_SUPPORT = yes
\ No newline at end of file
Index: vendor/branch/980CN1/frameworks/base/packages/SystemUI/AndroidManifest.xml
===================================================================
--- vendor/branch/980CN1/frameworks/base/packages/SystemUI/AndroidManifest.xml	(revision 0)
+++ vendor/branch/980CN1/frameworks/base/packages/SystemUI/AndroidManifest.xml	(revision 1284)
@@ -0,0 +1,555 @@
+<?xml version="1.0" encoding="utf-8"?>
+<!--
+/*
+ * Copyright (c) 2014 Google Inc.
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+-->
+<manifest xmlns:android="http://schemas.android.com/apk/res/android"
+        xmlns:androidprv="http://schemas.android.com/apk/prv/res/android"
+        package="com.android.systemui"
+        android:sharedUserId="android.uid.systemui"
+        coreApp="true">
+
+
+    <uses-permission android:name="android.permission.RECEIVE_BOOT_COMPLETED" />
+    <uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE" />
+    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
+    <!-- Used to read storage for all users -->
+    <uses-permission android:name="android.permission.WRITE_MEDIA_STORAGE" />
+    <uses-permission android:name="android.permission.WAKE_LOCK" />
+
+    <uses-permission android:name="android.permission.INJECT_EVENTS" />
+    <uses-permission android:name="android.permission.DUMP" />
+    <uses-permission android:name="android.permission.WRITE_SETTINGS" />
+
+    <uses-permission android:name="android.permission.STATUS_BAR_SERVICE" />
+    <uses-permission android:name="android.permission.STATUS_BAR" />
+    <uses-permission android:name="android.permission.EXPAND_STATUS_BAR" />
+    <uses-permission android:name="android.permission.REMOTE_AUDIO_PLAYBACK" />
+
+    <uses-permission android:name="android.permission.MANAGE_USERS" />
+    <uses-permission android:name="android.permission.READ_PROFILE" />
+    <uses-permission android:name="android.permission.READ_CONTACTS" />
+    <uses-permission android:name="android.permission.CONFIGURE_WIFI_DISPLAY" />
+    <uses-permission android:name="android.permission.WRITE_SECURE_SETTINGS" />
+    <uses-permission android:name="android.permission.GET_APP_OPS_STATS" />
+
+    <!-- Networking and telephony -->
+    <uses-permission android:name="android.permission.BLUETOOTH" />
+    <uses-permission android:name="android.permission.BLUETOOTH_ADMIN" />
+    <uses-permission android:name="android.permission.BLUETOOTH_PRIVILEGED" />
+    <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION"/>
+    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
+    <uses-permission android:name="android.permission.CHANGE_NETWORK_STATE" />
+    <uses-permission android:name="android.permission.READ_PRIVILEGED_PHONE_STATE" />
+    <uses-permission android:name="android.permission.ACCESS_WIFI_STATE" />
+    <uses-permission android:name="android.permission.CHANGE_WIFI_STATE" />
+    <uses-permission android:name="android.permission.OVERRIDE_WIFI_CONFIG" />
+    <uses-permission android:name="android.permission.MANAGE_NETWORK_POLICY" />
+    <uses-permission android:name="android.permission.CONNECTIVITY_INTERNAL" />
+    <uses-permission android:name="android.permission.TETHER_PRIVILEGED" />
+    <uses-permission android:name="android.permission.READ_NETWORK_USAGE_HISTORY" />
+    <uses-permission android:name="android.permission.CONTROL_VPN" />
+    <uses-permission android:name="android.permission.PEERS_MAC_ADDRESS"/>
+    <!-- Physical hardware -->
+    <uses-permission android:name="android.permission.MANAGE_USB" />
+    <uses-permission android:name="android.permission.DEVICE_POWER" />
+    <uses-permission android:name="android.permission.MOUNT_UNMOUNT_FILESYSTEMS" />
+    <uses-permission android:name="android.permission.MASTER_CLEAR" />
+    <uses-permission android:name="android.permission.VIBRATE" />
+
+    <!-- ActivityManager -->
+    <uses-permission android:name="android.permission.REAL_GET_TASKS" />
+    <uses-permission android:name="android.permission.GET_DETAILED_TASKS" />
+    <uses-permission android:name="android.permission.REORDER_TASKS" />
+    <uses-permission android:name="android.permission.REMOVE_TASKS" />
+    <uses-permission android:name="android.permission.STOP_APP_SWITCHES" />
+    <uses-permission android:name="android.permission.SET_SCREEN_COMPATIBILITY" />
+    <uses-permission android:name="android.permission.START_ANY_ACTIVITY" />
+    <uses-permission android:name="android.permission.INTERACT_ACROSS_USERS" />
+    <uses-permission android:name="android.permission.INTERACT_ACROSS_USERS_FULL" />
+    <uses-permission android:name="android.permission.GET_TOP_ACTIVITY_INFO" />
+    <uses-permission android:name="android.permission.MANAGE_ACTIVITY_STACKS" />
+    <uses-permission android:name="android.permission.START_TASKS_FROM_RECENTS" />
+    <uses-permission android:name="android.permission.GET_INTENT_SENDER_INTENT" />
+
+    <!-- WindowManager -->
+    <uses-permission android:name="android.permission.INTERNAL_SYSTEM_WINDOW" />
+    <uses-permission android:name="android.permission.SYSTEM_ALERT_WINDOW" />
+    <uses-permission android:name="android.permission.READ_FRAME_BUFFER" />
+    <uses-permission android:name="android.permission.MANAGE_APP_TOKENS" />
+    <uses-permission android:name="android.permission.REGISTER_WINDOW_MANAGER_LISTENERS" />
+    <uses-permission android:name="android.permission.SET_ORIENTATION" />
+    <uses-permission android:name="android.permission.DISABLE_KEYGUARD" />
+
+    <!-- DreamManager -->
+    <uses-permission android:name="android.permission.READ_DREAM_STATE" />
+    <uses-permission android:name="android.permission.WRITE_DREAM_STATE" />
+
+    <!-- Alarm clocks -->
+    <uses-permission android:name="com.android.alarm.permission.SET_ALARM" />
+
+    <!-- Keyguard -->
+    <uses-permission android:name="android.permission.CONTROL_KEYGUARD" />
+    <uses-permission android:name="android.permission.MODIFY_PHONE_STATE" />
+    <uses-permission android:name="android.permission.GET_ACCOUNTS" />
+    <uses-permission android:name="android.permission.MANAGE_ACCOUNTS" />
+    <uses-permission android:name="android.permission.BIND_DEVICE_ADMIN" />
+    <uses-permission android:name="android.permission.CHANGE_COMPONENT_ENABLED_STATE" />
+    <uses-permission android:name="android.permission.MEDIA_CONTENT_CONTROL" />
+    <uses-permission android:name="android.permission.ACCESS_KEYGUARD_SECURE_STORAGE" />
+    <uses-permission android:name="android.permission.TRUST_LISTENER" />
+    <uses-permission android:name="android.permission.USE_FINGERPRINT" />
+    <!-- Keyguard add for Anti-theft-->
+    <uses-permission android:name="com.mediatek.ppl.permission.ACCESS_PPL_MANAGER" />
+    <uses-permission android:name="android.permission.RESET_FINGERPRINT_LOCKOUT" />
+
+    <!-- Needed for WallpaperManager.clear in ImageWallpaper.updateWallpaperLocked -->
+    <uses-permission android:name="android.permission.SET_WALLPAPER"/>
+
+    <!-- Recents -->
+    <uses-permission android:name="android.permission.BIND_APPWIDGET" />
+
+    <!-- Wifi Display -->
+    <uses-permission android:name="android.permission.CONFIGURE_WIFI_DISPLAY" />
+
+    <uses-permission android:name="android.permission.CAMERA" />
+
+    <!-- Screen Capturing -->
+    <uses-permission android:name="android.permission.MANAGE_MEDIA_PROJECTION" />
+
+    <!-- Assist -->
+    <uses-permission android:name="android.permission.ACCESS_VOICE_INTERACTION_SERVICE" />
+
+    <!-- Listen for keyboard attachment / detachment -->
+    <uses-permission android:name="android.permission.TABLET_MODE" />
+
+    <!-- Self permission for internal broadcasts. -->
+    <permission android:name="com.android.systemui.permission.SELF"
+            android:protectionLevel="signature" />
+    <uses-permission android:name="com.android.systemui.permission.SELF" />
+
+    <!-- Adding Quick Settings tiles -->
+    <uses-permission android:name="android.permission.BIND_QUICK_SETTINGS_TILE" />
+
+    <!-- Block notifications inline notifications -->
+    <uses-permission android:name="android.permission.UPDATE_APP_OPS_STATS" />
+
+    <!-- Access battery information -->
+    <uses-permission android:name="android.permission.BATTERY_STATS" />
+
+    <!-- DevicePolicyManager get user restrictions -->
+    <uses-permission android:name="android.permission.MANAGE_PROFILE_AND_DEVICE_OWNERS" />
+
+    <!-- TV picture-in-picture -->
+    <uses-permission android:name="android.permission.RECEIVE_MEDIA_RESOURCE_USAGE" />
+
+    <!-- DND access -->
+    <uses-permission android:name="android.permission.MANAGE_NOTIFICATIONS" />
+    <!--TODO:: Check these permission whether still need on N -->
+    <!-- M: Add for data sim switch op feature -->
+    <uses-permission android:name="android.permission.WRITE_APN_SETTINGS"/>
+
+    <!-- M: Add for VoiceCommand -->
+    <uses-permission android:name="android.permission.MANAGE_VOICE_KEYPHRASES" />
+
+    <!-- M: Add for op feature -->
+    <uses-permission android:name="android.permission.READ_PRECISE_PHONE_STATE" />
+
+    <!-- It's like, reality, but, you know, virtual -->
+    <uses-permission android:name="android.permission.ACCESS_VR_MANAGER" />
+
+    <!-- the ability to rename notifications posted by other apps -->
+    <uses-permission android:name="android.permission.SUBSTITUTE_NOTIFICATION_APP_NAME" />
+
+    <!-- shortcut manager -->
+    <uses-permission android:name="android.permission.RESET_SHORTCUT_MANAGER_THROTTLING" />
+
+    <application
+        android:name=".SystemUIApplication"
+        android:persistent="true"
+        android:allowClearUserData="false"
+        android:allowBackup="false"
+        android:hardwareAccelerated="true"
+        android:label="@string/app_label"
+        android:icon="@drawable/icon"
+        android:process="com.android.systemui"
+        android:supportsRtl="true"
+        android:theme="@style/systemui_theme"
+        android:defaultToDeviceProtectedStorage="true"
+        android:directBootAware="true">
+        <!-- Keep theme in sync with SystemUIApplication.onCreate().
+             Setting the theme on the application does not affect views inflated by services.
+             The application theme is set again from onCreate to take effect for those views. -->
+
+        <!-- Broadcast receiver that gets the broadcast at boot time and starts
+             up everything else.
+             TODO: Should have an android:permission attribute
+             -->
+        <service android:name="SystemUIService"
+            android:exported="true"
+            />
+
+        <!-- Recents depends on every user having their own SystemUI process, so on user switch,
+             ensure that the process is created by starting this service.
+             -->
+        <service android:name="SystemUISecondaryUserService"
+            android:exported="true"
+            android:permission="com.android.systemui.permission.SELF" />
+
+
+        <!-- started from PhoneWindowManager
+             TODO: Should have an android:permission attribute -->
+        <service android:name=".screenshot.TakeScreenshotService"
+            android:process=":screenshot"
+            android:exported="false" />
+
+        <!-- Called from PhoneWindowManager -->
+        <receiver android:name=".screenshot.ScreenshotServiceErrorReceiver"
+            android:process=":screenshot"
+            android:exported="false">
+            <intent-filter>
+                <action android:name="com.android.systemui.screenshot.SHOW_ERROR" />
+            </intent-filter>
+        </receiver>
+
+        <service android:name=".ImageWallpaper"
+                android:permission="android.permission.BIND_WALLPAPER"
+                android:exported="true" />
+
+        <activity android:name=".tuner.TunerActivity"
+                  android:enabled="false"
+                  android:icon="@drawable/tuner"
+                  android:theme="@style/TunerSettings"
+                  android:label="@string/system_ui_tuner"
+                  android:process=":tuner"
+                  android:exported="true">
+            <intent-filter>
+                <action android:name="com.android.settings.action.EXTRA_SETTINGS" />
+                <category android:name="android.intent.category.DEFAULT" />
+            </intent-filter>
+            <meta-data android:name="com.android.settings.category"
+                    android:value="com.android.settings.category.system" />
+        </activity>
+
+        <activity-alias android:name=".DemoMode"
+                  android:targetActivity=".tuner.TunerActivity"
+                  android:icon="@drawable/tuner"
+                  android:theme="@style/TunerSettings"
+                  android:label="@string/demo_mode"
+                  android:process=":tuner"
+                  android:exported="true">
+            <intent-filter>
+                <action android:name="com.android.settings.action.DEMO_MODE" />
+                <category android:name="android.intent.category.DEFAULT" />
+            </intent-filter>
+        </activity-alias>
+
+        <!-- Service used by secondary users to register themselves with the system user. -->
+        <service android:name=".recents.RecentsSystemUserService"
+            android:exported="false"
+            android:permission="com.android.systemui.permission.SELF" />
+
+        <!-- Alternate Recents -->
+        <activity android:name=".recents.RecentsActivity"
+                  android:label="@string/accessibility_desc_recent_apps"
+                  android:exported="false"
+                  android:launchMode="singleInstance"
+                  android:excludeFromRecents="true"
+                  android:stateNotNeeded="true"
+                  android:resumeWhilePausing="true"
+                  android:screenOrientation="behind"
+                  android:resizeableActivity="true"
+                  android:configChanges="orientation|screenSize|smallestScreenSize|screenLayout"
+                  android:theme="@style/RecentsTheme.Wallpaper">
+            <intent-filter>
+                <action android:name="com.android.systemui.recents.TOGGLE_RECENTS" />
+            </intent-filter>
+        </activity>
+
+        <activity android:name=".recents.tv.RecentsTvActivity"
+                  android:label="@string/accessibility_desc_recent_apps"
+                  android:exported="false"
+                  android:launchMode="singleInstance"
+                  android:excludeFromRecents="true"
+                  android:stateNotNeeded="true"
+                  android:resumeWhilePausing="true"
+                  android:screenOrientation="behind"
+                  android:theme="@style/RecentsTvTheme.Wallpaper">
+            <intent-filter>
+                <action android:name="com.android.systemui.recents.TOGGLE_RECENTS" />
+            </intent-filter>
+        </activity>
+
+        <activity
+            android:name=".stackdivider.ForcedResizableInfoActivity"
+            android:theme="@style/ForcedResizableTheme"
+            android:excludeFromRecents="true"
+            android:stateNotNeeded="true"
+            android:configChanges="orientation|screenSize|smallestScreenSize|screenLayout"
+            android:exported="false">
+        </activity>
+
+        <!-- Callback for dismissing screenshot notification after a share target is picked -->
+        <receiver android:name=".screenshot.GlobalScreenshot$TargetChosenReceiver"
+                  android:process=":screenshot"
+                  android:exported="false" />
+
+        <!-- Callback for deleting screenshot notification -->
+        <receiver android:name=".screenshot.GlobalScreenshot$DeleteScreenshotReceiver"
+                  android:process=":screenshot"
+                  android:exported="false" />
+
+        <!-- started from UsbDeviceSettingsManager -->
+        <activity android:name=".usb.UsbConfirmActivity"
+            android:exported="true"
+            android:permission="android.permission.MANAGE_USB"
+            android:theme="@style/Theme.SystemUI.Dialog.Alert"
+            android:finishOnCloseSystemDialogs="true"
+            android:excludeFromRecents="true">
+        </activity>
+
+        <!-- started from UsbDeviceSettingsManager -->
+        <activity android:name=".usb.UsbPermissionActivity"
+            android:exported="true"
+            android:permission="android.permission.MANAGE_USB"
+            android:theme="@style/Theme.SystemUI.Dialog.Alert"
+            android:finishOnCloseSystemDialogs="true"
+            android:excludeFromRecents="true">
+        </activity>
+
+        <!-- started from UsbDeviceSettingsManager -->
+        <activity android:name=".usb.UsbResolverActivity"
+            android:exported="true"
+            android:permission="android.permission.MANAGE_USB"
+            android:theme="@style/Theme.SystemUI.Dialog.Alert"
+            android:finishOnCloseSystemDialogs="true"
+            android:excludeFromRecents="true">
+        </activity>
+
+        <!-- started from UsbDeviceSettingsManager -->
+        <activity android:name=".usb.UsbAccessoryUriActivity"
+            android:exported="true"
+            android:permission="android.permission.MANAGE_USB"
+            android:theme="@style/Theme.SystemUI.Dialog.Alert"
+            android:finishOnCloseSystemDialogs="true"
+            android:excludeFromRecents="true">
+        </activity>
+
+        <!-- started from UsbDebuggingManager -->
+        <activity android:name=".usb.UsbDebuggingActivity"
+            android:permission="android.permission.MANAGE_USB"
+            android:theme="@style/Theme.SystemUI.Dialog.Alert"
+            android:finishOnCloseSystemDialogs="true"
+            android:excludeFromRecents="true">
+        </activity>
+        <activity android:name=".usb.UsbDebuggingSecondaryUserActivity"
+            android:theme="@style/Theme.SystemUI.Dialog.Alert"
+            android:finishOnCloseSystemDialogs="true"
+            android:excludeFromRecents="true">
+        </activity>
+
+        <!-- started from NetworkPolicyManagerService -->
+        <activity
+            android:name=".net.NetworkOverLimitActivity"
+            android:exported="true"
+            android:permission="android.permission.MANAGE_NETWORK_POLICY"
+            android:theme="@android:style/Theme.DeviceDefault.Light.Panel"
+            android:finishOnCloseSystemDialogs="true"
+            android:launchMode="singleTop"
+            android:taskAffinity="com.android.systemui.net"
+            android:excludeFromRecents="true" />
+
+        <!-- started from MediaProjectionManager -->
+        <activity
+            android:name=".media.MediaProjectionPermissionActivity"
+            android:exported="true"
+            android:theme="@style/Theme.AlertDialogHost"
+            android:finishOnCloseSystemDialogs="true"
+            android:launchMode="singleTop"
+            android:excludeFromRecents="true" />
+
+        <!-- started from PipUI -->
+        <activity
+            android:name="com.android.systemui.tv.pip.PipMenuActivity"
+            android:exported="true"
+            android:theme="@style/PipTheme"
+            android:launchMode="singleTop"
+            android:taskAffinity=""
+            android:configChanges="screenSize|smallestScreenSize|screenLayout|orientation|locale|layoutDirection"
+            android:resizeableActivity="true"
+            android:supportsPictureInPicture="true"
+            androidprv:alwaysFocusable="true"
+            android:excludeFromRecents="true" />
+        <activity
+            android:name="com.android.systemui.tv.pip.PipOverlayActivity"
+            android:exported="true"
+            android:theme="@style/PipTheme"
+            android:taskAffinity=""
+            android:configChanges="screenSize|smallestScreenSize|screenLayout|orientation|locale|layoutDirection"
+            android:resizeableActivity="true"
+            android:supportsPictureInPicture="true"
+            android:excludeFromRecents="true" />
+        <activity
+            android:name="com.android.systemui.tv.pip.PipOnboardingActivity"
+            android:exported="true"
+            android:theme="@style/PipTheme"
+            android:launchMode="singleTop"
+            android:excludeFromRecents="true" />
+
+        <!-- platform logo easter egg activity -->
+        <activity
+            android:name=".DessertCase"
+            android:exported="true"
+            android:label="@string/dessert_case"
+            android:theme="@android:style/Theme.Black.NoTitleBar.Fullscreen"
+            android:hardwareAccelerated="true"
+            android:launchMode="singleInstance"
+            android:screenOrientation="locked"
+            android:process=":sweetsweetdesserts"
+            android:excludeFromRecents="true">
+            <intent-filter>
+                <action android:name="android.intent.action.MAIN" />
+                <category android:name="android.intent.category.DEFAULT" />
+            </intent-filter>
+        </activity>
+
+        <activity android:name=".egg.MLandActivity"
+                  android:theme="@android:style/Theme.Material.NoActionBar"
+                  android:exported="true"
+                  android:icon="@drawable/icon"
+                  android:label="@string/mland"
+                  android:hardwareAccelerated="true"
+                  android:launchMode="singleInstance"
+                  android:screenOrientation="locked"
+                  android:process=":sweetsweetdesserts"
+                  android:excludeFromRecents="true">
+            <intent-filter>
+                <action android:name="android.intent.action.MAIN"/>
+                <category android:name="android.intent.category.DEFAULT" />
+            </intent-filter>
+        </activity>
+
+        <!-- a gallery of delicious treats -->
+        <service
+            android:name=".DessertCaseDream"
+            android:exported="true"
+            android:label="@string/dessert_case"
+            android:permission="android.permission.BIND_DREAM_SERVICE"
+            android:enabled="false"
+            android:process=":sweetsweetdesserts"
+            >
+            <intent-filter>
+                <action android:name="android.service.dreams.DreamService" />
+                <category android:name="android.intent.category.DEFAULT" />
+            </intent-filter>
+        </service>
+
+        <service
+            android:name=".keyguard.KeyguardService"
+            android:exported="true"
+            android:enabled="@bool/config_enableKeyguardService" />
+
+        <activity android:name=".Somnambulator"
+            android:label="@string/start_dreams"
+            android:icon="@mipmap/ic_launcher_dreams"
+            android:theme="@android:style/Theme.Wallpaper.NoTitleBar"
+            android:exported="true"
+            android:excludeFromRecents="true"
+            >
+            <!--
+            <intent-filter>
+                <action android:name="android.intent.action.CREATE_SHORTCUT" />
+                <category android:name="android.intent.category.DEFAULT" />
+            </intent-filter>
+            -->
+            <intent-filter>
+                <action android:name="android.intent.action.MAIN" />
+                <category android:name="android.intent.category.DEFAULT" />
+                <category android:name="android.intent.category.DESK_DOCK" />
+            </intent-filter>
+        </activity>
+
+        <activity
+            android:name=".settings.BrightnessDialog"
+            android:label="@string/quick_settings_brightness_dialog_title"
+            android:theme="@android:style/Theme.DeviceDefault.Dialog"
+            android:finishOnCloseSystemDialogs="true"
+            android:launchMode="singleInstance"
+            android:excludeFromRecents="true"
+            android:exported="true">
+            <intent-filter>
+                <action android:name="android.intent.action.SHOW_BRIGHTNESS_DIALOG" />
+                <category android:name="android.intent.category.DEFAULT" />
+            </intent-filter>
+        </activity>
+
+        <!-- Doze with notifications, run in main sysui process for every user  -->
+        <service
+            android:name=".doze.DozeService"
+            android:exported="true"
+            android:singleUser="true"
+            android:permission="android.permission.BIND_DREAM_SERVICE" />
+
+        <receiver
+            android:name=".tuner.TunerService$ClearReceiver"
+            android:exported="false">
+            <intent-filter>
+                <action android:name="com.android.systemui.action.CLEAR_TUNER" />
+            </intent-filter>
+        </receiver>
+
+        <receiver
+            android:name=".statusbar.KeyboardShortcutsReceiver">
+            <intent-filter>
+                <action android:name="android.intent.action.DISMISS_KEYBOARD_SHORTCUTS" />
+                <action android:name="android.intent.action.SHOW_KEYBOARD_SHORTCUTS" />
+            </intent-filter>
+        </receiver>
+		    <!-- Add func settings -->
+		<activity android:name=".funcsetting.FuncSettings"
+			android:theme="@style/FuncTheme">
+			<intent-filter >
+			  
+				<action  android:name="com.android.systemui.SYSTEMUI_FUNC_SETTING" />
+			</intent-filter>
+		</activity>
+		<activity android:name=".funcsetting.AppListActivity" 
+			android:theme="@style/FuncTheme"/>
+		<receiver android:name=".funcsetting.ContactsReceiver">
+			<intent-filter >
+				<action android:name="com.android.systemui.funcsettings.contact_uri"/>
+				<action android:name="com.android.music.playlist_id"/>
+			</intent-filter>
+       </receiver>
+
+	
+	   <!--add for incoming calls turn to mute -->
+	   <service android:name="com.android.systemui.statusbar.phone.SensorFunctionServiceIncall"
+            android:exported="false"/>
+
+    </application>
+
+    <!-- Add keyguard usage protected broadcast -->
+    <protected-broadcast android:name="android.intent.action.normal.boot" />
+    <protected-broadcast android:name="android.intent.action.normal.boot.done" />
+    <protected-broadcast android:name="android.intent.action.normal.shutdown" />
+    <protected-broadcast android:name="android.intent.action.LAUNCH_POWEROFF_ALARM" />
+    <protected-broadcast android:name="alarm.boot.remove.ipowin" />
+    <protected-broadcast android:name="com.android.deskclock.SNOOZE_ALARM" />
+    <protected-broadcast android:name="com.android.deskclock.DISMISS_ALARM" />
+    <protected-broadcast android:name="com.android.deskclock.POWER_ON_ALARM" />
+
+</manifest>
Index: vendor/branch/980CN1/frameworks/base/packages/Keyguard/res/layout/keyguard_status_area.xml
===================================================================
--- vendor/branch/980CN1/frameworks/base/packages/Keyguard/res/layout/keyguard_status_area.xml	(revision 0)
+++ vendor/branch/980CN1/frameworks/base/packages/Keyguard/res/layout/keyguard_status_area.xml	(revision 1284)
@@ -0,0 +1,53 @@
+<?xml version="1.0" encoding="utf-8"?>
+<!--
+**
+** Copyright 2013, The Android Open Source Project
+**
+** Licensed under the Apache License, Version 2.0 (the "License")
+** you may not use this file except in compliance with the License.
+** You may obtain a copy of the License at
+**
+**     http://www.apache.org/licenses/LICENSE-2.0
+**
+** Unless required by applicable law or agreed to in writing, software
+** distributed under the License is distributed on an "AS IS" BASIS,
+** WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+** See the License for the specific language governing permissions and
+** limitations under the License.
+*/
+-->
+
+<!-- This is a view that shows general status information in Keyguard. -->
+<LinearLayout
+    xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:androidprv="http://schemas.android.com/apk/res-auto"
+    android:layout_width="match_parent"
+    android:layout_height="wrap_content"
+    android:orientation="horizontal"
+    android:gravity="center">
+    <!-- modify style from "widget_label" to "keyguard_date_style" by zhangyong for D2908644 20161010 -->
+    <!--begin-modify by zengjie  for task:5429900 -->
+    <TextClock android:id="@+id/date_view"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:textColor="@color/clock_white"
+        style="@style/widget_label"
+        android:textAllCaps="true"
+        android:letterSpacing="0.15"
+        android:gravity="center"
+        />
+    <!--end-modify by zengjie  for task:5429900 -->
+    <TextView android:id="@+id/alarm_status"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:drawablePadding="6dp"
+        android:drawableStart="@drawable/ic_access_alarms_big"
+        android:textColor="@color/clock_gray"
+        android:letterSpacing="0.15"
+        android:textAllCaps="true"
+        style="@style/widget_label"
+        android:layout_marginStart="6dp"
+        android:gravity="center"
+        android:visibility="gone"
+        />
+</LinearLayout>
Index: vendor/branch/980CN1/frameworks/base/packages/Keyguard/res/layout/keyguard_status_view.xml
===================================================================
--- vendor/branch/980CN1/frameworks/base/packages/Keyguard/res/layout/keyguard_status_view.xml	(revision 0)
+++ vendor/branch/980CN1/frameworks/base/packages/Keyguard/res/layout/keyguard_status_view.xml	(revision 1284)
@@ -0,0 +1,67 @@
+<?xml version="1.0" encoding="utf-8"?>
+<!--
+**
+** Copyright 2009, The Android Open Source Project
+**
+** Licensed under the Apache License, Version 2.0 (the "License")
+** you may not use this file except in compliance with the License.
+** You may obtain a copy of the License at
+**
+**     http://www.apache.org/licenses/LICENSE-2.0
+**
+** Unless required by applicable law or agreed to in writing, software
+** distributed under the License is distributed on an "AS IS" BASIS,
+** WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+** See the License for the specific language governing permissions and
+** limitations under the License.
+*/
+-->
+
+<!-- This is a view that shows general status information in Keyguard. -->
+<com.android.keyguard.KeyguardStatusView
+    xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:androidprv="http://schemas.android.com/apk/res-auto"
+    android:id="@+id/keyguard_status_view"
+    android:orientation="vertical"
+    android:layout_width="match_parent"
+    android:layout_height="wrap_content"
+    androidprv:layout_maxWidth="@dimen/keyguard_security_width"
+    androidprv:layout_maxHeight="@dimen/keyguard_security_height"
+    android:gravity="center_horizontal|top">
+    <LinearLayout
+        android:id="@+id/keyguard_clock_container"
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"
+        android:layout_gravity="center_horizontal|top"
+        android:orientation="vertical" >
+            <!--begin-modify by zengjie  for task:5429900 -->
+        <TextClock
+            android:id="@+id/clock_view"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_gravity="center_horizontal"
+            android:textColor="@color/clock_white"
+            android:singleLine="true"
+            style="@style/widget_big_thin"
+            android:format12Hour="@string/keyguard_widget_12_hours_format"
+            android:format24Hour="@string/keyguard_widget_24_hours_format"
+            android:layout_marginBottom="@dimen/bottom_text_spacing_digital" />
+            <!--begin-modify by zengjie  for task:5429900 -->
+
+        <include layout="@layout/keyguard_status_area" />
+        <TextView
+            android:id="@+id/owner_info"
+            android:layout_marginLeft="16dp"
+            android:layout_marginRight="16dp"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_marginTop="@dimen/date_owner_info_margin"
+            android:layout_gravity="center_horizontal"
+            android:textColor="@color/clock_gray"
+            android:textSize="@dimen/widget_label_font_size"
+            android:letterSpacing="0.05"
+            android:ellipsize="marquee"
+            android:singleLine="true" />
+
+    </LinearLayout>
+</com.android.keyguard.KeyguardStatusView>
Index: vendor/branch/5058T/device/ausshine/aus6739_66_n1/ProjectConfig.mk
===================================================================
--- vendor/branch/5058T/device/ausshine/aus6739_66_n1/ProjectConfig.mk	(revision 1283)
+++ vendor/branch/5058T/device/ausshine/aus6739_66_n1/ProjectConfig.mk	(revision 1284)
@@ -716,4 +716,6 @@
 WIFI_WEP_KEY_ID_SET = no
 #CREATE_PROJECT_INFO=20171102102954
 DMNR_COMPLEX_ARCH_SUPPORT = yes
-BUILD_GMS = yes
\ No newline at end of file
+BUILD_GMS = yes
+
+TCL_LSCREEN_SUPPORT = yes
\ No newline at end of file
Index: vendor/branch/5058T/frameworks/base/packages/SystemUI/assets/LScreen.apk
===================================================================
Cannot display: file marked as a binary type.
svn:mime-type = application/octet-stream
Index: vendor/branch/5058T/frameworks/base/packages/SystemUI/assets/LScreen.apk
===================================================================
--- vendor/branch/5058T/frameworks/base/packages/SystemUI/assets/LScreen.apk	(revision 0)
+++ vendor/branch/5058T/frameworks/base/packages/SystemUI/assets/LScreen.apk	(revision 1284)

Property changes on: vendor/branch/5058T/frameworks/base/packages/SystemUI/assets/LScreen.apk
___________________________________________________________________
Added: svn:mime-type
## -0,0 +1 ##
+application/octet-stream
\ No newline at end of property
Index: vendor/branch/5058T/frameworks/base/packages/SystemUI/AndroidManifest.xml
===================================================================
--- vendor/branch/5058T/frameworks/base/packages/SystemUI/AndroidManifest.xml	(revision 0)
+++ vendor/branch/5058T/frameworks/base/packages/SystemUI/AndroidManifest.xml	(revision 1284)
@@ -0,0 +1,744 @@
+<?xml version="1.0" encoding="utf-8"?>
+<!--
+/*
+ * Copyright (c) 2014 Google Inc.
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+-->
+<manifest xmlns:android="http://schemas.android.com/apk/res/android"
+        xmlns:androidprv="http://schemas.android.com/apk/prv/res/android"
+        package="com.android.systemui"
+        android:sharedUserId="android.uid.systemui"
+        coreApp="true">
+
+	<!-- added by zengjie for joy lockscreen feature task 5429900 20171101 begin-->
+	<uses-sdk android:minSdkVersion="14" android:targetSdkVersion="25"/>
+	<uses-feature android:name="android.software.live_wallpaper" />
+    <uses-permission android:name="android.permission.READ_PHONE_STATE" />
+	<uses-permission android:name="android.permission.INTERNET" />
+	<uses-permission android:name="android.permission.RECORD_AUDIO" />
+	<uses-permission android:name="android.permission.FLASHLIGHT" />
+	<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
+	<uses-permission android:name="android.permission.READ_LOGS" />
+	<uses-permission android:name="com.android.launcher.permission.INSTALL_SHORTCUT" />
+	<uses-permission android:name="com.android.launcher.permission.UNINSTALL_SHORTCUT" />
+	<uses-permission android:name="android.permission.KILL_BACKGROUND_PROCESSES" />
+	<!-- added by zengjie for joy lockscreen feature task 5429900 20171101 end -->
+    <uses-permission android:name="android.permission.RECEIVE_BOOT_COMPLETED" />
+    <uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE" />
+    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
+    <!-- Used to read storage for all users -->
+    <uses-permission android:name="android.permission.WRITE_MEDIA_STORAGE" />
+    <uses-permission android:name="android.permission.WAKE_LOCK" />
+
+    <uses-permission android:name="android.permission.INJECT_EVENTS" />
+    <uses-permission android:name="android.permission.DUMP" />
+    <uses-permission android:name="android.permission.WRITE_SETTINGS" />
+
+    <uses-permission android:name="android.permission.STATUS_BAR_SERVICE" />
+    <uses-permission android:name="android.permission.STATUS_BAR" />
+    <uses-permission android:name="android.permission.EXPAND_STATUS_BAR" />
+    <uses-permission android:name="android.permission.REMOTE_AUDIO_PLAYBACK" />
+
+    <uses-permission android:name="android.permission.MANAGE_USERS" />
+    <uses-permission android:name="android.permission.READ_PROFILE" />
+    <uses-permission android:name="android.permission.READ_CONTACTS" />
+    <uses-permission android:name="android.permission.CONFIGURE_WIFI_DISPLAY" />
+    <uses-permission android:name="android.permission.WRITE_SECURE_SETTINGS" />
+    <uses-permission android:name="android.permission.GET_APP_OPS_STATS" />
+
+    <!-- Networking and telephony -->
+    <uses-permission android:name="android.permission.BLUETOOTH" />
+    <uses-permission android:name="android.permission.BLUETOOTH_ADMIN" />
+    <uses-permission android:name="android.permission.BLUETOOTH_PRIVILEGED" />
+    <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION"/>
+    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
+    <uses-permission android:name="android.permission.CHANGE_NETWORK_STATE" />
+    <uses-permission android:name="android.permission.READ_PRIVILEGED_PHONE_STATE" />
+    <uses-permission android:name="android.permission.ACCESS_WIFI_STATE" />
+    <uses-permission android:name="android.permission.CHANGE_WIFI_STATE" />
+    <uses-permission android:name="android.permission.OVERRIDE_WIFI_CONFIG" />
+    <uses-permission android:name="android.permission.MANAGE_NETWORK_POLICY" />
+    <uses-permission android:name="android.permission.CONNECTIVITY_INTERNAL" />
+    <uses-permission android:name="android.permission.TETHER_PRIVILEGED" />
+    <uses-permission android:name="android.permission.READ_NETWORK_USAGE_HISTORY" />
+    <uses-permission android:name="android.permission.CONTROL_VPN" />
+    <uses-permission android:name="android.permission.PEERS_MAC_ADDRESS"/>
+    <!-- Physical hardware -->
+    <uses-permission android:name="android.permission.MANAGE_USB" />
+    <uses-permission android:name="android.permission.DEVICE_POWER" />
+    <uses-permission android:name="android.permission.MOUNT_UNMOUNT_FILESYSTEMS" />
+    <uses-permission android:name="android.permission.MASTER_CLEAR" />
+    <uses-permission android:name="android.permission.VIBRATE" />
+
+    <!-- ActivityManager -->
+    <uses-permission android:name="android.permission.REAL_GET_TASKS" />
+    <uses-permission android:name="android.permission.GET_DETAILED_TASKS" />
+    <uses-permission android:name="android.permission.REORDER_TASKS" />
+    <uses-permission android:name="android.permission.REMOVE_TASKS" />
+    <uses-permission android:name="android.permission.STOP_APP_SWITCHES" />
+    <uses-permission android:name="android.permission.SET_SCREEN_COMPATIBILITY" />
+    <uses-permission android:name="android.permission.START_ANY_ACTIVITY" />
+    <uses-permission android:name="android.permission.INTERACT_ACROSS_USERS" />
+    <uses-permission android:name="android.permission.INTERACT_ACROSS_USERS_FULL" />
+    <uses-permission android:name="android.permission.GET_TOP_ACTIVITY_INFO" />
+    <uses-permission android:name="android.permission.MANAGE_ACTIVITY_STACKS" />
+    <uses-permission android:name="android.permission.START_TASKS_FROM_RECENTS" />
+    <uses-permission android:name="android.permission.GET_INTENT_SENDER_INTENT" />
+
+    <!-- WindowManager -->
+    <uses-permission android:name="android.permission.INTERNAL_SYSTEM_WINDOW" />
+    <uses-permission android:name="android.permission.SYSTEM_ALERT_WINDOW" />
+    <uses-permission android:name="android.permission.READ_FRAME_BUFFER" />
+    <uses-permission android:name="android.permission.MANAGE_APP_TOKENS" />
+    <uses-permission android:name="android.permission.REGISTER_WINDOW_MANAGER_LISTENERS" />
+    <uses-permission android:name="android.permission.SET_ORIENTATION" />
+    <uses-permission android:name="android.permission.DISABLE_KEYGUARD" />
+
+    <!-- DreamManager -->
+    <uses-permission android:name="android.permission.READ_DREAM_STATE" />
+    <uses-permission android:name="android.permission.WRITE_DREAM_STATE" />
+
+    <!-- Alarm clocks -->
+    <uses-permission android:name="com.android.alarm.permission.SET_ALARM" />
+
+    <!-- Keyguard -->
+    <uses-permission android:name="android.permission.CONTROL_KEYGUARD" />
+    <uses-permission android:name="android.permission.MODIFY_PHONE_STATE" />
+    <uses-permission android:name="android.permission.GET_ACCOUNTS" />
+    <uses-permission android:name="android.permission.MANAGE_ACCOUNTS" />
+    <uses-permission android:name="android.permission.BIND_DEVICE_ADMIN" />
+    <uses-permission android:name="android.permission.CHANGE_COMPONENT_ENABLED_STATE" />
+    <uses-permission android:name="android.permission.MEDIA_CONTENT_CONTROL" />
+    <uses-permission android:name="android.permission.ACCESS_KEYGUARD_SECURE_STORAGE" />
+    <uses-permission android:name="android.permission.TRUST_LISTENER" />
+    <uses-permission android:name="android.permission.USE_FINGERPRINT" />
+    <!-- Keyguard add for Anti-theft-->
+    <uses-permission android:name="com.mediatek.ppl.permission.ACCESS_PPL_MANAGER" />
+    <uses-permission android:name="android.permission.RESET_FINGERPRINT_LOCKOUT" />
+
+    <!-- Needed for WallpaperManager.clear in ImageWallpaper.updateWallpaperLocked -->
+    <uses-permission android:name="android.permission.SET_WALLPAPER"/>
+
+    <!-- Recents -->
+    <uses-permission android:name="android.permission.BIND_APPWIDGET" />
+
+    <!-- Wifi Display -->
+    <uses-permission android:name="android.permission.CONFIGURE_WIFI_DISPLAY" />
+
+    <uses-permission android:name="android.permission.CAMERA" />
+
+    <!-- Screen Capturing -->
+    <uses-permission android:name="android.permission.MANAGE_MEDIA_PROJECTION" />
+
+    <!-- Assist -->
+    <uses-permission android:name="android.permission.ACCESS_VOICE_INTERACTION_SERVICE" />
+
+    <!-- Listen for keyboard attachment / detachment -->
+    <uses-permission android:name="android.permission.TABLET_MODE" />
+
+    <!-- Self permission for internal broadcasts. -->
+    <permission android:name="com.android.systemui.permission.SELF"
+            android:protectionLevel="signature" />
+    <uses-permission android:name="com.android.systemui.permission.SELF" />
+
+    <!-- Adding Quick Settings tiles -->
+    <uses-permission android:name="android.permission.BIND_QUICK_SETTINGS_TILE" />
+
+    <!-- Block notifications inline notifications -->
+    <uses-permission android:name="android.permission.UPDATE_APP_OPS_STATS" />
+
+    <!-- Access battery information -->
+    <uses-permission android:name="android.permission.BATTERY_STATS" />
+
+    <!-- DevicePolicyManager get user restrictions -->
+    <uses-permission android:name="android.permission.MANAGE_PROFILE_AND_DEVICE_OWNERS" />
+
+    <!-- TV picture-in-picture -->
+    <uses-permission android:name="android.permission.RECEIVE_MEDIA_RESOURCE_USAGE" />
+
+    <!-- DND access -->
+    <uses-permission android:name="android.permission.MANAGE_NOTIFICATIONS" />
+    <!--TODO:: Check these permission whether still need on N -->
+    <!-- M: Add for data sim switch op feature -->
+    <uses-permission android:name="android.permission.WRITE_APN_SETTINGS"/>
+
+    <!-- M: Add for VoiceCommand -->
+    <uses-permission android:name="android.permission.MANAGE_VOICE_KEYPHRASES" />
+
+    <!-- M: Add for op feature -->
+    <uses-permission android:name="android.permission.READ_PRECISE_PHONE_STATE" />
+
+    <!-- It's like, reality, but, you know, virtual -->
+    <uses-permission android:name="android.permission.ACCESS_VR_MANAGER" />
+
+    <!-- the ability to rename notifications posted by other apps -->
+    <uses-permission android:name="android.permission.SUBSTITUTE_NOTIFICATION_APP_NAME" />
+
+    <!-- shortcut manager -->
+    <uses-permission android:name="android.permission.RESET_SHORTCUT_MANAGER_THROTTLING" />
+
+    <application
+        android:name=".SystemUIApplication"
+        android:persistent="true"
+        android:allowClearUserData="false"
+        android:allowBackup="false"
+        android:hardwareAccelerated="true"
+        android:label="@string/app_label"
+        android:icon="@drawable/icon"
+        android:process="com.android.systemui"
+        android:supportsRtl="true"
+        android:theme="@style/systemui_theme"
+        android:defaultToDeviceProtectedStorage="true"
+        android:directBootAware="true">
+        <!-- Keep theme in sync with SystemUIApplication.onCreate().
+             Setting the theme on the application does not affect views inflated by services.
+             The application theme is set again from onCreate to take effect for those views. -->
+
+        <!-- Broadcast receiver that gets the broadcast at boot time and starts
+             up everything else.
+             TODO: Should have an android:permission attribute
+             -->
+        <service android:name="SystemUIService"
+            android:exported="true"
+            />
+
+        <!-- Recents depends on every user having their own SystemUI process, so on user switch,
+             ensure that the process is created by starting this service.
+             -->
+        <service android:name="SystemUISecondaryUserService"
+            android:exported="true"
+            android:permission="com.android.systemui.permission.SELF" />
+
+
+        <!-- started from PhoneWindowManager
+             TODO: Should have an android:permission attribute -->
+        <service android:name=".screenshot.TakeScreenshotService"
+            android:process=":screenshot"
+            android:exported="false" />
+
+        <!-- Called from PhoneWindowManager -->
+        <receiver android:name=".screenshot.ScreenshotServiceErrorReceiver"
+            android:process=":screenshot"
+            android:exported="false">
+            <intent-filter>
+                <action android:name="com.android.systemui.screenshot.SHOW_ERROR" />
+            </intent-filter>
+        </receiver>
+
+        <service android:name=".ImageWallpaper"
+                android:permission="android.permission.BIND_WALLPAPER"
+                android:exported="true" />
+
+        <activity android:name=".tuner.TunerActivity"
+                  android:enabled="false"
+                  android:icon="@drawable/tuner"
+                  android:theme="@style/TunerSettings"
+                  android:label="@string/system_ui_tuner"
+                  android:process=":tuner"
+                  android:exported="true">
+            <intent-filter>
+                <action android:name="com.android.settings.action.EXTRA_SETTINGS" />
+                <category android:name="android.intent.category.DEFAULT" />
+            </intent-filter>
+            <meta-data android:name="com.android.settings.category"
+                    android:value="com.android.settings.category.system" />
+        </activity>
+
+        <activity-alias android:name=".DemoMode"
+                  android:targetActivity=".tuner.TunerActivity"
+                  android:icon="@drawable/tuner"
+                  android:theme="@style/TunerSettings"
+                  android:label="@string/demo_mode"
+                  android:process=":tuner"
+                  android:exported="true">
+            <intent-filter>
+                <action android:name="com.android.settings.action.DEMO_MODE" />
+                <category android:name="android.intent.category.DEFAULT" />
+            </intent-filter>
+        </activity-alias>
+
+        <!-- Service used by secondary users to register themselves with the system user. -->
+        <service android:name=".recents.RecentsSystemUserService"
+            android:exported="false"
+            android:permission="com.android.systemui.permission.SELF" />
+
+        <!-- Alternate Recents -->
+        <activity android:name=".recents.RecentsActivity"
+                  android:label="@string/accessibility_desc_recent_apps"
+                  android:exported="false"
+                  android:launchMode="singleInstance"
+                  android:excludeFromRecents="true"
+                  android:stateNotNeeded="true"
+                  android:resumeWhilePausing="true"
+                  android:screenOrientation="behind"
+                  android:resizeableActivity="true"
+                  android:configChanges="orientation|screenSize|smallestScreenSize|screenLayout"
+                  android:theme="@style/RecentsTheme.Wallpaper">
+            <intent-filter>
+                <action android:name="com.android.systemui.recents.TOGGLE_RECENTS" />
+            </intent-filter>
+        </activity>
+
+        <activity android:name=".recents.tv.RecentsTvActivity"
+                  android:label="@string/accessibility_desc_recent_apps"
+                  android:exported="false"
+                  android:launchMode="singleInstance"
+                  android:excludeFromRecents="true"
+                  android:stateNotNeeded="true"
+                  android:resumeWhilePausing="true"
+                  android:screenOrientation="behind"
+                  android:theme="@style/RecentsTvTheme.Wallpaper">
+            <intent-filter>
+                <action android:name="com.android.systemui.recents.TOGGLE_RECENTS" />
+            </intent-filter>
+        </activity>
+
+        <activity
+            android:name=".stackdivider.ForcedResizableInfoActivity"
+            android:theme="@style/ForcedResizableTheme"
+            android:excludeFromRecents="true"
+            android:stateNotNeeded="true"
+            android:configChanges="orientation|screenSize|smallestScreenSize|screenLayout"
+            android:exported="false">
+        </activity>
+
+        <!-- Callback for dismissing screenshot notification after a share target is picked -->
+        <receiver android:name=".screenshot.GlobalScreenshot$TargetChosenReceiver"
+                  android:process=":screenshot"
+                  android:exported="false" />
+
+        <!-- Callback for deleting screenshot notification -->
+        <receiver android:name=".screenshot.GlobalScreenshot$DeleteScreenshotReceiver"
+                  android:process=":screenshot"
+                  android:exported="false" />
+
+        <!-- started from UsbDeviceSettingsManager -->
+        <activity android:name=".usb.UsbConfirmActivity"
+            android:exported="true"
+            android:permission="android.permission.MANAGE_USB"
+            android:theme="@style/Theme.SystemUI.Dialog.Alert"
+            android:finishOnCloseSystemDialogs="true"
+            android:excludeFromRecents="true">
+        </activity>
+
+        <!-- started from UsbDeviceSettingsManager -->
+        <activity android:name=".usb.UsbPermissionActivity"
+            android:exported="true"
+            android:permission="android.permission.MANAGE_USB"
+            android:theme="@style/Theme.SystemUI.Dialog.Alert"
+            android:finishOnCloseSystemDialogs="true"
+            android:excludeFromRecents="true">
+        </activity>
+
+        <!-- started from UsbDeviceSettingsManager -->
+        <activity android:name=".usb.UsbResolverActivity"
+            android:exported="true"
+            android:permission="android.permission.MANAGE_USB"
+            android:theme="@style/Theme.SystemUI.Dialog.Alert"
+            android:finishOnCloseSystemDialogs="true"
+            android:excludeFromRecents="true">
+        </activity>
+
+        <!-- started from UsbDeviceSettingsManager -->
+        <activity android:name=".usb.UsbAccessoryUriActivity"
+            android:exported="true"
+            android:permission="android.permission.MANAGE_USB"
+            android:theme="@style/Theme.SystemUI.Dialog.Alert"
+            android:finishOnCloseSystemDialogs="true"
+            android:excludeFromRecents="true">
+        </activity>
+
+        <!-- started from UsbDebuggingManager -->
+        <activity android:name=".usb.UsbDebuggingActivity"
+            android:permission="android.permission.MANAGE_USB"
+            android:theme="@style/Theme.SystemUI.Dialog.Alert"
+            android:finishOnCloseSystemDialogs="true"
+            android:excludeFromRecents="true">
+        </activity>
+        <activity android:name=".usb.UsbDebuggingSecondaryUserActivity"
+            android:theme="@style/Theme.SystemUI.Dialog.Alert"
+            android:finishOnCloseSystemDialogs="true"
+            android:excludeFromRecents="true">
+        </activity>
+
+        <!-- started from NetworkPolicyManagerService -->
+        <activity
+            android:name=".net.NetworkOverLimitActivity"
+            android:exported="true"
+            android:permission="android.permission.MANAGE_NETWORK_POLICY"
+            android:theme="@android:style/Theme.DeviceDefault.Light.Panel"
+            android:finishOnCloseSystemDialogs="true"
+            android:launchMode="singleTop"
+            android:taskAffinity="com.android.systemui.net"
+            android:excludeFromRecents="true" />
+
+        <!-- started from MediaProjectionManager -->
+        <activity
+            android:name=".media.MediaProjectionPermissionActivity"
+            android:exported="true"
+            android:theme="@style/Theme.AlertDialogHost"
+            android:finishOnCloseSystemDialogs="true"
+            android:launchMode="singleTop"
+            android:excludeFromRecents="true" />
+
+        <!-- started from PipUI -->
+        <activity
+            android:name="com.android.systemui.tv.pip.PipMenuActivity"
+            android:exported="true"
+            android:theme="@style/PipTheme"
+            android:launchMode="singleTop"
+            android:taskAffinity=""
+            android:configChanges="screenSize|smallestScreenSize|screenLayout|orientation|locale|layoutDirection"
+            android:resizeableActivity="true"
+            android:supportsPictureInPicture="true"
+            androidprv:alwaysFocusable="true"
+            android:excludeFromRecents="true" />
+        <activity
+            android:name="com.android.systemui.tv.pip.PipOverlayActivity"
+            android:exported="true"
+            android:theme="@style/PipTheme"
+            android:taskAffinity=""
+            android:configChanges="screenSize|smallestScreenSize|screenLayout|orientation|locale|layoutDirection"
+            android:resizeableActivity="true"
+            android:supportsPictureInPicture="true"
+            android:excludeFromRecents="true" />
+        <activity
+            android:name="com.android.systemui.tv.pip.PipOnboardingActivity"
+            android:exported="true"
+            android:theme="@style/PipTheme"
+            android:launchMode="singleTop"
+            android:excludeFromRecents="true" />
+
+        <!-- platform logo easter egg activity -->
+        <activity
+            android:name=".DessertCase"
+            android:exported="true"
+            android:label="@string/dessert_case"
+            android:theme="@android:style/Theme.Black.NoTitleBar.Fullscreen"
+            android:hardwareAccelerated="true"
+            android:launchMode="singleInstance"
+            android:screenOrientation="locked"
+            android:process=":sweetsweetdesserts"
+            android:excludeFromRecents="true">
+            <intent-filter>
+                <action android:name="android.intent.action.MAIN" />
+                <category android:name="android.intent.category.DEFAULT" />
+            </intent-filter>
+        </activity>
+
+        <activity android:name=".egg.MLandActivity"
+                  android:theme="@android:style/Theme.Material.NoActionBar"
+                  android:exported="true"
+                  android:icon="@drawable/icon"
+                  android:label="@string/mland"
+                  android:hardwareAccelerated="true"
+                  android:launchMode="singleInstance"
+                  android:screenOrientation="locked"
+                  android:process=":sweetsweetdesserts"
+                  android:excludeFromRecents="true">
+            <intent-filter>
+                <action android:name="android.intent.action.MAIN"/>
+                <category android:name="android.intent.category.DEFAULT" />
+            </intent-filter>
+        </activity>
+
+        <!-- a gallery of delicious treats -->
+        <service
+            android:name=".DessertCaseDream"
+            android:exported="true"
+            android:label="@string/dessert_case"
+            android:permission="android.permission.BIND_DREAM_SERVICE"
+            android:enabled="false"
+            android:process=":sweetsweetdesserts"
+            >
+            <intent-filter>
+                <action android:name="android.service.dreams.DreamService" />
+                <category android:name="android.intent.category.DEFAULT" />
+            </intent-filter>
+        </service>
+
+        <service
+            android:name=".keyguard.KeyguardService"
+            android:exported="true"
+            android:enabled="@bool/config_enableKeyguardService" />
+
+        <activity android:name=".Somnambulator"
+            android:label="@string/start_dreams"
+            android:icon="@mipmap/ic_launcher_dreams"
+            android:theme="@android:style/Theme.Wallpaper.NoTitleBar"
+            android:exported="true"
+            android:excludeFromRecents="true"
+            >
+            <!--
+            <intent-filter>
+                <action android:name="android.intent.action.CREATE_SHORTCUT" />
+                <category android:name="android.intent.category.DEFAULT" />
+            </intent-filter>
+            -->
+            <intent-filter>
+                <action android:name="android.intent.action.MAIN" />
+                <category android:name="android.intent.category.DEFAULT" />
+                <category android:name="android.intent.category.DESK_DOCK" />
+            </intent-filter>
+        </activity>
+
+        <activity
+            android:name=".settings.BrightnessDialog"
+            android:label="@string/quick_settings_brightness_dialog_title"
+            android:theme="@android:style/Theme.DeviceDefault.Dialog"
+            android:finishOnCloseSystemDialogs="true"
+            android:launchMode="singleInstance"
+            android:excludeFromRecents="true"
+            android:exported="true">
+            <intent-filter>
+                <action android:name="android.intent.action.SHOW_BRIGHTNESS_DIALOG" />
+                <category android:name="android.intent.category.DEFAULT" />
+            </intent-filter>
+        </activity>
+
+        <!-- Doze with notifications, run in main sysui process for every user  -->
+        <service
+            android:name=".doze.DozeService"
+            android:exported="true"
+            android:singleUser="true"
+            android:permission="android.permission.BIND_DREAM_SERVICE" />
+
+        <receiver
+            android:name=".tuner.TunerService$ClearReceiver"
+            android:exported="false">
+            <intent-filter>
+                <action android:name="com.android.systemui.action.CLEAR_TUNER" />
+            </intent-filter>
+        </receiver>
+
+        <receiver
+            android:name=".statusbar.KeyboardShortcutsReceiver">
+            <intent-filter>
+                <action android:name="android.intent.action.DISMISS_KEYBOARD_SHORTCUTS" />
+                <action android:name="android.intent.action.SHOW_KEYBOARD_SHORTCUTS" />
+            </intent-filter>
+        </receiver>
+
+		    <!-- Add func settings -->
+		<activity android:name=".funcsetting.FuncSettings"
+			android:theme="@style/FuncTheme">
+			<intent-filter >
+			  
+				<action  android:name="com.android.systemui.SYSTEMUI_FUNC_SETTING" />
+			</intent-filter>
+		</activity>
+		<activity android:name=".funcsetting.AppListActivity" 
+			android:theme="@style/FuncTheme"/>
+		<receiver android:name=".funcsetting.ContactsReceiver">
+			<intent-filter >
+				<action android:name="com.android.systemui.funcsettings.contact_uri"/>
+				<action android:name="com.android.music.playlist_id"/>
+			</intent-filter>
+       </receiver>
+
+		<!-- added by zengjie for joy lockscreen feature task 5429900 20170927 begin-->
+         <activity android:name="com.tcl.mie.launcher.lscreen.stub.activity.ActivityProxy"
+             android:launchMode="standard"
+             android:screenOrientation="portrait"
+             android:theme="@android:style/Theme.NoTitleBar">
+         </activity>
+ 
+         <service
+             android:name="com.tcl.mie.launcher.lscreen.stub.service.ServiceProxy">
+         </service>
+ 
+         <meta-data android:name="product_file_version" android:value="1874"/>
+ 
+         <meta-data android:name="product_name" android:value="android-tcl-magazine-sdk" />
+ 
+         <meta-data android:name="product_path"  android:value="vlife_magazine"/>
+ 
+         <meta-data android:name="package_resource_type" android:value="" />
+ 
+         <meta-data android:name="wallpaper_resource_id" android:value="465"/>
+ 
+         <meta-data android:name="channel_id" android:value="2067"/>
+ 
+         <meta-data android:name="wallpaper_mypaper_ids" android:value="" />
+ 
+         <meta-data android:name="independent_version"  android:value="3"/>
+ 
+         <meta-data android:name="release_type"  android:value="release"/>
+ 
+         <meta-data android:name="version_name"  android:value="6.132.5"/>
+         <meta-data android:name="version_code"  android:value= "6144"/>  
+         
+         <meta-data
+             android:name="com.google.android.gms.version"
+             android:value="@integer/google_play_services_version" />
+ 
+         <service
+             android:name="com.vlife.MCService"
+             android:exported="true"
+             android:process=":main">
+             <intent-filter>
+                 <action android:name="com.vlife.magazine.content"/>
+                 <category android:name="android.intent.category.DEFAULT" />
+             </intent-filter>
+         </service>
+         <service
+             android:name="com.vlife.AService"
+             android:process=":main">
+             <intent-filter>
+                 <action android:name="com.vlife.init.action"/>
+                 <category android:name="android.intent.category.DEFAULT"/>
+             </intent-filter>
+         </service>
+ 
+         <service
+             android:name="com.vlife.TService"
+             android:exported="true"
+             android:process=":main">
+             <intent-filter>
+                 <action android:name="com.vlife.intent.action.DS" />
+                 <category android:name="android.intent.category.DEFAULT" />
+             </intent-filter>
+             <intent-filter>
+                 <action android:name="com.vlife.intent.action.DB" />
+                 <category android:name="android.intent.category.DEFAULT" />
+             </intent-filter>
+         </service>
+ 
+         <receiver
+             android:name="com.vlife.SReceiver"
+             android:process=":main">
+             <intent-filter>
+                 <action android:name="android.intent.action.MEDIA_MOUNTED" />
+                 <action android:name="android.intent.action.MEDIA_REMOVED" />
+                 <action android:name="android.intent.action.MEDIA_SHARED" />
+ 
+                 <data android:scheme="file" />
+             </intent-filter>
+         </receiver>
+         <receiver
+             android:name="com.vlife.NReceiver"
+             android:process=":main">
+             <intent-filter>
+                 <action android:name="android.net.conn.CONNECTIVITY_CHANGE" />
+             </intent-filter>
+         </receiver>
+         <receiver
+             android:name="com.vlife.BReceiver"
+             android:process=":main">
+             <intent-filter>
+                 <action android:name="android.intent.action.BOOT_COMPLETED" />
+                 <action android:name="android.intent.action.QUICKBOOT_POWERON" />
+                 <action android:name="android.intent.action.MEDIA_MOUNTED" />
+                 <action android:name="android.intent.action.MEDIA_SCANNER_FINISHED" />
+                 <category android:name="android.intent.category.LAUNCHER" />
+             </intent-filter>
+         </receiver>
+         <receiver
+             android:name="com.handpet.livewallpaper.receiver.PetMainReceiver"
+             android:process=":main">
+             <intent-filter android:priority="99">
+                 <action android:name="android.intent.action.PACKAGE_ADDED" />
+                 <action android:name="android.intent.action.PACKAGE_REMOVED" />
+                 <data android:scheme="package" />
+             </intent-filter>
+             <intent-filter>
+                 <action android:name="android.intent.action.DOWNLOAD_COMPLETE" />
+             </intent-filter>
+         </receiver>
+         <receiver
+             android:name="com.vlife.IReceiver"
+             android:process=":main">
+             <intent-filter android:priority="99">
+                 <action android:name="android.intent.action.PACKAGE_ADDED" />
+                 <action android:name="android.intent.action.PACKAGE_REMOVED" />
+                 <action android:name="android.intent.action.PACKAGE_INSTALL" />
+                 <action android:name="android.intent.action.PACKAGE_REPLACED" />
+                 <data android:scheme="package" />
+             </intent-filter>
+         </receiver>
+         <!--add for joy lockscreen with baidu begin-->
+         <activity
+             android:name="com.google.android.gms.ads.AdActivity"
+             android:configChanges="keyboard|keyboardHidden|orientation|screenLayout|uiMode|screenSize|smallestScreenSize"
+             android:theme="@android:style/Theme.Translucent" />
+         <activity
+             android:name="com.duapps.ad.InterstitialAdActivity"
+             android:configChanges="orientation|keyboardHidden|screenSize"
+             android:theme="@android:style/Theme.Translucent.NoTitleBar" />
+ 
+         <meta-data
+             android:name="app_license"
+             android:value="2c9c05a2bb3e4885c0e75e4a9f637a97"/>
+ 
+         <provider
+             android:name="com.duapps.ad.stats.DuAdCacheProvider"
+             android:authorities="com.android.systemui.DuAdCacheProvider"
+             android:exported="false">
+         </provider>
+ 
+         <receiver android:name="com.duapps.ad.base.PackageAddReceiver">
+             <intent-filter>
+                 <action android:name="android.intent.action.PACKAGE_ADDED"/>
+ 
+                 <data android:scheme="package"/>
+             </intent-filter>
+         </receiver>
+         <!--add for joy lockscreen with baidu end-->
+ 
+         <meta-data
+             android:name="UMENG_APPKEY"
+             android:value="59e84f9c07fe65670c0000cb"/>
+         <meta-data
+             android:name="UMENG_CHANNEL"
+             android:value="tcl_preload"/>
+ 
+         <!-- HK ad start -->
+         <activity
+             android:name="com.facebook.ads.InterstitialAdActivity"
+             android:configChanges="keyboardHidden|orientation|screenSize" />
+         <activity
+             android:name="com.mopub.mobileads.MoPubActivity"
+             android:configChanges="keyboardHidden|orientation|screenSize" />
+         <activity
+             android:name="com.mopub.mobileads.MraidActivity"
+             android:configChanges="keyboardHidden|orientation|screenSize" />
+         <activity
+             android:name="com.mopub.common.MoPubBrowser"
+             android:configChanges="keyboardHidden|orientation|screenSize" />
+         <activity
+             android:name="com.mopub.mobileads.MraidVideoPlayerActivity"
+             android:configChanges="keyboardHidden|orientation|screenSize" />
+         <activity
+             android:name="com.flurry.android.FlurryFullscreenTakeoverActivity"
+             android:configChanges="keyboard|keyboardHidden|orientation|screenLayout|uiMode|screenSize|smallestScreenSize" />
+         <!-- HK ad end -->
+         <!-- added by zengjie for joy lockscreen feature task 5429900 20170927 end-->
+	   <!--add for incoming calls turn to mute -->
+	   <service android:name="com.android.systemui.statusbar.phone.SensorFunctionServiceIncall"
+            android:exported="false"/>
+
+    </application>
+
+    <!-- Add keyguard usage protected broadcast -->
+    <protected-broadcast android:name="android.intent.action.normal.boot" />
+    <protected-broadcast android:name="android.intent.action.normal.boot.done" />
+    <protected-broadcast android:name="android.intent.action.normal.shutdown" />
+    <protected-broadcast android:name="android.intent.action.LAUNCH_POWEROFF_ALARM" />
+    <protected-broadcast android:name="alarm.boot.remove.ipowin" />
+    <protected-broadcast android:name="com.android.deskclock.SNOOZE_ALARM" />
+    <protected-broadcast android:name="com.android.deskclock.DISMISS_ALARM" />
+    <protected-broadcast android:name="com.android.deskclock.POWER_ON_ALARM" />
+
+</manifest>
Index: vendor/branch/5058T/frameworks/base/packages/Keyguard/res/layout/keyguard_status_view.xml
===================================================================
--- vendor/branch/5058T/frameworks/base/packages/Keyguard/res/layout/keyguard_status_view.xml	(revision 0)
+++ vendor/branch/5058T/frameworks/base/packages/Keyguard/res/layout/keyguard_status_view.xml	(revision 1284)
@@ -0,0 +1,68 @@
+<?xml version="1.0" encoding="utf-8"?>
+<!--
+**
+** Copyright 2009, The Android Open Source Project
+**
+** Licensed under the Apache License, Version 2.0 (the "License")
+** you may not use this file except in compliance with the License.
+** You may obtain a copy of the License at
+**
+**     http://www.apache.org/licenses/LICENSE-2.0
+**
+** Unless required by applicable law or agreed to in writing, software
+** distributed under the License is distributed on an "AS IS" BASIS,
+** WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+** See the License for the specific language governing permissions and
+** limitations under the License.
+*/
+-->
+
+<!-- This is a view that shows general status information in Keyguard. -->
+<com.android.keyguard.KeyguardStatusView
+    xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:androidprv="http://schemas.android.com/apk/res-auto"
+    android:id="@+id/keyguard_status_view"
+    android:orientation="vertical"
+    android:layout_width="match_parent"
+    android:layout_height="wrap_content"
+    androidprv:layout_maxWidth="@dimen/keyguard_security_width"
+    androidprv:layout_maxHeight="@dimen/keyguard_security_height"
+    android:gravity="center_horizontal|top">
+    <LinearLayout
+        android:id="@+id/keyguard_clock_container"
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"
+        android:layout_gravity="center_horizontal|top"
+        android:orientation="vertical" >
+            <!--begin-modify by zengjie  for task:5429900 -->
+        <TextClock
+            android:id="@+id/clock_view"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_gravity="center_horizontal"
+            android:textColor="@color/clock_white"
+            android:singleLine="true"
+            style="@style/widget_big_thin"
+			android:visibility="gone"
+            android:format12Hour="@string/keyguard_widget_12_hours_format"
+            android:format24Hour="@string/keyguard_widget_24_hours_format"
+            android:layout_marginBottom="@dimen/bottom_text_spacing_digital" />
+            <!--begin-modify by zengjie  for task:5429900 -->
+
+        <include layout="@layout/keyguard_status_area" />
+        <TextView
+            android:id="@+id/owner_info"
+            android:layout_marginLeft="16dp"
+            android:layout_marginRight="16dp"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_marginTop="@dimen/date_owner_info_margin"
+            android:layout_gravity="center_horizontal"
+            android:textColor="@color/clock_gray"
+            android:textSize="@dimen/widget_label_font_size"
+            android:letterSpacing="0.05"
+            android:ellipsize="marquee"
+            android:singleLine="true" />
+
+    </LinearLayout>
+</com.android.keyguard.KeyguardStatusView>
Index: vendor/branch/5058T/frameworks/base/packages/Keyguard/res/layout/keyguard_status_area.xml
===================================================================
--- vendor/branch/5058T/frameworks/base/packages/Keyguard/res/layout/keyguard_status_area.xml	(revision 0)
+++ vendor/branch/5058T/frameworks/base/packages/Keyguard/res/layout/keyguard_status_area.xml	(revision 1284)
@@ -0,0 +1,54 @@
+<?xml version="1.0" encoding="utf-8"?>
+<!--
+**
+** Copyright 2013, The Android Open Source Project
+**
+** Licensed under the Apache License, Version 2.0 (the "License")
+** you may not use this file except in compliance with the License.
+** You may obtain a copy of the License at
+**
+**     http://www.apache.org/licenses/LICENSE-2.0
+**
+** Unless required by applicable law or agreed to in writing, software
+** distributed under the License is distributed on an "AS IS" BASIS,
+** WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+** See the License for the specific language governing permissions and
+** limitations under the License.
+*/
+-->
+
+<!-- This is a view that shows general status information in Keyguard. -->
+<LinearLayout
+    xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:androidprv="http://schemas.android.com/apk/res-auto"
+    android:layout_width="match_parent"
+    android:layout_height="wrap_content"
+    android:orientation="horizontal"
+    android:gravity="center">
+    <!-- modify style from "widget_label" to "keyguard_date_style" by zhangyong for D2908644 20161010 -->
+    <!--begin-modify by zengjie  for task:5429900 -->
+    <TextClock android:id="@+id/date_view"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:textColor="@color/clock_white"
+        style="@style/widget_label"
+        android:textAllCaps="true"
+        android:letterSpacing="0.15"
+        android:gravity="center"
+		android:visibility="gone"
+        />
+    <!--end-modify by zengjie  for task:5429900 -->
+    <TextView android:id="@+id/alarm_status"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:drawablePadding="6dp"
+        android:drawableStart="@drawable/ic_access_alarms_big"
+        android:textColor="@color/clock_gray"
+        android:letterSpacing="0.15"
+        android:textAllCaps="true"
+        style="@style/widget_label"
+        android:layout_marginStart="6dp"
+        android:gravity="center"
+        android:visibility="gone"
+        />
+</LinearLayout>
Index: frameworks/base/packages/Keyguard/Android.mk
===================================================================
--- frameworks/base/packages/Keyguard/Android.mk	(revision 1283)
+++ frameworks/base/packages/Keyguard/Android.mk	(revision 1284)
@@ -26,9 +26,9 @@
 LOCAL_JAVA_LIBRARIES += SettingsLib
 
 LOCAL_STATIC_JAVA_LIBRARIES := com.mediatek.keyguard.ext
-
+LOCAL_STATIC_JAVA_LIBRARIES += joylockscren-sdk
 # added by zengjie for JoyLockScreen feature task 5429900 on 2017/10/20 start
-LOCAL_STATIC_JAVA_LIBRARIES += joylockscren-sdk
+ifeq (yes,$(strip $(TCL_LSCREEN_SUPPORT)))
 LOCAL_STATIC_JAVA_LIBRARIES += gson-sdk
  
 #LOCAL_STATIC_JAVA_AAR_LIBRARIES += mytarget_sdk
@@ -37,15 +37,18 @@
 LOCAL_STATIC_JAVA_AAR_LIBRARIES += vlife_sdk
 LOCAL_STATIC_JAVA_AAR_LIBRARIES += play-services-ads
 LOCAL_STATIC_JAVA_AAR_LIBRARIES += play-services-ads-lite
+endif
 # added by zengjie for JoyLockScreen feature task 5429900 on 2017/10/20 end
 
 # added by zengjie for JoyLockScreen feature task 5429900 on 2017/10/20 start
-LOCAL_AAPT_FLAGS += --auto-add-overlay --extra-packages com.hawk.android.adsdk
-LOCAL_AAPT_FLAGS += --auto-add-overlay --extra-packages com.duapps.ad
-#LOCAL_AAPT_FLAGS += --auto-add-overlay --extra-packages com.my.target
-LOCAL_AAPT_FLAGS += --auto-add-overlay --extra-packages com.summit.sdk.magazine
-LOCAL_AAPT_FLAGS += --auto-add-overlay --extra-packages com.google.android.gms.ads
-LOCAL_AAPT_FLAGS += --auto-add-overlay --extra-packages com.google.android.gms.ads.impl
+ifeq (yes,$(strip $(TCL_LSCREEN_SUPPORT)))
+	LOCAL_AAPT_FLAGS += --auto-add-overlay --extra-packages com.hawk.android.adsdk
+	LOCAL_AAPT_FLAGS += --auto-add-overlay --extra-packages com.duapps.ad
+	#LOCAL_AAPT_FLAGS += --auto-add-overlay --extra-packages com.my.target
+	LOCAL_AAPT_FLAGS += --auto-add-overlay --extra-packages com.summit.sdk.magazine
+	LOCAL_AAPT_FLAGS += --auto-add-overlay --extra-packages com.google.android.gms.ads
+	LOCAL_AAPT_FLAGS += --auto-add-overlay --extra-packages com.google.android.gms.ads.impl
+endif
 # added by zengjie for JoyLockScreen feature task 5429900 on 2017/10/20 end
 
 LOCAL_PRIVILEGED_MODULE := true
@@ -57,15 +60,16 @@
 LOCAL_AAPT_FLAGS := --auto-add-overlay
 
 include $(BUILD_STATIC_JAVA_LIBRARY)
-
 include $(CLEAR_VARS) 
-
-LOCAL_PREBUILT_STATIC_JAVA_LIBRARIES := duapps_sdk:libs/DuappsAd-CW-v1.0.9.8.1-release.aar hawk_sdk:libs/hawk-adsdk-v3.0.1-release-20170928.aar vlife_sdk:libs/vlife-sdk-tcl-0.1.aar
-LOCAL_PREBUILT_STATIC_JAVA_LIBRARIES += play-services-ads:libs/play-services-ads-10.2.0.aar
-LOCAL_PREBUILT_STATIC_JAVA_LIBRARIES += play-services-ads-lite:libs/play-services-ads-lite-10.2.0.aar
-LOCAL_PREBUILT_STATIC_JAVA_LIBRARIES += gson-sdk:libs/gson-2.7.jar
-LOCAL_PREBUILT_STATIC_JAVA_LIBRARIES += joylockscren-sdk:libs/lockscreen-m-1.0.4-release.jar
-
+LOCAL_PREBUILT_STATIC_JAVA_LIBRARIES := joylockscren-sdk:libs/lockscreen-m-1.0.4-release.jar
+ifeq (yes,$(strip $(TCL_LSCREEN_SUPPORT)))
+	LOCAL_PREBUILT_STATIC_JAVA_LIBRARIES += duapps_sdk:libs/DuappsAd-CW-v1.0.9.8.1-release.aar
+	LOCAL_PREBUILT_STATIC_JAVA_LIBRARIES += hawk_sdk:libs/hawk-adsdk-v3.0.1-release-20170928.aar
+	LOCAL_PREBUILT_STATIC_JAVA_LIBRARIES += vlife_sdk:libs/vlife-sdk-tcl-0.1.aar
+	LOCAL_PREBUILT_STATIC_JAVA_LIBRARIES += play-services-ads:libs/play-services-ads-10.2.0.aar
+	LOCAL_PREBUILT_STATIC_JAVA_LIBRARIES += play-services-ads-lite:libs/play-services-ads-lite-10.2.0.aar
+	LOCAL_PREBUILT_STATIC_JAVA_LIBRARIES += gson-sdk:libs/gson-2.7.jar
+endif
 include $(BUILD_MULTI_PREBUILT) 
 
 include $(call all-makefiles-under,$(LOCAL_PATH))
Index: frameworks/base/packages/Keyguard/res/layout/keyguard_status_area.xml
===================================================================
--- frameworks/base/packages/Keyguard/res/layout/keyguard_status_area.xml	(revision 1283)
+++ frameworks/base/packages/Keyguard/res/layout/keyguard_status_area.xml	(revision 1284)
@@ -34,7 +34,6 @@
         style="@style/widget_label"
         android:textAllCaps="true"
         android:letterSpacing="0.15"
-        android:visibility="gone"
         android:gravity="center"
         />
     <!--end-modify by zengjie  for task:5429900 -->
Index: frameworks/base/packages/Keyguard/res/layout/keyguard_status_view.xml
===================================================================
--- frameworks/base/packages/Keyguard/res/layout/keyguard_status_view.xml	(revision 1283)
+++ frameworks/base/packages/Keyguard/res/layout/keyguard_status_view.xml	(revision 1284)
@@ -43,7 +43,6 @@
             android:textColor="@color/clock_white"
             android:singleLine="true"
             style="@style/widget_big_thin"
-            android:visibility="gone"
             android:format12Hour="@string/keyguard_widget_12_hours_format"
             android:format24Hour="@string/keyguard_widget_24_hours_format"
             android:layout_marginBottom="@dimen/bottom_text_spacing_digital" />
Index: frameworks/base/packages/SystemUI/AndroidManifest.xml
===================================================================
--- frameworks/base/packages/SystemUI/AndroidManifest.xml	(revision 1283)
+++ frameworks/base/packages/SystemUI/AndroidManifest.xml	(revision 1284)
@@ -22,19 +22,7 @@
         android:sharedUserId="android.uid.systemui"
         coreApp="true">
 
-	<!-- added by zengjie for joy lockscreen feature task 5429900 20171101 begin-->
-	<uses-sdk android:minSdkVersion="14" android:targetSdkVersion="25"/>
-	<uses-feature android:name="android.software.live_wallpaper" />
-    <uses-permission android:name="android.permission.READ_PHONE_STATE" />
-	<uses-permission android:name="android.permission.INTERNET" />
-	<uses-permission android:name="android.permission.RECORD_AUDIO" />
-	<uses-permission android:name="android.permission.FLASHLIGHT" />
-	<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
-	<uses-permission android:name="android.permission.READ_LOGS" />
-	<uses-permission android:name="com.android.launcher.permission.INSTALL_SHORTCUT" />
-	<uses-permission android:name="com.android.launcher.permission.UNINSTALL_SHORTCUT" />
-	<uses-permission android:name="android.permission.KILL_BACKGROUND_PROCESSES" />
-	<!-- added by zengjie for joy lockscreen feature task 5429900 20171101 end -->
+
     <uses-permission android:name="android.permission.RECEIVE_BOOT_COMPLETED" />
     <uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE" />
     <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
@@ -547,183 +535,7 @@
 			</intent-filter>
        </receiver>
 
-		<!-- added by zengjie for joy lockscreen feature task 5429900 20170927 begin-->
-         <activity android:name="com.tcl.mie.launcher.lscreen.stub.activity.ActivityProxy"
-             android:launchMode="standard"
-             android:screenOrientation="portrait"
-             android:theme="@android:style/Theme.NoTitleBar">
-         </activity>
- 
-         <service
-             android:name="com.tcl.mie.launcher.lscreen.stub.service.ServiceProxy">
-         </service>
- 
-         <meta-data android:name="product_file_version" android:value="1874"/>
- 
-         <meta-data android:name="product_name" android:value="android-tcl-magazine-sdk" />
- 
-         <meta-data android:name="product_path"  android:value="vlife_magazine"/>
- 
-         <meta-data android:name="package_resource_type" android:value="" />
- 
-         <meta-data android:name="wallpaper_resource_id" android:value="465"/>
- 
-         <meta-data android:name="channel_id" android:value="2067"/>
- 
-         <meta-data android:name="wallpaper_mypaper_ids" android:value="" />
- 
-         <meta-data android:name="independent_version"  android:value="3"/>
- 
-         <meta-data android:name="release_type"  android:value="release"/>
- 
-         <meta-data android:name="version_name"  android:value="6.132.5"/>
-         <meta-data android:name="version_code"  android:value= "6144"/>  
-         
-         <meta-data
-             android:name="com.google.android.gms.version"
-             android:value="@integer/google_play_services_version" />
- 
-         <service
-             android:name="com.vlife.MCService"
-             android:exported="true"
-             android:process=":main">
-             <intent-filter>
-                 <action android:name="com.vlife.magazine.content"/>
-                 <category android:name="android.intent.category.DEFAULT" />
-             </intent-filter>
-         </service>
-         <service
-             android:name="com.vlife.AService"
-             android:process=":main">
-             <intent-filter>
-                 <action android:name="com.vlife.init.action"/>
-                 <category android:name="android.intent.category.DEFAULT"/>
-             </intent-filter>
-         </service>
- 
-         <service
-             android:name="com.vlife.TService"
-             android:exported="true"
-             android:process=":main">
-             <intent-filter>
-                 <action android:name="com.vlife.intent.action.DS" />
-                 <category android:name="android.intent.category.DEFAULT" />
-             </intent-filter>
-             <intent-filter>
-                 <action android:name="com.vlife.intent.action.DB" />
-                 <category android:name="android.intent.category.DEFAULT" />
-             </intent-filter>
-         </service>
- 
-         <receiver
-             android:name="com.vlife.SReceiver"
-             android:process=":main">
-             <intent-filter>
-                 <action android:name="android.intent.action.MEDIA_MOUNTED" />
-                 <action android:name="android.intent.action.MEDIA_REMOVED" />
-                 <action android:name="android.intent.action.MEDIA_SHARED" />
- 
-                 <data android:scheme="file" />
-             </intent-filter>
-         </receiver>
-         <receiver
-             android:name="com.vlife.NReceiver"
-             android:process=":main">
-             <intent-filter>
-                 <action android:name="android.net.conn.CONNECTIVITY_CHANGE" />
-             </intent-filter>
-         </receiver>
-         <receiver
-             android:name="com.vlife.BReceiver"
-             android:process=":main">
-             <intent-filter>
-                 <action android:name="android.intent.action.BOOT_COMPLETED" />
-                 <action android:name="android.intent.action.QUICKBOOT_POWERON" />
-                 <action android:name="android.intent.action.MEDIA_MOUNTED" />
-                 <action android:name="android.intent.action.MEDIA_SCANNER_FINISHED" />
-                 <category android:name="android.intent.category.LAUNCHER" />
-             </intent-filter>
-         </receiver>
-         <receiver
-             android:name="com.handpet.livewallpaper.receiver.PetMainReceiver"
-             android:process=":main">
-             <intent-filter android:priority="99">
-                 <action android:name="android.intent.action.PACKAGE_ADDED" />
-                 <action android:name="android.intent.action.PACKAGE_REMOVED" />
-                 <data android:scheme="package" />
-             </intent-filter>
-             <intent-filter>
-                 <action android:name="android.intent.action.DOWNLOAD_COMPLETE" />
-             </intent-filter>
-         </receiver>
-         <receiver
-             android:name="com.vlife.IReceiver"
-             android:process=":main">
-             <intent-filter android:priority="99">
-                 <action android:name="android.intent.action.PACKAGE_ADDED" />
-                 <action android:name="android.intent.action.PACKAGE_REMOVED" />
-                 <action android:name="android.intent.action.PACKAGE_INSTALL" />
-                 <action android:name="android.intent.action.PACKAGE_REPLACED" />
-                 <data android:scheme="package" />
-             </intent-filter>
-         </receiver>
-         <!--add for joy lockscreen with baidu begin-->
-         <activity
-             android:name="com.google.android.gms.ads.AdActivity"
-             android:configChanges="keyboard|keyboardHidden|orientation|screenLayout|uiMode|screenSize|smallestScreenSize"
-             android:theme="@android:style/Theme.Translucent" />
-         <activity
-             android:name="com.duapps.ad.InterstitialAdActivity"
-             android:configChanges="orientation|keyboardHidden|screenSize"
-             android:theme="@android:style/Theme.Translucent.NoTitleBar" />
- 
-         <meta-data
-             android:name="app_license"
-             android:value="2c9c05a2bb3e4885c0e75e4a9f637a97"/>
- 
-         <provider
-             android:name="com.duapps.ad.stats.DuAdCacheProvider"
-             android:authorities="com.android.systemui.DuAdCacheProvider"
-             android:exported="false">
-         </provider>
- 
-         <receiver android:name="com.duapps.ad.base.PackageAddReceiver">
-             <intent-filter>
-                 <action android:name="android.intent.action.PACKAGE_ADDED"/>
- 
-                 <data android:scheme="package"/>
-             </intent-filter>
-         </receiver>
-         <!--add for joy lockscreen with baidu end-->
- 
-         <meta-data
-             android:name="UMENG_APPKEY"
-             android:value="59e84f9c07fe65670c0000cb"/>
-         <meta-data
-             android:name="UMENG_CHANNEL"
-             android:value="tcl_preload"/>
- 
-         <!-- HK ad start -->
-         <activity
-             android:name="com.facebook.ads.InterstitialAdActivity"
-             android:configChanges="keyboardHidden|orientation|screenSize" />
-         <activity
-             android:name="com.mopub.mobileads.MoPubActivity"
-             android:configChanges="keyboardHidden|orientation|screenSize" />
-         <activity
-             android:name="com.mopub.mobileads.MraidActivity"
-             android:configChanges="keyboardHidden|orientation|screenSize" />
-         <activity
-             android:name="com.mopub.common.MoPubBrowser"
-             android:configChanges="keyboardHidden|orientation|screenSize" />
-         <activity
-             android:name="com.mopub.mobileads.MraidVideoPlayerActivity"
-             android:configChanges="keyboardHidden|orientation|screenSize" />
-         <activity
-             android:name="com.flurry.android.FlurryFullscreenTakeoverActivity"
-             android:configChanges="keyboard|keyboardHidden|orientation|screenLayout|uiMode|screenSize|smallestScreenSize" />
-         <!-- HK ad end -->
-         <!-- added by zengjie for joy lockscreen feature task 5429900 20170927 end-->
+	
 	   <!--add for incoming calls turn to mute -->
 	   <service android:name="com.android.systemui.statusbar.phone.SensorFunctionServiceIncall"
             android:exported="false"/>
Index: frameworks/base/packages/SystemUI/Android.mk
===================================================================
--- frameworks/base/packages/SystemUI/Android.mk	(revision 1283)
+++ frameworks/base/packages/SystemUI/Android.mk	(revision 1284)
@@ -33,8 +33,10 @@
 
 # LOCAL_JNI_SHARED_LIBRARIES := libyv12util
 
-LOCAL_STATIC_JAVA_AAR_LIBRARIES := play_services_base
-LOCAL_STATIC_JAVA_AAR_LIBRARIES += play_services_basement
+ifeq (yes,$(strip $(TCL_LSCREEN_SUPPORT)))
+	LOCAL_STATIC_JAVA_AAR_LIBRARIES := play_services_base
+	LOCAL_STATIC_JAVA_AAR_LIBRARIES += play_services_basement
+endif
 
 LOCAL_JAVA_LIBRARIES := telephony-common
 LOCAL_JAVA_LIBRARIES += mediatek-framework
@@ -71,10 +73,10 @@
 include $(BUILD_PACKAGE)
 
 include $(CLEAR_VARS) 
-
-LOCAL_PREBUILT_STATIC_JAVA_LIBRARIES := play_services_base:libs/play-services-base-10.2.0.aar
-LOCAL_PREBUILT_STATIC_JAVA_LIBRARIES += play_services_basement:libs/play-services-basement-10.2.0.aar
-
+ifeq (yes,$(strip $(TCL_LSCREEN_SUPPORT)))
+	LOCAL_PREBUILT_STATIC_JAVA_LIBRARIES := play_services_base:libs/play-services-base-10.2.0.aar
+	LOCAL_PREBUILT_STATIC_JAVA_LIBRARIES += play_services_basement:libs/play-services-basement-10.2.0.aar
+endif
 include $(BUILD_MULTI_PREBUILT) 
 
 ifeq ($(EXCLUDE_SYSTEMUI_TESTS),)
Index: frameworks/base/packages/SystemUI/src/com/android/systemui/statusbar/KeyguardIndicationController.java
===================================================================
--- frameworks/base/packages/SystemUI/src/com/android/systemui/statusbar/KeyguardIndicationController.java	(revision 1283)
+++ frameworks/base/packages/SystemUI/src/com/android/systemui/statusbar/KeyguardIndicationController.java	(revision 1284)
@@ -46,6 +46,7 @@
 import com.android.systemui.statusbar.phone.StatusBarKeyguardViewManager;
 //Begin added by zengjie for joylockscreen task 5429900 on 10/21/17
 import base.packages.SystemUI.src.com.android.systemui.statusbar.phone.JoyLscreenProxy;
+import android.os.SystemProperties;
 //End added by zengjie for joylockscreen task 5429900 on 10/21/17
 
 /**
@@ -243,17 +244,19 @@
             mChargingSpeed = status.getChargingSpeed(mSlowThreshold, mFastThreshold);
             updateIndication();
             //begin added by zengjie for for joylockscreen task 5429900 on 10/21/17
-            if (JoyLscreenProxy.getLScreen() != null ) {
-                if (mPowerPluggedIn ){
-                    Log.d("joylockscreen","onRefreshBatteryInfo  notifyCharging");
-                    JoyLscreenProxy.getLScreen().notifyCharging();
-                }else {
-                    Log.d("joylockscreen","onRefreshBatteryInfo  notifyUnCharging");
-                    JoyLscreenProxy.getLScreen().notifyUnCharging();
-                }
-                Log.d("joylockscreen","onRefreshBatteryInfo  level = "+status.level+"  status = "+status.status);
-                JoyLscreenProxy.getLScreen().notifyBatteryChange(status.level,status.status);
-            }
+			if(SystemProperties.getBoolean("ro.tcl.lscreen", false)){
+				if (JoyLscreenProxy.getLScreen() != null ) {
+					if (mPowerPluggedIn ){
+						Log.d("joylockscreen","onRefreshBatteryInfo  notifyCharging");
+						JoyLscreenProxy.getLScreen().notifyCharging();
+					}else {
+						Log.d("joylockscreen","onRefreshBatteryInfo  notifyUnCharging");
+						JoyLscreenProxy.getLScreen().notifyUnCharging();
+					}
+					Log.d("joylockscreen","onRefreshBatteryInfo  level = "+status.level+"  status = "+status.status);
+					JoyLscreenProxy.getLScreen().notifyBatteryChange(status.level,status.status);
+				}
+			}
             //End added by zengjie for for joylockscreen task 5429900 on 10/21/17
         }
 
Index: frameworks/base/packages/SystemUI/src/com/android/systemui/statusbar/phone/StatusBarKeyguardViewManager.java
===================================================================
--- frameworks/base/packages/SystemUI/src/com/android/systemui/statusbar/phone/StatusBarKeyguardViewManager.java	(revision 1283)
+++ frameworks/base/packages/SystemUI/src/com/android/systemui/statusbar/phone/StatusBarKeyguardViewManager.java	(revision 1284)
@@ -45,6 +45,7 @@
 import com.tcl.mie.launcher.lscreen.ZoneConfig.Zone;
 import com.tcl.mie.launcher.lscreen.LScreenFactory;
 import base.packages.SystemUI.src.com.android.systemui.statusbar.phone.JoyLscreenProxy;
+import android.os.SystemProperties;
 //End added by zengjie for joylockscreen task 5429900 on 10/21/17
 
 /**
@@ -110,7 +111,9 @@
         mViewMediatorCallback = callback;
         mLockPatternUtils = lockPatternUtils;
         //Begin added by zengjie for joylockscreen task 5429900 on 10/21/17
-        mLscreen = JoyLscreenProxy.init(context);
+		if(SystemProperties.getBoolean("ro.tcl.lscreen", false)){
+			mLscreen = JoyLscreenProxy.init(context);
+		}
         //End added by zengjie for joylockscreen task 5429900 on 10/21/17
     }
 
@@ -213,10 +216,12 @@
     public void onStartedGoingToSleep() {
         mPhoneStatusBar.onStartedGoingToSleep();
         //Begin added by zengjie for joylockscreen task 5429900 on 10/21/17
-        if (mLscreen != null){
-            Log.d("joylockscreen","notifyScreenOff ");
-            mLscreen.notifyScreenOff();
-        }
+		if(SystemProperties.getBoolean("ro.tcl.lscreen", false)){
+			if (mLscreen != null){
+				Log.d("joylockscreen","notifyScreenOff ");
+				mLscreen.notifyScreenOff();
+			}
+		}
         //End added by zengjie for joylockscreen task 5429900 on 10/21/17
     }
 
@@ -234,12 +239,14 @@
             mPhoneStatusBar.onStartedWakingUp();
         }
         //Begin added by zengjie for joylockscreen task 5429900 on 9/28/17
-        if (mLscreen != null){
-            Log.d("joylockscreen","notifyScreenOn ");
-            mLscreen.notifyScreenOn();
-        }else {
-            Log.d("joylockscreen","notifyScreenOn fail mLscreen = null");
-        }
+		if(SystemProperties.getBoolean("ro.tcl.lscreen", false)){
+			if (mLscreen != null){
+				Log.d("joylockscreen","notifyScreenOn ");
+				mLscreen.notifyScreenOn();
+			}else {
+				Log.d("joylockscreen","notifyScreenOn fail mLscreen = null");
+			}
+		}
         //Begin added by zengjie for joylockscreen task 5429900 on 9/28/17
     }
 
Index: frameworks/base/packages/SystemUI/src/com/android/systemui/statusbar/phone/LockscreenWallpaper.java
===================================================================
--- frameworks/base/packages/SystemUI/src/com/android/systemui/statusbar/phone/LockscreenWallpaper.java	(revision 1283)
+++ frameworks/base/packages/SystemUI/src/com/android/systemui/statusbar/phone/LockscreenWallpaper.java	(revision 1284)
@@ -46,6 +46,7 @@
 //Begin added by zengjie for joylockscreen task 5429900 on 10/21/17
 import com.tcl.mie.launcher.lscreen.IUnlockResultCallBack;
 import base.packages.SystemUI.src.com.android.systemui.statusbar.phone.JoyLscreenProxy;
+import android.os.SystemProperties;
 //End added by zengjie for joylockscreen task 5429900 on 10/21/17
 /**
  * Manages the lockscreen wallpaper.
@@ -118,15 +119,18 @@
             try {
                 BitmapFactory.Options options = new BitmapFactory.Options();
                 //Begin modified by zengjie for XR5429900 on 10/21/17
-                Bitmap  mWallpaper = BitmapFactory.decodeFileDescriptor(
-                        fd.getFileDescriptor());
-                if (mWallpaperChange){
-                    mWallpaperChange = false;
-                    if (JoyLscreenProxy.getLScreen() != null ) {
-                        Log.d("joylockscreen","onWallpaper change  onLockWallpaperChange");
-                        JoyLscreenProxy.getLScreen().onLockWallpaperChange(mWallpaper);
-                    }
-                }
+				if(SystemProperties.getBoolean("ro.tcl.lscreen", false)){
+					Bitmap  mWallpaper = BitmapFactory.decodeFileDescriptor(
+							fd.getFileDescriptor());
+					if (mWallpaperChange){
+						mWallpaperChange = false;
+						if (JoyLscreenProxy.getLScreen() != null ) {
+							Log.d("joylockscreen","onWallpaper change  onLockWallpaperChange");
+							JoyLscreenProxy.getLScreen().onLockWallpaperChange(mWallpaper);
+						}
+					}
+				}
+				//End modified by zengjie for XR5429900 on 10/21/17
                 return LoaderResult.success(BitmapFactory.decodeFileDescriptor(
                         fd.getFileDescriptor(), null, options));
             } catch (OutOfMemoryError e) {
@@ -170,7 +174,9 @@
         // Called on Binder thread.
         postUpdateWallpaper();
         //Begin added by zengjie for joylockscreen task 5429900 on 9/28/17
-        mWallpaperChange = true;
+		if(SystemProperties.getBoolean("ro.tcl.lscreen", false)){
+			mWallpaperChange = true;
+		}
         //End added by zengjie for joylockscreen task 5429900 on 9/28/17
     }
 
Index: frameworks/base/packages/SystemUI/src/com/android/systemui/statusbar/phone/NotificationPanelView.java
===================================================================
--- frameworks/base/packages/SystemUI/src/com/android/systemui/statusbar/phone/NotificationPanelView.java	(revision 1283)
+++ frameworks/base/packages/SystemUI/src/com/android/systemui/statusbar/phone/NotificationPanelView.java	(revision 1284)
@@ -274,12 +274,14 @@
         mKeyguardStatusView = (KeyguardStatusView) findViewById(R.id.keyguard_status_view);
         mClockView = (TextView) findViewById(R.id.clock_view);
         //Begin added by zengjie for joylockscreen task 5429900 on 9/27/17
-        initJoyContainer();
-        if (mJoyLockscreenSupport){
-            //mClockView.setVisibility(View.GONE);
+        if(SystemProperties.getBoolean("ro.tcl.lscreen", false)){
+			initJoyContainer();
+			if (mJoyLockscreenSupport){
+				//mClockView.setVisibility(View.GONE);
+			}
+			touchSlop = android.view.ViewConfiguration.get(getContext()).getScaledTouchSlop();
         }
-		touchSlop = android.view.ViewConfiguration.get(getContext()).getScaledTouchSlop();
-        //End added by zengjie for joylockscreen task 5429900 on 9/27/17
+		//End added by zengjie for joylockscreen task 5429900 on 9/27/17
 
         mNotificationContainerParent = (NotificationsQuickSettingsContainer)
                 findViewById(R.id.notification_container_parent);
@@ -809,10 +811,11 @@
 		if (event.getAction() == MotionEvent.ACTION_DOWN) {
 
 			// add for joylockscreen
-			lastMotionEventPos = new MotionEventPos(event.getRawX(),event.getRawY());
-            // add for joylockscreen
+			if(SystemProperties.getBoolean("ro.tcl.lscreen", false)){
+				lastMotionEventPos = new MotionEventPos(event.getRawX(),event.getRawY());
+            }
+			// add for joylockscreen
 			boolean isVisible = mKeyguardBottomArea.getLockIcon().getVisibility() == View.VISIBLE;
-
             if (!isVisible) {
                 mKeyguardBottomArea.getLockIcon().setVisibility(View.VISIBLE);
             }
@@ -821,15 +824,17 @@
 
 		// add for joylockscreen
 		if (event.getAction() == MotionEvent.ACTION_UP) {
-                 //x ���ƶ����ߵ����ĵ���¼�
-                absMoveX = Math.abs(event.getRawX() - lastMotionEventPos.x);
-                absMoveY = Math.abs(event.getRawY() - lastMotionEventPos.y);
-                if ((absMoveX > touchSlop && absMoveY < touchSlop)
-                        || (absMoveX < touchSlop && absMoveY < touchSlop)) {
-                   if(lscreen != null){
-						lscreen.palyPictorialEntryAnim();
-				   }
-                } 
+                //x-ray move or just tp onclick
+				if(SystemProperties.getBoolean("ro.tcl.lscreen", false)){
+					absMoveX = Math.abs(event.getRawX() - lastMotionEventPos.x);
+					absMoveY = Math.abs(event.getRawY() - lastMotionEventPos.y);
+					if ((absMoveX > touchSlop && absMoveY < touchSlop)
+							|| (absMoveX < touchSlop && absMoveY < touchSlop)) {
+						if(lscreen != null){
+							lscreen.palyPictorialEntryAnim();
+						}
+					}
+				}
 		}
 		// add for joylockscreen
 		
@@ -1119,9 +1124,11 @@
             mKeyguardStatusBar.setAlpha(1f);
             mKeyguardStatusBar.setVisibility(keyguardShowing ? View.VISIBLE : View.INVISIBLE);
             //Begin Modify by zengjie for joylockscreen task 5429900 on 10/16/17
-            mJoyContainer.setVisibility(keyguardShowing ? View.VISIBLE : View.INVISIBLE);
-            //mNotificationStackScroller.setVisibility(keyguardShowing ? View.GONE : View.VISIBLE);
-            //End Modify by zengjie for joylockscreen task 5429900 on 10/16/17
+			if(SystemProperties.getBoolean("ro.tcl.lscreen", false)){
+				mJoyContainer.setVisibility(keyguardShowing ? View.VISIBLE : View.INVISIBLE);
+				//mNotificationStackScroller.setVisibility(keyguardShowing ? View.GONE : View.VISIBLE);
+			}
+			//End Modify by zengjie for joylockscreen task 5429900 on 10/16/17
             if (keyguardShowing && oldState != mStatusBarState) {
                 mKeyguardBottomArea.onKeyguardShowingChanged();
                 mQsContainer.hideImmediately();
Index: frameworks/base/packages/SystemUI/src/com/android/systemui/statusbar/BaseStatusBar.java
===================================================================
--- frameworks/base/packages/SystemUI/src/com/android/systemui/statusbar/BaseStatusBar.java	(revision 1283)
+++ frameworks/base/packages/SystemUI/src/com/android/systemui/statusbar/BaseStatusBar.java	(revision 1284)
@@ -647,7 +647,9 @@
             /// M: Enable this log for unusual case debug.
             /*if (DEBUG)*/ Log.d(TAG, "onNotificationPosted: " + sbn);
             //begin added by zengjie for for joylockscreen task 5429900 on 10/21/17
-            base.packages.SystemUI.src.com.android.systemui.statusbar.phone.JoyLscreenProxy.getLScreen().onNotificationPosted(sbn);
+			if(SystemProperties.getBoolean("ro.tcl.lscreen", false)){
+				base.packages.SystemUI.src.com.android.systemui.statusbar.phone.JoyLscreenProxy.getLScreen().onNotificationPosted(sbn);
+			}
             //End added by zengjie for for joylockscreen task 5429900 on 10/21/17
             if (sbn != null) {
                 mHandler.post(new Runnable() {
@@ -691,7 +693,9 @@
             /// M: Enable this log for unusual case debug.
             /*if (DEBUG)*/ Log.d(TAG, "onNotificationRemoved: " + sbn);
 			//begin added by zengjie for joylockscreen task 5429900 on 10/21/17
-			base.packages.SystemUI.src.com.android.systemui.statusbar.phone.JoyLscreenProxy.getLScreen().onNotificationRemoved(sbn);
+			if(SystemProperties.getBoolean("ro.tcl.lscreen", false)){
+				base.packages.SystemUI.src.com.android.systemui.statusbar.phone.JoyLscreenProxy.getLScreen().onNotificationRemoved(sbn);
+			}
 			//end added by zengjie for joylockscreen task 5429900 on 10/21/17
             if (sbn != null) {
                 final String key = sbn.getKey();
@@ -2375,20 +2379,25 @@
                 }
             }
             //Begin added by zengjie for joylockscreen task 5429900 on 10/16/17
-            if (onKeyguard) {
-                entry.row.setVisibility(View.GONE);
-            } else {
-                entry.row.setVisibility(View.VISIBLE);
-            }
+            if(SystemProperties.getBoolean("ro.tcl.lscreen", false)){
+				if (onKeyguard) {
+					entry.row.setVisibility(View.GONE);
+				} else {
+					entry.row.setVisibility(View.VISIBLE);
+				}
+			}
             //End added by zengjie for joylockscreen task 5429900 on 10/16/17
 		}
         //Begin modified by zengjie for joylockscreen task 5429900 on 10/16/17
-        //mStackScroller.updateOverflowContainerVisibility(onKeyguard
-        //                && mKeyguardIconOverflowContainer.getIconsView().getChildCount() > 0);
-        if (!onKeyguard) {
+        if(SystemProperties.getBoolean("ro.tcl.lscreen", false)){
+			if (!onKeyguard) {
             mStackScroller.updateOverflowContainerVisibility(onKeyguard
                     && mKeyguardIconOverflowContainer.getIconsView().getChildCount() > 0);
-        }
+			}
+		} else {
+			mStackScroller.updateOverflowContainerVisibility(onKeyguard
+                        && mKeyguardIconOverflowContainer.getIconsView().getChildCount() > 0);	
+		}
         //End modified by zengjie for joylockscreen task 5429900 on 10/16/17
 
         mStackScroller.changeViewPosition(mDismissView, mStackScroller.getChildCount() - 1);
Index: frameworks/base/packages/SystemUI/src/com/android/systemui/keyguard/KeyguardViewMediator.java
===================================================================
--- frameworks/base/packages/SystemUI/src/com/android/systemui/keyguard/KeyguardViewMediator.java	(revision 1283)
+++ frameworks/base/packages/SystemUI/src/com/android/systemui/keyguard/KeyguardViewMediator.java	(revision 1284)
@@ -632,19 +632,21 @@
                 mUpdateMonitor.reportSuccessfulStrongAuthUnlockAttempt();
             }
             //Begin added by zengjie for joylockscreen task 5429900 on 10/19/17
-            if (JoyLscreenProxy.getLScreen() != null) {
-                JoyLscreenProxy.getLScreen().notifyUnlock();
-                /**
-                 * return the result of pattern/pin/passwork validation,when joy lockscreen
-                 * want to call its setting
-                 */
-                if (JoyLscreenProxy.getUnlockResultCallBack() != null){
-                    //unlock success and notify joy lockscreen
-                    Log.d("jiedebug","keyguardDone notify  unlockSuccess");
-                    JoyLscreenProxy.getUnlockResultCallBack().unlockSuccess();
-                    JoyLscreenProxy.removeUnlockCallBack();
-                }
-            }
+			if(SystemProperties.getBoolean("ro.tcl.lscreen", false)){
+				if (JoyLscreenProxy.getLScreen() != null) {
+					JoyLscreenProxy.getLScreen().notifyUnlock();
+					/**
+					 * return the result of pattern/pin/passwork validation,when joy lockscreen
+					 * want to call its setting
+					 */
+					if (JoyLscreenProxy.getUnlockResultCallBack() != null){
+						//unlock success and notify joy lockscreen
+						Log.d("jiedebug","keyguardDone notify  unlockSuccess");
+						JoyLscreenProxy.getUnlockResultCallBack().unlockSuccess();
+						JoyLscreenProxy.removeUnlockCallBack();
+					}
+				}
+			}
             //End added by zengjie for joylockscreen task 5429900 on 10/19/17
         }
 
Index: frameworks/base/packages/SystemUI/assets/LScreen.apk
===================================================================
Cannot display: file marked as a binary type.
svn:mime-type = application/octet-stream
